module.exports=[843793,67982,828189,e=>{"use strict";let n;var t=e.i(750227),a=e.i(857764),i=e.i(784941);let r={previewFeatures:[],clientVersion:"7.3.0",engineVersion:"9d6ad21cbbceab97458517b147a6a09ff43aa735",activeProvider:"postgresql",inlineSchema:'// This is your Prisma schema file,\n// learn more about it in the docs: https://pris.ly/d/prisma-schema\n\n// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?\n// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init\n\ngenerator client {\n  provider = "prisma-client"\n  output   = "../src/generated/prisma"\n}\n\ndatasource db {\n  provider = "postgresql"\n  schemas  = ["public", "finance"]\n}\n\nenum RoleScope {\n  SYSTEM\n  AGENCY\n  SUBACCOUNT\n\n  @@schema("public")\n}\n\n// Stripe Business Type:  "company" | "government_entity" | "individual" | "non_profit"\nenum EntityType {\n  INDIVIDUAL\n  COMPANY\n  NON_PROFIT\n  GOVERNMENT_ENTITY\n\n  @@map("Entity")\n  @@schema("public")\n}\n\nenum SubscriptionStatus {\n  ACTIVE\n  PAST_DUE\n  CANCELED\n  TRIALING\n  INCOMPLETE\n  UNPAID\n\n  @@schema("public")\n}\n\nenum ApiKeyKind {\n  USER\n  AGENCY\n  SUBACCOUNT\n\n  @@schema("public")\n}\n\nenum Icon {\n  settings\n  chart\n  calendar\n  check\n  chip\n  compass\n  database\n  flag\n  home\n  info\n  link\n  lock\n  messages\n  notification\n  payment\n  power\n  receipt\n  shield\n  star\n  tune\n  videorecorder\n  wallet\n  warning\n  headphone\n  send\n  pipelines\n  person\n  category\n  contact\n  clipboardIcon\n  finance\n  apps\n  dashboard\n  rocket\n  users\n  building\n  creditCard\n  listTree\n  fileText\n  sparkles\n  layers\n  gitBranch\n  barChart3\n  image\n\n  @@schema("public")\n}\n\nmodel User {\n  id            String    @id @default(uuid())\n  name          String\n  firstName     String?\n  lastName      String?\n  email         String    @unique\n  emailVerified DateTime?\n  password      String?\n  avatarUrl     String?   @db.Text\n  createdAt     DateTime  @default(now())\n  updatedAt     DateTime  @updatedAt\n\n  // Stripe customer ID - 1 User = 1 Customer Account\n  customerId String? @unique\n\n  // Subscription info (false = already used trial)\n  trialEligible  Boolean         @default(true)\n  TermsAgreement TermsAgreement?\n\n  AgencyMemberships     AgencyMembership[]\n  SubAccountMemberships SubAccountMembership[]\n  Authenticators        Authenticator[]\n\n  Ticket             Ticket[]\n  Notification       Notification[]\n  accounts           Account[]\n  sessions           Session[]\n  Passkeys           Passkey[]\n  MFAChallenges      MFAChallenge[]\n  MFAMethods         MFAMethod[]\n  SSOUserMappings    SSOUserMapping[]\n  FeaturePreferences FeaturePreference[]\n\n  ApiKeys            ApiKey[]\n  IntegrationApiKeys IntegrationApiKey[]\n  SupportTickets     SupportTicket[]\n\n  @@schema("public")\n}\n\n// ========================================\n// Terms of Service, Cookie Consent, Privacy Policy, Subscription Agreements, Data Processing Agreements\n// ======================================\n// Additional User Models\nmodel TermsAgreement {\n  id                         String    @id @default(uuid())\n  userId                     String    @unique\n  agreedToThirdPartyServices Boolean   @default(false)\n  thirdPartyServicesAgreedAt DateTime?\n  consentToCookies           Boolean   @default(false)\n  cookiesConsentAt           DateTime?\n  agreedToPrivacy            Boolean   @default(false)\n  privacyAgreedAt            DateTime?\n  agreedToServiceTerms       Boolean   @default(false)\n  serviceTermsAgreedAt       DateTime?\n  agreedToMarketing          Boolean   @default(false)\n  marketingAgreedAt          DateTime?\n  agreedToTermsConditions    Boolean   @default(false)\n  termsConditionsAgreedAt    DateTime?\n  agreedToDataProcessing     Boolean   @default(false)\n  dataProcessingAgreedAt     DateTime?\n  agreedToRetentionPolicy    Boolean   @default(false)\n  andRetentionPolicyAgreedAt DateTime?\n  agreedToRefundPolicy       Boolean   @default(false)\n  refundPolicyAgreedAt       DateTime?\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  User User @relation(fields: [userId], references: [id], onDelete: Cascade)\n\n  @@schema("public")\n}\n\nmodel Authenticator {\n  credentialID         String  @unique\n  userId               String\n  providerAccountId    String\n  credentialPublicKey  String\n  counter              Int\n  credentialDeviceType String\n  credentialBackedUp   Boolean\n  transports           String?\n\n  User User @relation(fields: [userId], references: [id], onDelete: Cascade)\n\n  @@id([userId, credentialID])\n  @@schema("public")\n}\n\nmodel Account {\n  id                String  @id @default(uuid())\n  userId            String\n  type              String\n  provider          String\n  providerAccountId String\n  refresh_token     String? @db.Text\n  access_token      String? @db.Text\n  expires_at        Int?\n  token_type        String?\n  scope             String?\n  id_token          String? @db.Text\n  session_state     String?\n\n  user User @relation(fields: [userId], references: [id], onDelete: Cascade)\n\n  @@unique([provider, providerAccountId])\n  @@index([userId])\n  @@schema("public")\n}\n\nmodel Session {\n  id           String   @id @default(uuid())\n  sessionToken String   @unique\n  userId       String\n  expires      DateTime\n  createdAt    DateTime @default(now())\n  updatedAt    DateTime @updatedAt\n\n  // Context switching\n  activeAgencyId     String?\n  activeSubAccountId String?\n\n  // Security tracking\n  deviceName   String?\n  ipAddress    String?\n  userAgent    String?   @db.Text\n  lastActiveAt DateTime  @default(now())\n  revokedAt    DateTime?\n\n  user User @relation(fields: [userId], references: [id], onDelete: Cascade)\n\n  @@index([userId])\n  @@index([activeAgencyId])\n  @@index([activeSubAccountId])\n  @@index([sessionToken])\n  @@schema("public")\n}\n\nmodel ApiKey {\n  id   String     @id @default(uuid())\n  kind ApiKeyKind @default(USER)\n  name String\n\n  // Token format: autl_<prefix>_<secret>\n  prefix     String @unique\n  secretHash String @db.Text\n\n  // Ownership and scoping\n  ownerUserId String\n  ownerUser   User   @relation(fields: [ownerUserId], references: [id], onDelete: Cascade)\n\n  // Scope binding\n  agencyId     String?\n  subAccountId String?\n\n  Agency     Agency?     @relation(fields: [agencyId], references: [id], onDelete: Cascade)\n  SubAccount SubAccount? @relation(fields: [subAccountId], references: [id], onDelete: Cascade)\n\n  // Authorization model (reuses registry permission keys)\n  permissionKeys       String[] @default([])\n  allowedSubAccountIds String[] @default([])\n\n  // Lifecycle\n  createdAt  DateTime  @default(now())\n  updatedAt  DateTime  @updatedAt\n  lastUsedAt DateTime?\n  expiresAt  DateTime?\n  revokedAt  DateTime?\n\n  @@index([ownerUserId])\n  @@index([agencyId])\n  @@index([subAccountId])\n  @@schema("public")\n}\n\nmodel VerificationToken {\n  identifier String\n  token      String   @unique\n  expires    DateTime\n\n  @@unique([identifier, token])\n  @@schema("public")\n}\n\nmodel TaxIdentity {\n  id              String      @id @default(uuid())\n  agencyId        String?     @unique\n  subAccountId    String?     @unique\n  entityType      EntityType?\n  entityStructure String?     @default("") // e.g., Sole Proprietorship, Partnership, Corporation, LLC, etc.\n\n  legalName   String\n  countryCode String // ISO-2\n  state       String? // State/Province (optional)\n\n  // BRN/SSM/NRIC/etc (optional)\n  idType   String?\n  idNumber String?\n\n  // TIN (optional)\n  tinType   String?\n  tinNumber String?\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  Agency                   Agency?                   @relation(map: "FK_AGENCY_TAXIDENTITY")\n  SubAccount               SubAccount?               @relation(map: "FK_SUBACCOUNT_TAXIDENTITY")\n  TaxObligations           TaxObligation[]\n  IndustryClassifications  IndustryClassification[]\n  TaxExemptionCertificates TaxExemptionCertificate[]\n  EInvoices                EInvoice[]\n\n  @@index([countryCode])\n  @@index([tinNumber])\n  @@schema("public")\n}\n\nmodel TaxObligation {\n  id                String    @id @default(uuid())\n  taxIdentityId     String\n  taxCategory       String    @default("") // e.g., VAT, GST, SST, etc.\n  taxCode           String?   @default("") // Tax product/service code (e.g., TX-101, 9971)\n  taxRegistrationNo String // Tax registration number\n  taxExmptionNo     String? // Tax exemption number\n  taxRate           Decimal   @default(0) @db.Decimal(5, 4) // Tax rate percentage (e.g., 0.06 for 6%)\n  description       String\n  jurisdiction      String?   @default("") // State/Province for multi-level tax (e.g., "Selangor", "California")\n  taxAuthority      String?   @default("") // Tax authority name (e.g., "Royal Malaysian Customs")\n  effectiveFrom     DateTime  @default(now()) // When this rate/obligation starts\n  effectiveTo       DateTime? // When this rate/obligation ends (null = ongoing)\n  isActive          Boolean   @default(true) // Whether this obligation is currently active\n  dueDate           DateTime // Next filing/payment due date\n  frequency         String // Filing frequency (MONTHLY, QUARTERLY, ANNUALLY)\n  createdAt         DateTime  @default(now())\n  updatedAt         DateTime  @updatedAt\n\n  TaxIdentity TaxIdentity @relation(fields: [taxIdentityId], references: [id], onDelete: Cascade)\n\n  @@unique([taxIdentityId, taxCategory, jurisdiction])\n  @@index([taxIdentityId])\n  @@index([isActive])\n  @@index([effectiveFrom, effectiveTo])\n  @@schema("public")\n}\n\nmodel Agency {\n  id               String                @id @default(uuid())\n  connectAccountId String?               @default("")\n  customerId       String                @default("")\n  taxIdentityId    String?               @unique\n  name             String\n  agencyLogo       String                @default("") @db.Text\n  companyEmail     String                @db.Text\n  companyPhone     String\n  whiteLabel       Boolean               @default(true)\n  line1            String\n  line2            String?               @default("")\n  city             String\n  postalCode       String\n  state            String\n  country          String\n  goal             Int                   @default(5)\n  createdAt        DateTime              @default(now())\n  updatedAt        DateTime              @updatedAt\n  TaxIdentity      TaxIdentity?          @relation(fields: [taxIdentityId], references: [id], onDelete: SetNull)\n  SubAccount       SubAccount[]\n  SidebarOption    AgencySidebarOption[]\n  Invitation       Invitation[]\n  Notification     Notification[]\n  Subscription     Subscription?\n  AddOns           AddOns[]\n\n  // New RBAC relations\n  Roles                       Role[]\n  Memberships                 AgencyMembership[]\n  UsageTracking               UsageTracking[]\n  EntitlementOverrides        EntitlementOverride[]\n  FeatureCreditBalances       FeatureCreditBalance[]\n  SSOConnection               SSOConnection?\n  GLConfiguration             GLConfiguration?\n  AccountBalances             AccountBalance[]\n  ChartOfAccounts             ChartOfAccount[]\n  AgencyGroupCOAs             AgencyGroupCOA[]\n  ConsolidationMappings       ConsolidationMapping[]\n  FinancialPeriods            FinancialPeriod[]\n  JournalEntries              JournalEntry[]\n  ExchangeRates               ExchangeRate[]\n  CurrencyRevaluations        CurrencyRevaluation[]\n  PostingRules                PostingRule[]\n  PostingTemplates            PostingTemplate[]\n  Reconciliations             Reconciliation[]\n  ReconciliationRules         ReconciliationRule[]\n  IntercompanyReconciliations IntercompanyReconciliation[]\n  ConsolidationSnapshots      ConsolidationSnapshot[]\n  SubAccountOwnerships        SubAccountOwnership[]\n  SavedReports                SavedReport[]\n\n  // Open Item & Subledger Management\n  SubLedgers           SubLedger[]\n  Vendors              Vendor[]\n  Customers            Customer[]\n  GLConfigurationLocks GLConfigurationLock[]\n  OpenItems            OpenItem[]\n\n  ApiKeys                ApiKey[]\n  IntegrationApiKeys     IntegrationApiKey[]\n  IntegrationConnections IntegrationConnection[]\n  AppInstallations       AppInstallation[]\n  SupportTickets         SupportTicket[]\n  Settings               AgencySettings?\n\n  // Enhanced FI-GL integration\n  AutomationAccountMappings AutomationAccountMapping[]\n  IntegrationConnectors     IntegrationConnector[]\n  FanoutLogs                FanoutLog[]\n  Templates                 Template[]\n  JournalUploadBatches      JournalUploadBatch[]\n\n  @@index([taxIdentityId])\n  @@schema("public")\n}\n\nmodel SubAccount {\n  id               String                    @id @default(uuid())\n  connectAccountId String?                   @default("")\n  taxIdentityId    String?                   @unique\n  name             String\n  subAccountLogo   String                    @db.Text\n  createdAt        DateTime                  @default(now())\n  updatedAt        DateTime                  @updatedAt\n  companyEmail     String                    @db.Text\n  companyPhone     String\n  goal             Int                       @default(5)\n  line1            String\n  line2            String?                   @default("")\n  city             String\n  postalCode       String\n  state            String\n  country          String\n  agencyId         String\n  Agency           Agency                    @relation(fields: [agencyId], references: [id], onDelete: Cascade)\n  Settings         SubAccountSettings?\n  TaxIdentity      TaxIdentity?              @relation(fields: [taxIdentityId], references: [id], map: "FK_SUBACCOUNT_TAXIDENTITY")\n  SidebarOption    SubAccountSidebarOption[]\n\n  Funnels      Funnel[]\n  Media        Media[]\n  Contact      Contact[]\n  Trigger      Trigger[]\n  Automation   Automation[]\n  Pipeline     Pipeline[]\n  Tags         Tag[]\n  Notification Notification[]\n\n  // New RBAC relations\n  Roles                 Role[]\n  Memberships           SubAccountMembership[]\n  ChartOfAccounts       ChartOfAccount[]\n  ConsolidationMappings ConsolidationMapping[]\n  FinancialPeriods      FinancialPeriod[]\n  JournalEntries        JournalEntry[]\n  CurrencyRevaluations  CurrencyRevaluation[]\n  PostingRules          PostingRule[]\n  Reconciliations       Reconciliation[]\n  ICReconciliations1    IntercompanyReconciliation[] @relation("ICRecon1")\n  ICReconciliations2    IntercompanyReconciliation[] @relation("ICRecon2")\n  SubAccountOwnership   SubAccountOwnership[]\n  SavedReports          SavedReport[]\n  OpenItems             OpenItem[]\n  GLConfiguration       GLConfigurationSubAccount? // SKB1-style SubAccount-level GL config\n  AccountBalances       AccountBalance[]\n  SubLedgers            SubLedger[]\n  Vendors               Vendor[]\n  Customers             Customer[]\n  GLConfigurationLocks  GLConfigurationLock[]\n\n  ApiKeys                ApiKey[]\n  IntegrationApiKeys     IntegrationApiKey[]\n  IntegrationConnections IntegrationConnection[]\n  AppInstallations       AppInstallation[]\n  SupportTickets         SupportTicket[]\n\n  // Enhanced FI-GL integration\n  AutomationAccountMappings AutomationAccountMapping[]\n  JournalUploadBatches      JournalUploadBatch[]\n\n  @@index([agencyId])\n  @@index([taxIdentityId])\n  @@schema("public")\n}\n\n// ========================================\n// Settings (Agency/SubAccount)\n// ========================================\nmodel AgencySettings {\n  id                               String  @id @default(uuid())\n  agencyId                         String  @unique\n  // If true, SUBACCOUNT effective entitlements inherit AGENCY entitlements unless overridden.\n  entitlementsInheritToSubaccounts Boolean @default(true)\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  Agency Agency @relation(fields: [agencyId], references: [id], onDelete: Cascade)\n\n  @@schema("public")\n}\n\nmodel SubAccountSettings {\n  id                            String   @id @default(uuid())\n  subAccountId                  String   @unique\n  // Optional override. null = follow AgencySettings / env default.\n  entitlementsInheritFromAgency Boolean?\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  SubAccount SubAccount @relation(fields: [subAccountId], references: [id], onDelete: Cascade)\n\n  @@schema("public")\n}\n\nmodel Tag {\n  id           String   @id @default(uuid())\n  name         String\n  color        String\n  createdAt    DateTime @default(now())\n  updatedAt    DateTime @updatedAt\n  subAccountId String\n\n  SubAccount SubAccount @relation(fields: [subAccountId], references: [id], onDelete: Cascade)\n  Ticket     Ticket[]\n\n  @@index([subAccountId])\n  @@schema("public")\n}\n\nmodel Pipeline {\n  id           String     @id @default(uuid())\n  name         String\n  createdAt    DateTime   @default(now())\n  updatedAt    DateTime   @updatedAt\n  Lane         Lane[]\n  SubAccount   SubAccount @relation(fields: [subAccountId], references: [id], onDelete: Cascade)\n  subAccountId String\n\n  @@index([subAccountId])\n  @@schema("public")\n}\n\nmodel Lane {\n  id         String   @id @default(uuid())\n  name       String\n  createdAt  DateTime @default(now())\n  updatedAt  DateTime @updatedAt\n  Pipeline   Pipeline @relation(fields: [pipelineId], references: [id], onDelete: Cascade)\n  pipelineId String\n  Tickets    Ticket[]\n  order      Int      @default(0)\n\n  @@index([pipelineId])\n  @@schema("public")\n}\n\nmodel Ticket {\n  id          String   @id @default(uuid())\n  name        String\n  createdAt   DateTime @default(now())\n  updatedAt   DateTime @updatedAt\n  laneId      String\n  order       Int      @default(0)\n  Lane        Lane     @relation(fields: [laneId], references: [id], onDelete: Cascade)\n  value       Decimal?\n  description String?\n  Tags        Tag[]\n\n  customerId String?\n  Customer   Contact? @relation(fields: [customerId], references: [id], onDelete: SetNull)\n\n  assignedUserId String?\n  Assigned       User?   @relation(fields: [assignedUserId], references: [id], onDelete: SetNull)\n\n  @@index([laneId])\n  @@index([customerId])\n  @@index([assignedUserId])\n  @@schema("public")\n}\n\nenum TriggerTypes {\n  CONTACT_FORM\n\n  @@schema("public")\n}\n\nmodel Trigger {\n  id           String       @id @default(uuid())\n  name         String\n  type         TriggerTypes\n  createdAt    DateTime     @default(now())\n  updatedAt    DateTime     @updatedAt\n  subAccountId String\n  Subaccount   SubAccount   @relation(fields: [subAccountId], references: [id], onDelete: Cascade)\n  Automations  Automation[]\n\n  @@index([subAccountId])\n  @@schema("public")\n}\n\nmodel Automation {\n  id                 String               @id @default(uuid())\n  name               String\n  createdAt          DateTime             @default(now())\n  updatedAt          DateTime             @updatedAt\n  triggerId          String?\n  published          Boolean              @default(false)\n  Trigger            Trigger?             @relation(fields: [triggerId], references: [id], onDelete: Cascade)\n  subAccountId       String\n  Subaccount         SubAccount           @relation(fields: [subAccountId], references: [id], onDelete: Cascade)\n  Action             Action[]\n  AutomationInstance AutomationInstance[]\n\n  @@index([triggerId])\n  @@index([subAccountId])\n  @@schema("public")\n}\n\nmodel AutomationInstance {\n  id           String     @id @default(uuid())\n  createdAt    DateTime   @default(now())\n  updatedAt    DateTime   @updatedAt\n  automationId String\n  Automation   Automation @relation(fields: [automationId], references: [id], onDelete: Cascade)\n  active       Boolean    @default(false)\n\n  @@index([automationId])\n  @@schema("public")\n}\n\nenum ActionType {\n  CREATE_CONTACT\n\n  @@schema("public")\n}\n\nmodel Action {\n  id           String     @id @default(uuid())\n  name         String\n  type         ActionType\n  createdAt    DateTime   @default(now())\n  updatedAt    DateTime   @updatedAt\n  automationId String\n  order        Int\n  Automation   Automation @relation(fields: [automationId], references: [id], onDelete: Cascade)\n  laneId       String     @default("0")\n\n  @@index([automationId])\n  @@schema("public")\n}\n\nmodel Contact {\n  id           String   @id @default(uuid())\n  name         String\n  email        String\n  createdAt    DateTime @default(now())\n  updatedAt    DateTime @updatedAt\n  subAccountId String\n\n  Subaccount SubAccount @relation(fields: [subAccountId], references: [id], onDelete: Cascade)\n  Ticket     Ticket[]\n\n  @@index([subAccountId])\n  @@schema("public")\n}\n\nmodel Media {\n  id           String     @id @default(uuid())\n  type         String?\n  name         String\n  link         String     @unique\n  subAccountId String\n  createdAt    DateTime   @default(now())\n  updatedAt    DateTime   @updatedAt\n  Subaccount   SubAccount @relation(fields: [subAccountId], references: [id], onDelete: Cascade)\n\n  @@index([subAccountId])\n  @@schema("public")\n}\n\nmodel Funnel {\n  id            String       @id @default(uuid())\n  name          String\n  createdAt     DateTime     @default(now())\n  updatedAt     DateTime     @updatedAt\n  description   String?\n  published     Boolean      @default(false)\n  subDomainName String?      @unique\n  favicon       String?      @db.Text\n  subAccountId  String\n  SubAccount    SubAccount   @relation(fields: [subAccountId], references: [id], onDelete: Cascade)\n  FunnelPages   FunnelPage[]\n  liveProducts  String?      @default("[]")\n  ClassName     ClassName[]\n\n  @@index([subAccountId])\n  @@schema("public")\n}\n\nmodel ClassName {\n  id         String   @id @default(uuid())\n  name       String\n  color      String\n  createdAt  DateTime @default(now())\n  updatedAt  DateTime @updatedAt\n  funnelId   String\n  customData String?  @db.Text\n  Funnel     Funnel   @relation(fields: [funnelId], references: [id], onDelete: Cascade)\n\n  @@index([funnelId])\n  @@schema("public")\n}\n\nmodel FunnelPage {\n  id           String   @id @default(uuid())\n  name         String\n  pathName     String   @default("")\n  createdAt    DateTime @default(now())\n  updatedAt    DateTime @updatedAt\n  visits       Int      @default(0)\n  content      String?  @db.Text\n  order        Int\n  previewImage String?  @db.Text\n  funnelId     String\n  Funnel       Funnel   @relation(fields: [funnelId], references: [id], onDelete: Cascade)\n\n  @@index([funnelId])\n  @@schema("public")\n}\n\nmodel AgencySidebarOption {\n  id        String   @id @default(uuid())\n  name      String   @default("Menu")\n  link      String   @default("#")\n  icon      Icon     @default(info)\n  agencyId  String\n  Agency    Agency?  @relation(fields: [agencyId], references: [id], onDelete: Cascade)\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  @@index([agencyId])\n  @@schema("public")\n}\n\nmodel SubAccountSidebarOption {\n  id           String      @id @default(uuid())\n  name         String      @default("Menu")\n  link         String      @default("#")\n  icon         Icon        @default(info)\n  createdAt    DateTime    @default(now())\n  updatedAt    DateTime    @updatedAt\n  SubAccount   SubAccount? @relation(fields: [subAccountId], references: [id], onDelete: Cascade)\n  subAccountId String?\n\n  @@index([subAccountId])\n  @@schema("public")\n}\n\nmodel SidebarOption {\n  id        String   @id @default(uuid())\n  name      String   @default("Menu")\n  link      String   @default("#")\n  icon      Icon     @default(info)\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n  order     Int      @default(0)\n  // Module as a sidebar grouping label\n  module    String?\n  subModule String?\n\n  // Scope flags\n  agency     Boolean @default(false)\n  subaccount Boolean @default(false)\n  user       Boolean @default(false)\n\n  OptionLinks SidebarOptionLink[]\n\n  @@schema("public")\n}\n\nmodel SidebarOptionLink {\n  id        String   @id @default(uuid())\n  name      String   @default("Menu")\n  link      String   @default("#")\n  icon      Icon?\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n  order     Int      @default(0)\n  feature   String?\n\n  // Scope flags\n  agency     Boolean @default(false)\n  subaccount Boolean @default(false)\n  user       Boolean @default(false)\n\n  sidebarOptionId String\n  SidebarOption   SidebarOption @relation(fields: [sidebarOptionId], references: [id], onDelete: Cascade)\n\n  @@schema("public")\n}\n\nenum InvitationStatus {\n  ACCEPTED\n  REVOKED\n  PENDING\n\n  @@schema("public")\n}\n\nmodel Invitation {\n  id       String           @id @default(uuid())\n  email    String           @unique\n  agencyId String\n  Agency   Agency           @relation(fields: [agencyId], references: [id], onDelete: Cascade)\n  status   InvitationStatus @default(PENDING)\n  role     String           @default("SUBACCOUNT_USER")\n\n  @@index([agencyId])\n  @@schema("public")\n}\n\nmodel Notification {\n  id           String  @id @default(uuid())\n  notification String\n  agencyId     String\n  subAccountId String?\n  userId       String\n\n  User       User        @relation(fields: [userId], references: [id], onDelete: Cascade)\n  Agency     Agency      @relation(fields: [agencyId], references: [id], onDelete: Cascade)\n  SubAccount SubAccount? @relation(fields: [subAccountId], references: [id], onDelete: Cascade)\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  @@index([agencyId])\n  @@index([subAccountId])\n  @@index([userId])\n  @@schema("public")\n}\n\nenum Plan {\n  price_1SxrtiJglUPlULDQ6Q47g9ua\n  price_1SxrtiJglUPlULDQNfTnrEaH\n  price_1SxrtjJglUPlULDQgtNaxHa9\n  price_1SxrtkJglUPlULDQt7hxe8OD\n  price_1SxrtlJglUPlULDQgA5RR4VG\n  price_1SxrtnJglUPlULDQhNpJz0OW\n  price_1SxrtnJglUPlULDQ96ygSCfB\n\n  @@schema("public")\n}\n\nmodel Subscription {\n  id                   String   @id @default(uuid())\n  createdAt            DateTime @default(now())\n  updatedAt            DateTime @updatedAt\n  plan                 Plan?\n  price                String?\n  active               Boolean  @default(false)\n  priceId              String\n  customerId           String\n  currentPeriodEndDate DateTime\n  subscritiptionId     String   @unique\n\n  // Enhanced fields\n  status            SubscriptionStatus @default(ACTIVE)\n  cancelAtPeriodEnd Boolean            @default(false)\n  canceledAt        DateTime?\n  trialEndedAt      DateTime?\n\n  agencyId String? @unique\n  Agency   Agency? @relation(fields: [agencyId], references: [id], onDelete: SetNull)\n\n  @@index([customerId])\n  @@index([status])\n  @@schema("public")\n}\n\nmodel AddOns {\n  id        String   @id @default(uuid())\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n  name      String\n  active    Boolean  @default(false)\n  priceId   String   @unique\n  agencyId  String?\n  Agency    Agency?  @relation(fields: [agencyId], references: [id])\n\n  @@index([agencyId])\n  @@schema("public")\n}\n\n// ========================================\n// RBAC MODELS\n// ========================================\n\nmodel Permission {\n  id          String   @id @default(uuid())\n  key         String   @unique\n  name        String\n  description String?  @db.Text\n  category    String\n  isSystem    Boolean  @default(true)\n  createdAt   DateTime @default(now())\n\n  Roles RolePermission[]\n\n  @@index([category])\n  @@index([isSystem])\n  @@schema("public")\n}\n\nmodel RolePermission {\n  id           String   @id @default(uuid())\n  roleId       String\n  permissionId String\n  granted      Boolean  @default(true)\n  createdAt    DateTime @default(now())\n\n  Role       Role       @relation(fields: [roleId], references: [id], onDelete: Cascade)\n  Permission Permission @relation(fields: [permissionId], references: [id], onDelete: Cascade)\n\n  @@unique([roleId, permissionId])\n  @@index([roleId])\n  @@index([permissionId])\n  @@schema("public")\n}\n\nmodel Role {\n  id           String    @id @default(uuid())\n  name         String\n  agencyId     String?\n  subAccountId String?\n  scope        RoleScope @default(AGENCY)\n  isSystem     Boolean   @default(false)\n  createdAt    DateTime  @default(now())\n  updatedAt    DateTime  @updatedAt\n\n  Agency                Agency?                @relation(fields: [agencyId], references: [id], onDelete: Cascade)\n  SubAccount            SubAccount?            @relation(fields: [subAccountId], references: [id], onDelete: Cascade)\n  Permissions           RolePermission[]\n  AgencyMemberships     AgencyMembership[]\n  SubAccountMemberships SubAccountMembership[]\n\n  @@unique([agencyId, subAccountId, name])\n  @@index([agencyId])\n  @@index([subAccountId])\n  @@index([scope])\n  @@index([isSystem])\n  @@schema("public")\n}\n\nmodel AgencyMembership {\n  id        String   @id @default(uuid())\n  userId    String\n  agencyId  String\n  roleId    String\n  isActive  Boolean  @default(true)\n  isPrimary Boolean  @default(false)\n  joinedAt  DateTime @default(now())\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  User   User   @relation(fields: [userId], references: [id], onDelete: Cascade)\n  Agency Agency @relation(fields: [agencyId], references: [id], onDelete: Cascade)\n  Role   Role   @relation(fields: [roleId], references: [id], onDelete: Restrict)\n\n  @@unique([userId, agencyId])\n  @@index([userId])\n  @@index([agencyId])\n  @@index([roleId])\n  @@index([isActive])\n  @@schema("public")\n}\n\nmodel SubAccountMembership {\n  id           String   @id @default(uuid())\n  userId       String\n  subAccountId String\n  roleId       String\n  isActive     Boolean  @default(true)\n  joinedAt     DateTime @default(now())\n  createdAt    DateTime @default(now())\n  updatedAt    DateTime @updatedAt\n\n  User       User       @relation(fields: [userId], references: [id], onDelete: Cascade)\n  SubAccount SubAccount @relation(fields: [subAccountId], references: [id], onDelete: Cascade)\n  Role       Role       @relation(fields: [roleId], references: [id], onDelete: Restrict)\n\n  @@unique([userId, subAccountId])\n  @@index([userId])\n  @@index([subAccountId])\n  @@index([roleId])\n  @@index([isActive])\n  @@schema("public")\n}\n\n// ========================================\n// ENTITLEMENT MODELS\n// ========================================\n// --------------------\n// Enums (needed)\n// --------------------\n\nenum FeatureValueType {\n  BOOLEAN\n  INTEGER\n  DECIMAL\n  STRING\n  JSON\n\n  @@schema("public")\n}\n\nenum MeteringType {\n  NONE\n  COUNT\n  SUM\n\n  @@schema("public")\n}\n\nenum MeterAggregation {\n  COUNT\n  SUM\n  LAST\n\n  @@schema("public")\n}\n\nenum MeteringScope {\n  AGENCY\n  SUBACCOUNT\n\n  @@schema("public")\n}\n\nenum UsagePeriod {\n  DAILY\n  WEEKLY\n  MONTHLY\n  YEARLY\n\n  @@schema("public")\n}\n\nenum LimitEnforcement {\n  HARD\n  SOFT\n\n  @@schema("public")\n}\n\nenum OverageMode {\n  NONE\n  INTERNAL_CREDITS\n  STRIPE_METERED\n\n  @@schema("public")\n}\n\nenum CreditLedgerType {\n  GRANT\n  TOPUP\n  CONSUME\n  ADJUST\n  EXPIRE\n\n  @@schema("public")\n}\n\n// --------------------\n// Entitlements (enhanced)\n// --------------------\n\nmodel EntitlementFeature {\n  id          String           @id @default(uuid())\n  key         String           @unique\n  name        String\n  description String?          @db.Text\n  category    String\n  valueType   FeatureValueType\n  unit        String?\n\n  metering        MeteringType     @default(NONE) // √ MeteringType\n  aggregation     MeterAggregation @default(COUNT) // √ MeterAggregation\n  scope           MeteringScope    @default(AGENCY) // √ MeteringScope\n  period          UsagePeriod? // √ UsagePeriod?\n  isToggleable    Boolean          @default(false) // Can users toggle this feature?\n  defaultEnabled  Boolean          @default(true) // Default state when first enabled\n  requiresRestart Boolean          @default(false) // UI hint: needs page refresh\n  displayOrder    Int              @default(0) // Sort order in UI\n\n  // UI metadata\n  displayName    String? // User-friendly name (if different from \'name\')\n  icon           String? // Icon identifier for UI\n  helpText       String? @db.Text // Tooltip/help text\n  // Credits/top-up capability for this feature (optional)\n  creditEnabled  Boolean @default(false) // √ Boolean\n  creditUnit     String? // √ String?\n  creditExpires  Boolean @default(false) // √ Boolean\n  creditPriority Int     @default(100) // √ Int (lower = consume first; e.g., TOPUP before GRANT)\n\n  // Optional Stripe mapping (only if you later invoice usage via Stripe meters)\n  stripeMeterId        String? // √ String?\n  stripeMeterEventName String? // √ String?\n  stripeUsagePriceId   String? // √ String?\n  stripeTopUpPriceId   String? // √ String?\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt // √ DateTime\n\n  PlanFeatures         PlanFeature[]\n  EntitlementOverrides EntitlementOverride[]\n\n  @@index([category])\n  @@index([valueType])\n  @@index([metering])\n  @@index([scope])\n  @@schema("public")\n}\n\nmodel EntitlementOverride {\n  id String @id @default(uuid())\n\n  // Scope (future-proof for subaccount-level subscription)\n  scope        MeteringScope @default(AGENCY) // √ MeteringScope\n  agencyId     String\n  subAccountId String? // √ String?\n\n  featureKey String\n\n  // Override values (delta-first approach)\n  isEnabled   Boolean? // √ Boolean?\n  isUnlimited Boolean? // √ Boolean?\n\n  maxDeltaInt Int? // √ Int?\n  maxDeltaDec Decimal? @db.Decimal(18, 6) // √ Decimal?\n\n  // Optional absolute override (use sparingly)\n  maxOverrideInt Int? // √ Int?\n  maxOverrideDec Decimal? @db.Decimal(18, 6) // √ Decimal?\n\n  startsAt DateTime  @default(now())\n  endsAt   DateTime?\n  reason   String?\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  Agency             Agency             @relation(fields: [agencyId], references: [id], onDelete: Cascade)\n  EntitlementFeature EntitlementFeature @relation(fields: [featureKey], references: [key], onDelete: Cascade)\n\n  @@unique([scope, agencyId, subAccountId, featureKey])\n  @@index([agencyId])\n  @@index([subAccountId])\n  @@index([featureKey])\n  @@index([scope])\n  @@schema("public")\n}\n\nmodel PlanFeature {\n  id String @id @default(uuid())\n\n  // planId should map to Stripe recurring priceId\n  planId     String\n  featureKey String\n\n  isEnabled Boolean @default(true) // √ Boolean\n\n  // Limits (query-friendly)\n  isUnlimited Boolean  @default(false) // √ Boolean\n  includedInt Int? // √ Int?\n  maxInt      Int? // √ Int?\n  includedDec Decimal? @db.Decimal(18, 6) // √ Decimal?\n  maxDec      Decimal? @db.Decimal(18, 6) // √ Decimal?\n\n  enforcement LimitEnforcement @default(HARD) // √ LimitEnforcement\n\n  // Overage behavior\n  overageMode          OverageMode @default(NONE) // √ OverageMode\n  overageFee           Decimal?    @db.Decimal(10, 2) // √ Decimal?\n  stripeOveragePriceId String? // √ String?\n\n  // Periodic credit grants (monthly allowance)\n  recurringCreditGrantInt Int? // √ Int?\n  recurringCreditGrantDec Decimal? @db.Decimal(18, 6) // √ Decimal?\n  rolloverCredits         Boolean  @default(false) // √ Boolean\n\n  // Paid top-ups supported?\n  topUpEnabled Boolean @default(false) // √ Boolean\n  topUpPriceId String? // √ String?\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  EntitlementFeature EntitlementFeature @relation(fields: [featureKey], references: [key], onDelete: Cascade)\n\n  @@unique([planId, featureKey])\n  @@index([planId])\n  @@index([featureKey])\n  @@index([overageMode])\n  @@schema("public")\n}\n\nmodel FeaturePreference {\n  id           String        @id @default(uuid())\n  userId       String\n  featureKey   String\n  // Scope context\n  scope        MeteringScope @default(AGENCY)\n  agencyId     String?\n  subAccountId String?\n  // User\'s preference (only matters if feature is enabled at plan/admin level)\n  isEnabled    Boolean       @default(true)\n  createdAt    DateTime      @default(now())\n  updatedAt    DateTime      @updatedAt\n  User         User          @relation(fields: [userId], references: [id], onDelete: Cascade)\n\n  @@unique([userId, scope, agencyId, subAccountId, featureKey])\n  @@index([userId])\n  @@index([featureKey])\n  @@index([agencyId])\n  @@index([subAccountId])\n  @@schema("public")\n}\n\n// --------------------\n// Usage Tracking (enhanced)\n// --------------------\n\nmodel UsageTracking {\n  id String @id @default(uuid())\n\n  // Scope (future-proof for subaccount-level subscription)\n  scope        MeteringScope @default(AGENCY) // √ MeteringScope\n  agencyId     String\n  subAccountId String? // √ String?\n\n  featureKey String\n\n  // Use Decimal to support COUNT and SUM\n  currentUsage Decimal @default(0) @db.Decimal(18, 6) // √ Decimal\n\n  period      UsagePeriod @default(MONTHLY) // √ UsagePeriod\n  periodStart DateTime // √ DateTime\n  periodEnd   DateTime // √ DateTime\n\n  lastEventAt DateTime? // √ DateTime?\n  updatedAt   DateTime  @updatedAt\n\n  Agency Agency @relation(fields: [agencyId], references: [id], onDelete: Cascade)\n\n  @@unique([scope, agencyId, subAccountId, featureKey, periodStart])\n  @@index([agencyId])\n  @@index([subAccountId])\n  @@index([featureKey])\n  @@index([periodStart, periodEnd])\n  @@index([scope])\n  @@schema("public")\n}\n\nmodel UsageEvent {\n  id String @id @default(uuid())\n\n  scope        MeteringScope @default(AGENCY) // √ MeteringScope\n  agencyId     String\n  subAccountId String? // √ String?\n\n  featureKey     String\n  quantity       Decimal @default(0) @db.Decimal(18, 6) // √ Decimal\n  actionKey      String? // √ String?\n  idempotencyKey String  @unique // √ String\n\n  stripeMeterEventId String? // √ String?\n\n  createdAt DateTime @default(now())\n\n  @@index([agencyId, subAccountId, featureKey, createdAt])\n  @@index([scope])\n  @@schema("public")\n}\n\n// --------------------\n// Credits / Top-up (enhanced for Agency + SubAccount)\n// --------------------\n\nmodel FeatureCreditBalance {\n  id String @id @default(uuid())\n\n  scope        MeteringScope @default(AGENCY) // √ MeteringScope\n  agencyId     String\n  subAccountId String? // √ String?\n\n  featureKey String\n\n  balance   Decimal   @default(0) @db.Decimal(18, 6) // √ Decimal\n  expiresAt DateTime? // √ DateTime?\n  updatedAt DateTime  @updatedAt // √ DateTime\n\n  Agency Agency @relation(fields: [agencyId], references: [id], onDelete: Cascade)\n\n  @@unique([scope, agencyId, subAccountId, featureKey])\n  @@index([agencyId])\n  @@index([subAccountId])\n  @@index([featureKey])\n  @@index([scope])\n  @@schema("public")\n}\n\nmodel FeatureCreditLedger {\n  id String @id @default(uuid())\n\n  scope        MeteringScope @default(AGENCY) // √ MeteringScope\n  agencyId     String\n  subAccountId String? // √ String?\n\n  featureKey String\n  type       CreditLedgerType // √ CreditLedgerType\n  delta      Decimal          @db.Decimal(18, 6) // √ Decimal\n  reason     String? // √ String?\n\n  // Optional: distinguish monthly allowance grants vs topups\n  periodStart DateTime? // √ DateTime?\n  periodEnd   DateTime? // √ DateTime?\n\n  stripePaymentIntentId String? // √ String?\n  stripeInvoiceId       String? // √ String?\n\n  idempotencyKey String   @unique // √ String\n  createdAt      DateTime @default(now())\n\n  @@index([agencyId, subAccountId, featureKey, createdAt])\n  @@index([scope])\n  @@schema("public")\n}\n\n// ========================================\n// PASSKEY & MFA MODELS\n// ========================================\n\nmodel Passkey {\n  id                String    @id @default(uuid())\n  userId            String\n  credentialId      String    @unique @db.Text\n  publicKey         String    @db.Text\n  counter           Int       @default(0)\n  name              String    @default("Passkey")\n  deviceName        String? // e.g., "iPhone 15", "MacBook Pro"\n  authenticatorType String? // e.g., "platform" (Face ID, Touch ID), "cross-platform" (hardware keys)\n  // Backup eligibility / status\n  backupEligible    Boolean   @default(false)\n  backupState       Boolean   @default(false)\n  // Timestamp tracking\n  createdAt         DateTime  @default(now())\n  updatedAt         DateTime  @updatedAt\n  lastUsedAt        DateTime?\n\n  user User @relation(fields: [userId], references: [id], onDelete: Cascade)\n\n  @@index([userId])\n  @@schema("public")\n}\n\n// MFA Challenge (one-time codes sent during auth)\nmodel MFAChallenge {\n  id     String @id @default(uuid())\n  userId String\n\n  // The code being challenged\n  code     String        @db.Text // Hashed or encrypted\n  codeType MFAMethodType\n\n  // Challenge validity\n  expiresAt DateTime\n  isUsed    Boolean   @default(false)\n  usedAt    DateTime?\n\n  // Tracking attempts\n  attempts     Int     @default(0)\n  sessionToken String? // Link to session if needed\n\n  createdAt DateTime @default(now())\n\n  user User @relation(fields: [userId], references: [id], onDelete: Cascade)\n\n  @@index([userId, expiresAt])\n  @@index([code])\n  @@schema("public")\n}\n\n// Enum for MFA methods\nenum MFAMethodType {\n  TOTP // Google Authenticator, Authy\n  SMS // Text message OTP\n  EMAIL // Email OTP\n  BACKUP_CODES // One-time recovery codes\n  PASSKEY // Already have this\n\n  @@schema("public")\n}\n\nmodel MFAMethod {\n  id        String        @id @default(uuid())\n  userId    String\n  type      MFAMethodType\n  isEnabled Boolean       @default(true)\n  isPrimary Boolean       @default(false)\n\n  // TOTP: Google Authenticator\n  secret String? @db.Text // Base32 encoded, encrypted\n\n  // SMS/EMAIL: Phone or email (may already be in User)\n  phoneNumber String?\n\n  // Backup codes: Hashed recovery codes\n  backupCodes     String? @db.Text // JSON: ["hash1", "hash2", ...]\n  backupCodesUsed String? @db.Text // JSON: [0, 2] (used indexes)\n\n  // Trust/Remember\n  trustedDevices String? @db.Text // JSON: device fingerprints\n\n  // Tracking\n  verifiedAt DateTime?\n  lastUsedAt DateTime?\n  createdAt  DateTime  @default(now())\n  updatedAt  DateTime  @updatedAt\n\n  user User @relation(fields: [userId], references: [id], onDelete: Cascade)\n\n  @@unique([userId, type])\n  @@index([userId])\n  @@schema("public")\n}\n\n// SSO Configuration (per Agency/Organization)\nmodel SSOConnection {\n  id                 String           @id @default(uuid())\n  agencyId           String           @unique // One SSO per agency\n  provider           SSOProvider // OIDC, SAML, GOOGLE_WORKSPACE, MICROSOFT_ENTRA\n  clientId           String           @db.Text\n  clientSecret       String           @db.Text // Encrypted in production\n  authorizationUrl   String?\n  tokenUrl           String?\n  userinfoUrl        String?\n  jwksUrl            String?\n  entityId           String? // Service provider entity ID\n  acsUrl             String? // Assertion Consumer Service URL\n  ssoUrl             String? // IdP Single Sign-On URL\n  sloUrl             String? // Single Logout URL\n  x509Certificate    String?          @db.Text // IdP certificate for validation\n  allowedDomains     String           @db.Text // JSON: ["company.com", "subsidiary.com"]\n  autoProvisionUsers Boolean          @default(true) // Auto-create users on first login\n  autoProvisionRole  String? // Default role for auto-provisioned users\n  requireSSO         Boolean          @default(false) // Force all users to use SSO\n  isEnabled          Boolean          @default(true)\n  testedAt           DateTime? // Last successful test\n  createdAt          DateTime         @default(now())\n  updatedAt          DateTime         @updatedAt\n  Agency             Agency           @relation(fields: [agencyId], references: [id], onDelete: Cascade)\n  ssoAuditLogs       SSOAuditLog[]\n  ssouserMappings    SSOUserMapping[]\n\n  @@index([provider])\n  @@schema("public")\n}\n\n// SSO User Mapping (link user to their SSO identity)\nmodel SSOUserMapping {\n  id              String @id @default(uuid())\n  userId          String\n  ssoConnectionId String\n\n  // Provider-specific user identifier\n  providerUserId String @db.Text // e.g., email from IdP\n\n  // User attributes from IdP (cached)\n  providerEmail   String\n  providerName    String?\n  providerPicture String?\n\n  // Sync status\n  lastSyncedAt DateTime?\n  syncStatus   SyncStatus @default(ACTIVE) // ACTIVE, SUSPENDED, PENDING\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  user          User          @relation(fields: [userId], references: [id], onDelete: Cascade)\n  SsoConnection SSOConnection @relation(fields: [ssoConnectionId], references: [id], onDelete: Cascade)\n\n  @@unique([ssoConnectionId, providerUserId])\n  @@index([userId])\n  @@index([ssoConnectionId])\n  @@schema("public")\n}\n\n// SSO Audit Log (for compliance/debugging)\nmodel SSOAuditLog {\n  id              String @id @default(uuid())\n  ssoConnectionId String\n\n  eventType SSOEventType // LOGIN_SUCCESS, LOGIN_FAILED, USER_CREATED, etc.\n\n  // User details\n  email  String\n  userId String?\n\n  // Status\n  status       String // success, failure\n  errorMessage String? @db.Text\n\n  // Request details\n  ipAddress String?\n  userAgent String? @db.Text\n\n  createdAt DateTime @default(now())\n\n  SsoConnection SSOConnection @relation(fields: [ssoConnectionId], references: [id], onDelete: Cascade)\n\n  @@index([ssoConnectionId, createdAt])\n  @@index([email])\n  @@schema("public")\n}\n\n// Enums\nenum SSOProvider {\n  OIDC // Generic OpenID Connect\n  SAML // Generic SAML 2.0\n  GOOGLE_WORKSPACE\n  MICROSOFT_ENTRA // Azure AD\n  OKTA\n  PING_IDENTITY\n  AUTH0\n\n  @@schema("public")\n}\n\nenum SyncStatus {\n  ACTIVE\n  SUSPENDED\n  PENDING\n  FAILED\n\n  @@schema("public")\n}\n\nenum SSOEventType {\n  LOGIN_SUCCESS\n  LOGIN_FAILED\n  USER_CREATED\n  USER_UPDATED\n  USER_DELETED\n  USER_SUSPENDED\n  TOKEN_REFRESH\n  CONNECTION_TESTED\n  CONNECTION_UPDATED\n\n  @@schema("public")\n}\n\nenum AccountType {\n  ASSET\n  LIABILITY\n  EQUITY\n  REVENUE\n  EXPENSE\n\n  @@schema("finance")\n}\n\nenum AccountCategory {\n  // Assets\n  CURRENT_ASSET\n  FIXED_ASSET\n  OTHER_ASSET\n  // Liabilities\n  CURRENT_LIABILITY\n  LONG_TERM_LIABILITY\n  // Equity\n  CAPITAL\n  RETAINED_EARNINGS_CAT\n  // Revenue\n  OPERATING_REVENUE\n  OTHER_REVENUE\n  // Expense\n  COST_OF_GOODS_SOLD\n  OPERATING_EXPENSE\n  OTHER_EXPENSE\n\n  @@schema("finance")\n}\n\nenum SubledgerType {\n  NONE\n  ACCOUNTS_RECEIVABLE\n  ACCOUNTS_PAYABLE\n  INVENTORY\n  FIXED_ASSETS\n  PAYROLL\n  BANK\n\n  @@schema("finance")\n}\n\nenum SystemAccountType {\n  RETAINED_EARNINGS\n  OPENING_BALANCE_CONTROL\n  SUSPENSE\n  ROUNDING_DIFFERENCE\n  INTERCOMPANY_CLEARING\n  PAYROLL_CLEARING\n  PAYMENT_CLEARING\n  BANK_RECONCILIATION\n  FOREIGN_EXCHANGE_GAIN\n  FOREIGN_EXCHANGE_LOSS\n  UNREALIZED_FX_GAIN\n  UNREALIZED_FX_LOSS\n  CONSOLIDATION_ADJUSTMENT\n  ELIMINATION_ACCOUNT\n\n  @@schema("finance")\n}\n\nenum PeriodType {\n  MONTH\n  QUARTER\n  HALF_YEAR\n  YEAR\n  CUSTOM\n\n  @@schema("finance")\n}\n\nenum PeriodStatus {\n  FUTURE\n  OPEN\n  CLOSED\n  LOCKED\n\n  @@schema("finance")\n}\n\nenum JournalEntryStatus {\n  DRAFT\n  PENDING_APPROVAL\n  APPROVED\n  REJECTED\n  POSTED\n  REVERSED\n  VOIDED\n\n  @@schema("finance")\n}\n\nenum JournalEntryType {\n  NORMAL\n  OPENING\n  CLOSING\n  CARRY_FORWARD\n  BROUGHT_FORWARD\n  YEAR_END_CLOSING\n  ADJUSTMENT\n  REVERSAL\n  CONSOLIDATION\n  ELIMINATION\n\n  @@schema("finance")\n}\n\nenum BalanceType {\n  NORMAL\n  OPENING\n  CLOSING\n  ADJUSTMENT\n  REVERSAL\n\n  @@schema("finance")\n}\n\nenum SourceModule {\n  MANUAL\n  INVOICE\n  PAYMENT\n  EXPENSE\n  PAYROLL\n  ASSET\n  INVENTORY\n  BANK\n  ADJUSTMENT\n  CONSOLIDATION\n  INTERCOMPANY\n  REVERSAL\n  YEAR_END\n  OPENING_BALANCE\n\n  @@schema("finance")\n}\n\nenum PartnerType {\n  CUSTOMER\n  VENDOR\n  EMPLOYEE\n  BANK\n  INTERCOMPANY\n  OTHER\n\n  @@schema("finance")\n}\n\nenum ClearingDocumentType {\n  PAYMENT\n  RECEIPT\n  CREDIT_NOTE\n  DEBIT_NOTE\n  ADJUSTMENT\n  WRITE_OFF\n  TRANSFER\n  MANUAL\n\n  @@schema("finance")\n}\n\nenum OpenItemStatus {\n  OPEN\n  PARTIALLY_CLEARED\n  CLEARED\n  WRITTEN_OFF\n\n  @@schema("finance")\n}\n\nenum ReconciliationStatus {\n  IN_PROGRESS\n  PENDING_APPROVAL\n  APPROVED\n  REJECTED\n  CLOSED\n\n  @@schema("finance")\n}\n\nenum ReconciliationItemStatus {\n  UNMATCHED\n  MATCHED\n  EXCLUDED\n  DISCREPANCY\n\n  @@schema("finance")\n}\n\nenum ConsolidationMethod {\n  FULL\n  PROPORTIONAL\n  EQUITY\n\n  @@schema("finance")\n}\n\nenum ConsolidationStatus {\n  DRAFT\n  IN_PROGRESS\n  PENDING_APPROVAL\n  APPROVED\n  REJECTED\n  SUPERSEDED\n\n  @@schema("finance")\n}\n\nenum Industry {\n  RETAIL\n  MANUFACTURING\n  SAAS\n  ECOMMERCE\n  CONSULTING\n  REAL_ESTATE\n  HOSPITALITY\n  HEALTHCARE\n  CONSTRUCTION\n  NON_PROFIT\n  EDUCATION\n  AGRICULTURE\n  GENERIC\n\n  @@schema("finance")\n}\n\nenum ReportType {\n  BALANCE_SHEET\n  INCOME_STATEMENT\n  CASH_FLOW\n  TRIAL_BALANCE\n  GENERAL_LEDGER\n  SUBSIDIARY_LEDGER\n  ACCOUNT_BALANCE\n  CONSOLIDATED_BALANCE_SHEET\n  CONSOLIDATED_INCOME_STATEMENT\n  CONSOLIDATED_CASH_FLOW\n  INTERCOMPANY_REPORT\n  CUSTOM\n\n  @@schema("finance")\n}\n\nenum ReportFormat {\n  PDF\n  EXCEL\n  CSV\n  JSON\n\n  @@schema("finance")\n}\n\nenum AuditAction {\n  CREATE\n  UPDATE\n  DELETE\n  SUBMIT\n  APPROVE\n  REJECT\n  POST\n  REVERSE\n  VOID\n  CLOSE\n  LOCK\n  CONSOLIDATE\n  ELIMINATE\n\n  @@schema("finance")\n}\n\nmodel GLConfiguration {\n  id String @id @default(uuid())\n\n  agencyId String @unique\n  Agency   Agency @relation(fields: [agencyId], references: [id], onDelete: Cascade)\n\n  // General settings\n  baseCurrency       String  @default("USD")\n  fiscalYearEnd      String  @default("12-31") // MM-DD format\n  fiscalYearStart    String  @default("01-01") // MM-DD format\n  useControlAccounts Boolean @default(true)\n\n  // Posting settings\n  requireApproval       Boolean  @default(true)\n  approvalThreshold     Decimal? @db.Decimal(18, 6) // Amount above which requires approval\n  autoPostingEnabled    Boolean  @default(false)\n  allowFuturePeriodPost Boolean  @default(false)\n  allowClosedPeriodPost Boolean  @default(false)\n\n  // Consolidation settings\n  consolidationEnabled  Boolean             @default(false)\n  consolidationMethod   ConsolidationMethod @default(FULL)\n  eliminateIntercompany Boolean             @default(true)\n\n  // Period settings\n  autoCreatePeriods Boolean @default(true)\n  periodLockDays    Int     @default(5) // Days after period end to auto-lock\n\n  // Number formats\n  accountCodeFormat    String @default("####-####")\n  accountCodeLength    Int    @default(8)\n  accountCodeSeparator String @default("-")\n\n  // Document Number Prefixes (null = use default)\n  journalEntryPrefix   String? // null = "JE"\n  reversalEntryPrefix  String? // null = "RE"\n  adjustingEntryPrefix String? // null = "ADJ"\n  reconciliationPrefix String? // null = "REC"\n  consolidationPrefix  String? // null = "CON"\n  revaluationPrefix    String? // null = "REV"\n  closingEntryPrefix   String? // null = "MEC"\n\n  // System Generated Posted Document Number Starting From\n  // Using smaller ranges to fit within Int32 (max 2147483647)\n  docNumAssetStart     Int @default(100000000) // Asset accounts start\n  docNumLiabilityStart Int @default(200000000) // Liability accounts start\n  docNumEquityStart    Int @default(300000000) // Equity accounts start\n  docNumRevenueStart   Int @default(400000000) // Revenue accounts start\n  docNumExpenseStart   Int @default(500000000) // Expense accounts start\n  docNumClearingStart  Int @default(10000000) // Clearing documents start\n\n  // Document Format Patterns (null = use default pattern)\n  invoiceFormat    String? // null = "INV-{YYYY}-{######}"\n  paymentFormat    String? // null = "PAY-{YYYY}-{######}"\n  creditNoteFormat String? // null = "CN-{YYYY}-{######}"\n  debitNoteFormat  String? // null = "DN-{YYYY}-{######}"\n  receiptFormat    String? // null = "RCP-{YYYY}-{######}"\n\n  // Document Number Reset Rule\n  documentNumberResetRule String @default("YEARLY") // YEARLY, NEVER, MONTHLY\n\n  // Integrations\n  erpIntegrationEnabled Boolean @default(false)\n  erpSystemType         String?\n  erpApiUrl             String?\n  erpApiKey             String? @db.Text\n\n  // Audit retention\n  retainAuditDays Int @default(2555) // ~7 years\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n  updatedBy String?\n\n  // Reverse relation for SubAccount-level configs\n  SubAccountConfigs GLConfigurationSubAccount[]\n\n  @@index([agencyId])\n  @@schema("finance")\n}\n\n// ========================================\n// GL CONFIGURATION - SUBACCOUNT LEVEL (SKB1)\n// Similar to SAP: SKA1 = Agency, SKB1 = SubAccount\n// SubAccounts can override agency config or inherit\n// ========================================\n\nmodel GLConfigurationSubAccount {\n  id String @id @default(uuid())\n\n  // Links to SubAccount\n  subAccountId String     @unique\n  SubAccount   SubAccount @relation(fields: [subAccountId], references: [id], onDelete: Cascade)\n\n  // Parent Agency config (for inheritance)\n  agencyConfigId String?\n  AgencyConfig   GLConfiguration? @relation(fields: [agencyConfigId], references: [id], onDelete: SetNull)\n\n  // Independence mode: true = use own settings, false = inherit from agency\n  isIndependent Boolean @default(false)\n\n  // Override settings (only used when isIndependent = true)\n  baseCurrency       String?\n  fiscalYearEnd      String?\n  fiscalYearStart    String?\n  useControlAccounts Boolean?\n\n  // Posting settings override\n  requireApproval       Boolean?\n  approvalThreshold     Decimal? @db.Decimal(18, 6)\n  autoPostingEnabled    Boolean?\n  allowFuturePeriodPost Boolean?\n  allowClosedPeriodPost Boolean?\n\n  // Period settings override\n  autoCreatePeriods Boolean?\n  periodLockDays    Int?\n\n  // Number formats override\n  accountCodeFormat    String?\n  accountCodeLength    Int?\n  accountCodeSeparator String?\n\n  // Document Number Prefixes override (null = inherit from agency)\n  journalEntryPrefix   String?\n  reversalEntryPrefix  String?\n  adjustingEntryPrefix String?\n  reconciliationPrefix String?\n  consolidationPrefix  String?\n  revaluationPrefix    String?\n  closingEntryPrefix   String?\n\n  // Document Format Patterns override (null = inherit from agency)\n  invoiceFormat    String?\n  paymentFormat    String?\n  creditNoteFormat String?\n  debitNoteFormat  String?\n  receiptFormat    String?\n\n  // Consolidation (SubAccount to Agency mapping)\n  consolidationAccountMapping Json? // Maps local accounts to agency accounts\n\n  // Audit retention override\n  retainAuditDays Int?\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n  updatedBy String?\n\n  @@index([subAccountId])\n  @@index([agencyConfigId])\n  @@schema("finance")\n}\n\n// ========================================\n// CHART OF ACCOUNTS\n// ========================================\n\nmodel ChartOfAccount {\n  id String @id @default(uuid())\n\n  // Multi-tenant scope\n  agencyId     String?\n  subAccountId String?\n  Agency       Agency?     @relation(fields: [agencyId], references: [id], onDelete: Cascade)\n  SubAccount   SubAccount? @relation(fields: [subAccountId], references: [id], onDelete: Cascade)\n\n  // Account identification\n  code        String\n  name        String\n  description String? @db.Text\n\n  // Hierarchy (hybrid: parentId + materialized path + level)\n  parentAccountId String?\n  ParentAccount   ChartOfAccount?  @relation("AccountHierarchy", fields: [parentAccountId], references: [id], onDelete: Restrict)\n  ChildAccounts   ChartOfAccount[] @relation("AccountHierarchy")\n  path            String           @default("/") // Materialized path: "/1/12/123/"\n  level           Int              @default(0) // 0-based depth (max 7)\n\n  // Classification\n  accountType AccountType\n  category    AccountCategory?\n  subcategory String?\n\n  // Control account settings\n  isControlAccount  Boolean          @default(false)\n  subledgerType     SubledgerType    @default(NONE)\n  controlAccountId  String?\n  ControlAccount    ChartOfAccount?  @relation("ControlAccountLink", fields: [controlAccountId], references: [id])\n  SubledgerAccounts ChartOfAccount[] @relation("ControlAccountLink")\n\n  // System account settings\n  isSystemAccount   Boolean            @default(false)\n  isSystemManaged   Boolean            @default(false)\n  systemAccountType SystemAccountType?\n\n  // Special account flags\n  isClearingAccount   Boolean @default(false)\n  isSuspenseAccount   Boolean @default(false)\n  isRetainedEarnings  Boolean @default(false)\n  isOpeningBalControl Boolean @default(false)\n\n  // Posting behavior\n  allowManualPosting Boolean @default(true)\n  requireApproval    Boolean @default(false)\n  isPostingAccount   Boolean @default(true) // Can post to this account (leaf node)\n\n  // Consolidation settings\n  isConsolidationEnabled   Boolean @default(false)\n  consolidationAccountCode String? // Maps to Agency Group COA\n\n  // Currency settings\n  currencyCode    String? // If null, uses base currency\n  isMultiCurrency Boolean @default(false)\n\n  // Status\n  isActive   Boolean   @default(true)\n  isArchived Boolean   @default(false)\n  archivedAt DateTime?\n  archivedBy String?\n\n  // Normal balance (for display/validation)\n  normalBalance String @default("DEBIT") // DEBIT or CREDIT\n\n  // Sort order within parent\n  sortOrder Int @default(0)\n\n  // Audit fields\n  createdAt DateTime @default(now())\n  createdBy String\n  updatedAt DateTime @updatedAt\n  updatedBy String?\n\n  // Relations\n  JournalEntryLines  JournalEntryLine[]\n  AccountBalances    AccountBalance[]\n  Reconciliations    Reconciliation[]\n  PostingRuleDebits  PostingRule[]      @relation("PostingRuleDebit")\n  PostingRuleCredits PostingRule[]      @relation("PostingRuleCredit")\n\n  // Open Item & Subledger Relations\n  OpenItems  OpenItem[]  @relation("OpenItemAccount")\n  SubLedgers SubLedger[] @relation("SubLedgerControl")\n\n  // Automation Account Mappings\n  DebitMappings  AutomationAccountMapping[] @relation("DebitMappings")\n  CreditMappings AutomationAccountMapping[] @relation("CreditMappings")\n\n  // E-Invoice relations\n  EInvoiceSettingsRevenue    EInvoiceSettings[] @relation("EInvoiceRevenueAccount")\n  EInvoiceSettingsReceivable EInvoiceSettings[] @relation("EInvoiceReceivableAccount")\n  EInvoiceSettingsTaxOutput  EInvoiceSettings[] @relation("EInvoiceTaxOutputAccount")\n  EInvoiceLineItems          EInvoiceLineItem[]\n\n  @@unique([agencyId, code])\n  @@unique([subAccountId, code])\n  @@index([agencyId, accountType])\n  @@index([agencyId, isActive])\n  @@index([agencyId, path])\n  @@index([agencyId, level])\n  @@index([subAccountId, accountType])\n  @@index([subAccountId, isActive])\n  @@index([subAccountId, path])\n  @@index([parentAccountId])\n  @@index([controlAccountId])\n  @@index([isControlAccount])\n  @@index([isSystemAccount])\n  @@index([isConsolidationEnabled])\n  @@schema("finance")\n}\n\n// ========================================\n// AGENCY GROUP COA (For Consolidation)\n// ========================================\n\nmodel AgencyGroupCOA {\n  id String @id @default(uuid())\n\n  agencyId String\n  Agency   Agency @relation(fields: [agencyId], references: [id], onDelete: Cascade)\n\n  // Account identification\n  code        String\n  name        String\n  description String? @db.Text\n\n  // Classification\n  accountType AccountType\n  category    AccountCategory?\n\n  // Hierarchy\n  parentId String?\n  Parent   AgencyGroupCOA?  @relation("GroupCOAHierarchy", fields: [parentId], references: [id], onDelete: Restrict)\n  Children AgencyGroupCOA[] @relation("GroupCOAHierarchy")\n  path     String           @default("/")\n  level    Int              @default(0)\n\n  // Status\n  isActive  Boolean @default(true)\n  sortOrder Int     @default(0)\n\n  // Audit\n  createdAt DateTime @default(now())\n  createdBy String\n  updatedAt DateTime @updatedAt\n  updatedBy String?\n\n  // Relations\n  ConsolidationMappings ConsolidationMapping[]\n  ConsolidatedBalances  ConsolidatedBalance[]\n  WorksheetLines        ConsolidationWorksheetLine[]\n\n  @@unique([agencyId, code])\n  @@index([agencyId, accountType])\n  @@index([agencyId, isActive])\n  @@index([parentId])\n  @@schema("finance")\n}\n\n// ========================================\n// CONSOLIDATION MAPPING\n// ========================================\n\nmodel ConsolidationMapping {\n  id String @id @default(uuid())\n\n  agencyId String\n  Agency   Agency @relation(fields: [agencyId], references: [id], onDelete: Cascade)\n\n  // SubAccount COA → Agency Group COA mapping\n  subAccountId String\n  SubAccount   SubAccount @relation(fields: [subAccountId], references: [id], onDelete: Cascade)\n\n  subAccountCOACode String // Source account code from subaccount\n  groupCOAId        String // Target Agency Group COA\n  GroupCOA          AgencyGroupCOA @relation(fields: [groupCOAId], references: [id], onDelete: Cascade)\n\n  // Mapping rules\n  mappingPercentage Decimal @default(100) @db.Decimal(5, 2) // For proportional consolidation\n  isElimination     Boolean @default(false) // Intercompany elimination account\n  eliminationPairId String? // Linked elimination account in other subaccount\n\n  // Status\n  isActive Boolean @default(true)\n\n  // Audit\n  createdAt DateTime @default(now())\n  createdBy String\n  updatedAt DateTime @updatedAt\n  updatedBy String?\n\n  @@unique([agencyId, subAccountId, subAccountCOACode])\n  @@index([agencyId])\n  @@index([subAccountId])\n  @@index([groupCOAId])\n  @@index([isElimination])\n  @@schema("finance")\n}\n\n// ========================================\n// FINANCIAL PERIODS\n// ========================================\n\nmodel FinancialPeriod {\n  id String @id @default(uuid())\n\n  // Multi-tenant scope (can be Agency or SubAccount level)\n  agencyId     String?\n  subAccountId String?\n  Agency       Agency?     @relation(fields: [agencyId], references: [id], onDelete: Cascade)\n  SubAccount   SubAccount? @relation(fields: [subAccountId], references: [id], onDelete: Cascade)\n\n  // Period identification\n  name         String // "January 2026", "Q1 FY2026"\n  shortName    String? // "Jan-26", "Q1-26"\n  periodType   PeriodType\n  fiscalYear   Int\n  fiscalPeriod Int // 1-12 for months, 1-4 for quarters\n\n  // Date range\n  startDate DateTime\n  endDate   DateTime\n\n  // Status workflow\n  status PeriodStatus @default(FUTURE)\n\n  // Workflow metadata\n  openedAt DateTime?\n  openedBy String?\n  closedAt DateTime?\n  closedBy String?\n  lockedAt DateTime?\n  lockedBy String?\n\n  // Balance snapshots (JSON for efficiency)\n  openingBalances Json?\n  closingBalances Json?\n\n  // Year-end\n  isYearEnd          Boolean   @default(false)\n  yearEndProcessedAt DateTime?\n  yearEndProcessedBy String?\n\n  // Notes\n  notes String? @db.Text\n\n  // Audit\n  createdAt DateTime @default(now())\n  createdBy String\n  updatedAt DateTime @updatedAt\n  updatedBy String?\n\n  // Relations\n  JournalEntries         JournalEntry[]\n  AccountBalances        AccountBalance[]\n  Reconciliations        Reconciliation[]\n  ConsolidationSnapshots ConsolidationSnapshot[]\n\n  @@unique([agencyId, fiscalYear, periodType, fiscalPeriod])\n  @@unique([subAccountId, fiscalYear, periodType, fiscalPeriod])\n  @@index([agencyId, status])\n  @@index([agencyId, fiscalYear])\n  @@index([subAccountId, status])\n  @@index([subAccountId, fiscalYear])\n  @@index([startDate, endDate])\n  @@index([status])\n  @@schema("finance")\n}\n\n// ========================================\n// JOURNAL ENTRIES\n// ========================================\n\nmodel JournalEntry {\n  id String @id @default(uuid())\n\n  // Multi-tenant scope\n  agencyId     String?\n  subAccountId String?\n  Agency       Agency?     @relation(fields: [agencyId], references: [id], onDelete: Cascade)\n  SubAccount   SubAccount? @relation(fields: [subAccountId], references: [id], onDelete: Cascade)\n\n  // Entry identification\n  entryNumber String // Auto-generated: JE-2026-00001\n  reference   String? // External reference\n\n  // Period\n  periodId  String\n  Period    FinancialPeriod @relation(fields: [periodId], references: [id])\n  entryDate DateTime\n\n  // Type and source\n  entryType       JournalEntryType @default(NORMAL)\n  sourceModule    SourceModule     @default(MANUAL)\n  sourceId        String? // ID of source document\n  sourceReference String? // Reference number of source\n\n  // Posting rule (if auto-generated)\n  postingRuleId String?\n  PostingRule   PostingRule? @relation(fields: [postingRuleId], references: [id])\n\n  // Description\n  description String  @db.Text\n  notes       String? @db.Text\n\n  // Currency\n  currencyCode String  @default("USD")\n  exchangeRate Decimal @default(1) @db.Decimal(12, 6)\n\n  // Totals (denormalized for performance)\n  totalDebit      Decimal @default(0) @db.Decimal(18, 6)\n  totalCredit     Decimal @default(0) @db.Decimal(18, 6)\n  totalDebitBase  Decimal @default(0) @db.Decimal(18, 6) // In base currency\n  totalCreditBase Decimal @default(0) @db.Decimal(18, 6)\n\n  // Status workflow\n  status JournalEntryStatus @default(DRAFT)\n\n  // CF/BF tracking\n  isCarryForward     Boolean        @default(false)\n  isBroughtForward   Boolean        @default(false)\n  carryForwardFromId String?\n  CarryForwardFrom   JournalEntry?  @relation("CarryForwardLink", fields: [carryForwardFromId], references: [id])\n  CarriedForwardTo   JournalEntry[] @relation("CarryForwardLink")\n\n  // Reversal tracking\n  isReversal   Boolean        @default(false)\n  reversalOfId String?\n  ReversalOf   JournalEntry?  @relation("ReversalLink", fields: [reversalOfId], references: [id])\n  ReversedBy   JournalEntry[] @relation("ReversalLink")\n\n  // Workflow audit\n  submittedAt     DateTime?\n  submittedBy     String?\n  approvedAt      DateTime?\n  approvedBy      String?\n  rejectedAt      DateTime?\n  rejectedBy      String?\n  rejectionReason String?   @db.Text\n  postedAt        DateTime?\n  postedBy        String?\n  reversedAt      DateTime?\n  reversedByUser  String?\n  reversalReason  String?   @db.Text\n  voidedAt        DateTime?\n  voidedBy        String?\n  voidReason      String?   @db.Text\n\n  // Audit\n  createdAt DateTime @default(now())\n  createdBy String\n  updatedAt DateTime @updatedAt\n  updatedBy String?\n\n  // Relations\n  Lines     JournalEntryLine[]\n  EInvoices EInvoice[]\n\n  @@unique([agencyId, entryNumber])\n  @@unique([subAccountId, entryNumber])\n  @@index([agencyId, status])\n  @@index([agencyId, periodId])\n  @@index([agencyId, entryDate])\n  @@index([agencyId, entryType])\n  @@index([subAccountId, status])\n  @@index([subAccountId, periodId])\n  @@index([subAccountId, entryDate])\n  @@index([sourceModule, sourceId])\n  @@index([postingRuleId])\n  @@index([status])\n  @@index([createdBy])\n  @@index([approvedBy])\n  @@schema("finance")\n}\n\nmodel JournalEntryLine {\n  id String @id @default(uuid())\n\n  journalEntryId String\n  JournalEntry   JournalEntry @relation(fields: [journalEntryId], references: [id], onDelete: Cascade)\n\n  // Line number\n  lineNumber Int\n\n  // Account\n  accountId String\n  Account   ChartOfAccount @relation(fields: [accountId], references: [id])\n\n  // Description\n  description String?\n\n  // Amounts (transaction currency)\n  debitAmount  Decimal @default(0) @db.Decimal(18, 6)\n  creditAmount Decimal @default(0) @db.Decimal(18, 6)\n\n  // Base currency amounts\n  debitAmountBase  Decimal @default(0) @db.Decimal(18, 6)\n  creditAmountBase Decimal @default(0) @db.Decimal(18, 6)\n\n  // Exchange rate (line-level override if different from header)\n  exchangeRate Decimal? @db.Decimal(12, 6)\n\n  // Reference fields (for subledger linking)\n  subledgerType      SubledgerType @default(NONE)\n  subledgerReference String? // Customer ID, Vendor ID, etc.\n\n  // Tax information\n  taxCode   String?\n  taxAmount Decimal? @db.Decimal(18, 6)\n\n  // Dimensions (future extensibility)\n  dimension1 String? // Cost center\n  dimension2 String? // Department\n  dimension3 String? // Project\n  dimension4 String? // Custom\n\n  // Intercompany\n  isIntercompany           Boolean @default(false)\n  intercompanySubAccountId String?\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  @@index([journalEntryId])\n  @@index([accountId])\n  @@index([subledgerType, subledgerReference])\n  @@index([isIntercompany])\n  @@schema("finance")\n}\n\n// ========================================\n// ACCOUNT BALANCES\n// ========================================\n\nmodel AccountBalance {\n  id String @id @default(uuid())\n\n  // Multi-tenant scope\n  agencyId     String?\n  subAccountId String?\n  Agency       Agency?     @relation(fields: [agencyId], references: [id], onDelete: Cascade)\n  SubAccount   SubAccount? @relation(fields: [subAccountId], references: [id], onDelete: Cascade)\n\n  // Account and period\n  accountId String\n  Account   ChartOfAccount  @relation(fields: [accountId], references: [id], onDelete: Cascade)\n  periodId  String\n  Period    FinancialPeriod @relation(fields: [periodId], references: [id], onDelete: Cascade)\n\n  // Currency\n  currencyCode String @default("USD")\n\n  // Balance components\n  openingBalance Decimal @default(0) @db.Decimal(18, 6) // BF\n  debitMovement  Decimal @default(0) @db.Decimal(18, 6)\n  creditMovement Decimal @default(0) @db.Decimal(18, 6)\n  closingBalance Decimal @default(0) @db.Decimal(18, 6) // CF\n\n  // Base currency balances\n  openingBalanceBase Decimal @default(0) @db.Decimal(18, 6)\n  debitMovementBase  Decimal @default(0) @db.Decimal(18, 6)\n  creditMovementBase Decimal @default(0) @db.Decimal(18, 6)\n  closingBalanceBase Decimal @default(0) @db.Decimal(18, 6)\n\n  // Balance type\n  balanceType BalanceType @default(NORMAL)\n\n  // Transaction count\n  transactionCount Int @default(0)\n\n  // Last recalculation\n  lastRecalculatedAt DateTime?\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  @@unique([accountId, periodId, currencyCode])\n  @@index([agencyId, periodId])\n  @@index([subAccountId, periodId])\n  @@index([accountId])\n  @@index([periodId])\n  @@schema("finance")\n}\n\n// ========================================\n// MULTI-CURRENCY\n// ========================================\n\nmodel Currency {\n  id String @id @default(uuid())\n\n  code          String @unique // ISO 4217: USD, EUR, JPY\n  name          String // US Dollar, Euro, Japanese Yen\n  symbol        String // $, €, ¥\n  decimalPlaces Int    @default(2) // 0 for JPY, 2 for USD\n\n  isActive       Boolean @default(true)\n  isBaseCurrency Boolean @default(false)\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  ExchangeRatesFrom ExchangeRate[]        @relation("FromCurrency")\n  ExchangeRatesTo   ExchangeRate[]        @relation("ToCurrency")\n  Revaluations      CurrencyRevaluation[]\n\n  @@index([isActive])\n  @@index([code])\n  @@schema("finance")\n}\n\nmodel ExchangeRate {\n  id String @id @default(uuid())\n\n  agencyId String\n  Agency   Agency @relation(fields: [agencyId], references: [id], onDelete: Cascade)\n\n  fromCurrencyCode String\n  FromCurrency     Currency @relation("FromCurrency", fields: [fromCurrencyCode], references: [code])\n  toCurrencyCode   String\n  ToCurrency       Currency @relation("ToCurrency", fields: [toCurrencyCode], references: [code])\n\n  rate        Decimal @db.Decimal(12, 6)\n  inverseRate Decimal @db.Decimal(12, 6)\n\n  effectiveDate DateTime\n  expiryDate    DateTime?\n\n  rateType String  @default("SPOT") // SPOT, AVERAGE, BUDGET\n  source   String? // API source or manual\n\n  isActive Boolean @default(true)\n\n  createdAt DateTime @default(now())\n  createdBy String\n  updatedAt DateTime @updatedAt\n\n  @@unique([agencyId, fromCurrencyCode, toCurrencyCode, effectiveDate, rateType])\n  @@index([agencyId, effectiveDate])\n  @@index([fromCurrencyCode, toCurrencyCode])\n  @@index([effectiveDate])\n  @@schema("finance")\n}\n\nmodel CurrencyRevaluation {\n  id String @id @default(uuid())\n\n  agencyId     String?\n  subAccountId String?\n  Agency       Agency?     @relation(fields: [agencyId], references: [id], onDelete: Cascade)\n  SubAccount   SubAccount? @relation(fields: [subAccountId], references: [id], onDelete: Cascade)\n\n  periodId     String\n  currencyCode String\n  Currency     Currency @relation(fields: [currencyCode], references: [code])\n\n  revaluationDate DateTime\n  exchangeRate    Decimal  @db.Decimal(12, 6)\n  previousRate    Decimal  @db.Decimal(12, 6)\n\n  // Amounts\n  unrealizedGain Decimal @default(0) @db.Decimal(18, 6)\n  unrealizedLoss Decimal @default(0) @db.Decimal(18, 6)\n  netGainLoss    Decimal @default(0) @db.Decimal(18, 6)\n\n  // Generated journal entry\n  journalEntryId String?\n\n  status String @default("DRAFT") // DRAFT, POSTED, REVERSED\n\n  createdAt DateTime  @default(now())\n  createdBy String\n  postedAt  DateTime?\n  postedBy  String?\n\n  @@index([agencyId, periodId])\n  @@index([subAccountId, periodId])\n  @@index([currencyCode])\n  @@schema("finance")\n}\n\n// ========================================\n// POSTING RULES & AUTOMATION\n// ========================================\n\nmodel PostingRule {\n  id String @id @default(uuid())\n\n  // Scope\n  agencyId     String?\n  subAccountId String?\n  Agency       Agency?     @relation(fields: [agencyId], references: [id], onDelete: Cascade)\n  SubAccount   SubAccount? @relation(fields: [subAccountId], references: [id], onDelete: Cascade)\n\n  // Identification\n  code        String\n  name        String\n  description String? @db.Text\n\n  // Source\n  sourceModule SourceModule\n\n  // Template accounts\n  debitAccountId  String\n  DebitAccount    ChartOfAccount @relation("PostingRuleDebit", fields: [debitAccountId], references: [id])\n  creditAccountId String\n  CreditAccount   ChartOfAccount @relation("PostingRuleCredit", fields: [creditAccountId], references: [id])\n\n  // Amount calculation\n  amountType  String   @default("FULL") // FULL, PERCENTAGE, FIXED\n  percentage  Decimal? @db.Decimal(5, 4)\n  fixedAmount Decimal? @db.Decimal(18, 6)\n\n  // Conditions (JSON for flexibility)\n  conditions Json? // { "amountGreaterThan": 1000, "customerType": "VIP" }\n\n  // Execution\n  priority Int     @default(0)\n  isActive Boolean @default(true)\n  autoPost Boolean @default(false) // Auto-post or create draft\n\n  // Audit\n  createdAt     DateTime  @default(now())\n  createdBy     String\n  updatedAt     DateTime  @updatedAt\n  updatedBy     String?\n  activatedAt   DateTime?\n  activatedBy   String?\n  deactivatedAt DateTime?\n  deactivatedBy String?\n\n  JournalEntries JournalEntry[]\n\n  @@unique([agencyId, code])\n  @@unique([subAccountId, code])\n  @@index([agencyId, sourceModule, isActive])\n  @@index([subAccountId, sourceModule, isActive])\n  @@index([sourceModule])\n  @@index([isActive])\n  @@schema("finance")\n}\n\nmodel PostingTemplate {\n  id String @id @default(uuid())\n\n  agencyId String\n  Agency   Agency @relation(fields: [agencyId], references: [id], onDelete: Cascade)\n\n  name        String\n  description String? @db.Text\n\n  // Template definition (JSON array of lines)\n  // [{ "accountCode": "1000", "debitPercent": 100, "creditPercent": 0 }, ...]\n  template Json\n\n  // Default values\n  defaultDescription String?\n  defaultCurrency    String  @default("USD")\n\n  isActive Boolean @default(true)\n\n  createdAt DateTime @default(now())\n  createdBy String\n  updatedAt DateTime @updatedAt\n\n  @@unique([agencyId, name])\n  @@index([agencyId, isActive])\n  @@schema("finance")\n}\n\n// ========================================\n// RECONCILIATION\n// ========================================\n\nmodel Reconciliation {\n  id String @id @default(uuid())\n\n  // Scope\n  agencyId     String?\n  subAccountId String?\n  Agency       Agency?     @relation(fields: [agencyId], references: [id], onDelete: Cascade)\n  SubAccount   SubAccount? @relation(fields: [subAccountId], references: [id], onDelete: Cascade)\n\n  // Reconciliation target\n  accountId String\n  Account   ChartOfAccount  @relation(fields: [accountId], references: [id])\n  periodId  String\n  Period    FinancialPeriod @relation(fields: [periodId], references: [id])\n\n  // Reference\n  reconciliationNumber String\n  description          String?\n\n  // Balances\n  bookBalance         Decimal  @db.Decimal(18, 6)\n  statementBalance    Decimal  @db.Decimal(18, 6)\n  statementDate       DateTime\n  adjustedBookBalance Decimal  @db.Decimal(18, 6)\n  difference          Decimal  @db.Decimal(18, 6)\n\n  // Status\n  status ReconciliationStatus @default(IN_PROGRESS)\n\n  // Workflow\n  submittedAt     DateTime?\n  submittedBy     String?\n  approvedAt      DateTime?\n  approvedBy      String?\n  rejectedAt      DateTime?\n  rejectedBy      String?\n  rejectionReason String?\n  closedAt        DateTime?\n  closedBy        String?\n\n  notes String? @db.Text\n\n  createdAt DateTime @default(now())\n  createdBy String\n  updatedAt DateTime @updatedAt\n  updatedBy String?\n\n  Items ReconciliationItem[]\n\n  @@unique([agencyId, reconciliationNumber])\n  @@unique([subAccountId, reconciliationNumber])\n  @@index([agencyId, status])\n  @@index([subAccountId, status])\n  @@index([accountId, periodId])\n  @@index([status])\n  @@schema("finance")\n}\n\nmodel ReconciliationItem {\n  id String @id @default(uuid())\n\n  reconciliationId String\n  Reconciliation   Reconciliation @relation(fields: [reconciliationId], references: [id], onDelete: Cascade)\n\n  // Item type\n  itemType String // BOOK, STATEMENT, ADJUSTMENT\n\n  // Transaction reference\n  transactionDate DateTime\n  reference       String?\n  description     String?\n\n  // Amounts\n  amount Decimal @db.Decimal(18, 6)\n\n  // Matching\n  status        ReconciliationItemStatus @default(UNMATCHED)\n  matchedItemId String? // Link to matched item\n  matchedAt     DateTime?\n  matchedBy     String?\n\n  notes String?\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  @@index([reconciliationId])\n  @@index([status])\n  @@index([matchedItemId])\n  @@schema("finance")\n}\n\nmodel ReconciliationRule {\n  id String @id @default(uuid())\n\n  agencyId String\n  Agency   Agency @relation(fields: [agencyId], references: [id], onDelete: Cascade)\n\n  name        String\n  description String?\n\n  // Rule definition (JSON)\n  // { "matchBy": ["reference", "amount"], "tolerance": 0.01 }\n  ruleDefinition Json\n\n  priority Int     @default(0)\n  isActive Boolean @default(true)\n\n  createdAt DateTime @default(now())\n  createdBy String\n  updatedAt DateTime @updatedAt\n\n  @@index([agencyId, isActive])\n  @@schema("finance")\n}\n\n// Intercompany reconciliation\nmodel IntercompanyReconciliation {\n  id String @id @default(uuid())\n\n  agencyId String\n  Agency   Agency @relation(fields: [agencyId], references: [id], onDelete: Cascade)\n\n  periodId String\n\n  // Subaccounts involved\n  subAccountId1 String\n  SubAccount1   SubAccount @relation("ICRecon1", fields: [subAccountId1], references: [id])\n  subAccountId2 String\n  SubAccount2   SubAccount @relation("ICRecon2", fields: [subAccountId2], references: [id])\n\n  // Account codes\n  accountCode1 String\n  accountCode2 String\n\n  // Balances\n  balance1   Decimal @db.Decimal(18, 6)\n  balance2   Decimal @db.Decimal(18, 6)\n  difference Decimal @db.Decimal(18, 6)\n\n  status ReconciliationStatus @default(IN_PROGRESS)\n\n  notes String? @db.Text\n\n  createdAt DateTime @default(now())\n  createdBy String\n  updatedAt DateTime @updatedAt\n\n  @@index([agencyId, periodId])\n  @@index([subAccountId1])\n  @@index([subAccountId2])\n  @@schema("finance")\n}\n\n// ========================================\n// CONSOLIDATION\n// ========================================\n\nmodel ConsolidationSnapshot {\n  id String @id @default(uuid())\n\n  agencyId String\n  Agency   Agency @relation(fields: [agencyId], references: [id], onDelete: Cascade)\n\n  periodId String\n  Period   FinancialPeriod @relation(fields: [periodId], references: [id])\n\n  // Snapshot identification\n  snapshotNumber String\n  name           String\n  description    String? @db.Text\n\n  // Scope - which subaccounts are included\n  subAccountIds String[] // Array of subaccount IDs\n\n  // Consolidation method\n  consolidationMethod ConsolidationMethod\n\n  // Consolidated results (denormalized JSON for performance)\n  consolidatedBalances Json // { "1000": { balance, eliminations, adjusted } }\n  balanceSheet         Json\n  incomeStatement      Json\n  cashFlowStatement    Json\n\n  // Adjustments summary\n  eliminationEntries Json // Array of elimination entries\n  adjustmentEntries  Json // Array of manual adjustments\n  totalEliminations  Decimal @default(0) @db.Decimal(18, 6)\n  totalAdjustments   Decimal @default(0) @db.Decimal(18, 6)\n\n  // Ownership percentages (for proportional/equity)\n  ownershipPercentages Json? // { "subaccount1": 100, "subaccount2": 60 }\n\n  // Version control\n  version           Int     @default(1)\n  previousVersionId String?\n\n  // Status workflow\n  status ConsolidationStatus @default(DRAFT)\n\n  // Validation\n  validationResults Json? // { warnings: [], errors: [] }\n  isValid           Boolean @default(false)\n\n  // Workflow\n  consolidatedAt  DateTime  @default(now())\n  consolidatedBy  String\n  submittedAt     DateTime?\n  submittedBy     String?\n  approvedAt      DateTime?\n  approvedBy      String?\n  rejectedAt      DateTime?\n  rejectedBy      String?\n  rejectionReason String?\n\n  notes String? @db.Text\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  // Relations\n  WorksheetLines        ConsolidationWorksheetLine[]\n  Adjustments           ConsolidationAdjustment[]\n  Eliminations          IntercompanyElimination[]\n  consolidatedBalances_ ConsolidatedBalance[]\n\n  @@unique([agencyId, periodId, version])\n  @@index([agencyId, periodId, status])\n  @@index([agencyId, status])\n  @@index([periodId])\n  @@schema("finance")\n}\n\nmodel ConsolidationWorksheetLine {\n  id String @id @default(uuid())\n\n  snapshotId String\n  Snapshot   ConsolidationSnapshot @relation(fields: [snapshotId], references: [id], onDelete: Cascade)\n\n  // Group COA reference\n  groupCOAId  String\n  GroupCOA    AgencyGroupCOA @relation(fields: [groupCOAId], references: [id])\n  accountCode String\n  accountName String\n\n  // SubAccount balances (JSON for flexibility)\n  // { "subaccount1": 1000.00, "subaccount2": 500.00 }\n  subAccountBalances Json\n\n  // Totals before adjustments\n  totalBeforeAdj Decimal @db.Decimal(18, 6)\n\n  // Adjustments\n  eliminations Decimal @default(0) @db.Decimal(18, 6)\n  adjustments  Decimal @default(0) @db.Decimal(18, 6)\n\n  // Final consolidated balance\n  consolidatedBalance Decimal @db.Decimal(18, 6)\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  @@unique([snapshotId, accountCode])\n  @@index([snapshotId])\n  @@index([groupCOAId])\n  @@schema("finance")\n}\n\nmodel ConsolidatedBalance {\n  id String @id @default(uuid())\n\n  snapshotId String\n  Snapshot   ConsolidationSnapshot @relation(fields: [snapshotId], references: [id], onDelete: Cascade)\n\n  groupCOAId String\n  GroupCOA   AgencyGroupCOA @relation(fields: [groupCOAId], references: [id])\n\n  // Balance\n  balance Decimal @db.Decimal(18, 6)\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  @@unique([snapshotId, groupCOAId])\n  @@index([snapshotId])\n  @@schema("finance")\n}\n\nmodel ConsolidationAdjustment {\n  id String @id @default(uuid())\n\n  snapshotId String\n  Snapshot   ConsolidationSnapshot @relation(fields: [snapshotId], references: [id], onDelete: Cascade)\n\n  // Adjustment details\n  adjustmentNumber String\n  description      String\n\n  debitAccountCode  String\n  creditAccountCode String\n  amount            Decimal @db.Decimal(18, 6)\n\n  adjustmentType String // MANUAL, MINORITY_INTEREST, GOODWILL, OTHER\n\n  // Status\n  status     String    @default("DRAFT") // DRAFT, APPROVED, REJECTED\n  approvedAt DateTime?\n  approvedBy String?\n\n  notes String? @db.Text\n\n  createdAt DateTime @default(now())\n  createdBy String\n  updatedAt DateTime @updatedAt\n\n  @@index([snapshotId])\n  @@schema("finance")\n}\n\nmodel IntercompanyElimination {\n  id String @id @default(uuid())\n\n  snapshotId String\n  Snapshot   ConsolidationSnapshot @relation(fields: [snapshotId], references: [id], onDelete: Cascade)\n\n  // Elimination details\n  eliminationNumber String\n  description       String\n\n  // Intercompany pair\n  subAccountId1 String\n  subAccountId2 String\n  accountCode1  String\n  accountCode2  String\n\n  // Amount\n  amount Decimal @db.Decimal(18, 6)\n\n  eliminationType String // REVENUE_EXPENSE, RECEIVABLE_PAYABLE, INVENTORY_PROFIT, OTHER\n\n  // Status\n  status     String    @default("DRAFT")\n  approvedAt DateTime?\n  approvedBy String?\n\n  // Auto or manual\n  isAutoGenerated Boolean @default(true)\n\n  notes String? @db.Text\n\n  createdAt DateTime @default(now())\n  createdBy String\n  updatedAt DateTime @updatedAt\n\n  @@index([snapshotId])\n  @@index([subAccountId1, subAccountId2])\n  @@schema("finance")\n}\n\nmodel SubAccountOwnership {\n  id String @id @default(uuid())\n\n  agencyId String\n  Agency   Agency @relation(fields: [agencyId], references: [id], onDelete: Cascade)\n\n  subAccountId String\n  SubAccount   SubAccount @relation(fields: [subAccountId], references: [id], onDelete: Cascade)\n\n  // Ownership details\n  ownershipPercentage Decimal             @db.Decimal(5, 2) // 0.00 to 100.00\n  consolidationMethod ConsolidationMethod\n\n  // Effective dates\n  effectiveFrom DateTime\n  effectiveTo   DateTime?\n\n  // Minority interest account (if applicable)\n  minorityInterestAccountCode String?\n\n  isActive Boolean @default(true)\n\n  createdAt DateTime @default(now())\n  createdBy String\n  updatedAt DateTime @updatedAt\n\n  @@unique([agencyId, subAccountId, effectiveFrom])\n  @@index([agencyId, isActive])\n  @@index([subAccountId])\n  @@schema("finance")\n}\n\n// ========================================\n// REPORTING\n// ========================================\n\nmodel SavedReport {\n  id String @id @default(uuid())\n\n  agencyId     String?\n  subAccountId String?\n  Agency       Agency?     @relation(fields: [agencyId], references: [id], onDelete: Cascade)\n  SubAccount   SubAccount? @relation(fields: [subAccountId], references: [id], onDelete: Cascade)\n\n  name        String\n  description String?\n\n  reportType ReportType\n\n  // Report parameters (JSON)\n  parameters Json // { periodId, accountIds, etc. }\n\n  // Schedule (optional)\n  isScheduled Boolean @default(false)\n  schedule    String? // Cron expression\n\n  // Output\n  lastGeneratedAt DateTime?\n  lastGeneratedBy String?\n\n  isActive Boolean @default(true)\n\n  createdAt DateTime @default(now())\n  createdBy String\n  updatedAt DateTime @updatedAt\n\n  @@index([agencyId, reportType])\n  @@index([subAccountId, reportType])\n  @@schema("finance")\n}\n\nmodel ReportTemplate {\n  id String @id @default(uuid())\n\n  name        String  @unique\n  description String?\n\n  reportType ReportType\n\n  // Template definition\n  templateDefinition Json // Layout, columns, calculations\n\n  // Default parameters\n  defaultParameters Json?\n\n  isSystem Boolean @default(true)\n  isActive Boolean @default(true)\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  @@index([reportType, isActive])\n  @@schema("finance")\n}\n\nmodel COATemplate {\n  id String @id @default(uuid())\n\n  name               String // "SaaS Company COA"\n  industry           Industry\n  description        String   @db.Text\n  region             String   @default("US")\n  accountingStandard String   @default("GAAP")\n\n  // Full COA structure as JSON\n  template Json\n\n  // Metadata\n  version   String  @default("1.0")\n  isActive  Boolean @default(true)\n  isDefault Boolean @default(false)\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  @@index([industry, isActive])\n  @@index([region, accountingStandard])\n  @@schema("finance")\n}\n\n// ========================================\n// AUDIT TRAIL\n// ========================================\n\nmodel GLAuditTrail {\n  id String @id @default(uuid())\n\n  // Scope\n  agencyId     String?\n  subAccountId String?\n\n  // What changed\n  entityType String // JournalEntry, ChartOfAccount, etc.\n  entityId   String\n\n  // Action\n  action AuditAction\n\n  // Who\n  userId    String\n  userEmail String?\n  userName  String?\n\n  // When\n  timestamp DateTime @default(now())\n\n  // What changed (before/after)\n  previousValues Json?\n  newValues      Json?\n\n  // Context\n  ipAddress String?\n  userAgent String?\n  sessionId String?\n\n  // Notes\n  reason String?\n\n  @@index([agencyId, entityType, entityId])\n  @@index([subAccountId, entityType, entityId])\n  @@index([agencyId, timestamp])\n  @@index([subAccountId, timestamp])\n  @@index([userId])\n  @@index([entityType, entityId])\n  @@index([timestamp])\n  @@index([action])\n  @@schema("finance")\n}\n\n// ========================================\n// SUBLEDGER MANAGEMENT\n// ========================================\n\nmodel SubLedger {\n  id String @id @default(uuid())\n\n  // Multi-tenant scope (Agency-level, shared across SubAccounts)\n  agencyId     String\n  subAccountId String?\n  Agency       Agency      @relation(fields: [agencyId], references: [id], onDelete: Cascade)\n  SubAccount   SubAccount? @relation(fields: [subAccountId], references: [id], onDelete: Cascade)\n\n  code        String // Unique code for the subledger\n  name        String\n  description String?       @db.Text\n  type        SubledgerType\n\n  // Link to control account\n  controlAccountId String?\n  ControlAccount   ChartOfAccount? @relation("SubLedgerControl", fields: [controlAccountId], references: [id])\n\n  isActive Boolean @default(true)\n\n  createdAt DateTime @default(now())\n  createdBy String\n  updatedAt DateTime @updatedAt\n  updatedBy String?\n\n  // Relations\n  Vendors   Vendor[]\n  Customers Customer[]\n\n  @@unique([agencyId, code])\n  @@unique([subAccountId, code])\n  @@index([agencyId, type])\n  @@index([subAccountId, type])\n  @@index([controlAccountId])\n  @@schema("finance")\n}\n\nmodel Vendor {\n  id String @id @default(uuid())\n\n  // Multi-tenant scope\n  agencyId     String\n  subAccountId String?\n  Agency       Agency      @relation(fields: [agencyId], references: [id], onDelete: Cascade)\n  SubAccount   SubAccount? @relation(fields: [subAccountId], references: [id], onDelete: Cascade)\n\n  // Vendor identification\n  code    String // Vendor code\n  name    String\n  taxId   String? // Tax identification number\n  email   String?\n  phone   String?\n  address Json? // Address details\n\n  // Subledger link\n  subLedgerId String?\n  SubLedger   SubLedger? @relation(fields: [subLedgerId], references: [id])\n\n  // Payment terms\n  paymentTermDays Int      @default(30)\n  currency        String   @default("MYR")\n  creditLimit     Decimal? @db.Decimal(18, 6)\n\n  // Bank details\n  bankName      String?\n  bankAccount   String?\n  bankSwiftCode String?\n\n  isActive Boolean @default(true)\n\n  createdAt DateTime @default(now())\n  createdBy String\n  updatedAt DateTime @updatedAt\n  updatedBy String?\n\n  // Relations\n  OpenItems OpenItem[] @relation("VendorOpenItems")\n\n  @@unique([agencyId, code])\n  @@unique([subAccountId, code])\n  @@index([agencyId, isActive])\n  @@index([subAccountId, isActive])\n  @@index([subLedgerId])\n  @@schema("finance")\n}\n\nmodel Customer {\n  id String @id @default(uuid())\n\n  // Multi-tenant scope\n  agencyId     String\n  subAccountId String?\n  Agency       Agency      @relation(fields: [agencyId], references: [id], onDelete: Cascade)\n  SubAccount   SubAccount? @relation(fields: [subAccountId], references: [id], onDelete: Cascade)\n\n  // Customer identification\n  code    String // Customer code\n  name    String\n  taxId   String? // Tax identification number\n  email   String?\n  phone   String?\n  address Json? // Address details\n\n  // Subledger link\n  subLedgerId String?\n  SubLedger   SubLedger? @relation(fields: [subLedgerId], references: [id])\n\n  // Payment terms\n  paymentTermDays Int      @default(30)\n  currency        String   @default("MYR")\n  creditLimit     Decimal? @db.Decimal(18, 6)\n\n  isActive Boolean @default(true)\n\n  createdAt DateTime @default(now())\n  createdBy String\n  updatedAt DateTime @updatedAt\n  updatedBy String?\n\n  // Relations\n  OpenItems OpenItem[] @relation("CustomerOpenItems")\n  EInvoices EInvoice[]\n\n  @@unique([agencyId, code])\n  @@unique([subAccountId, code])\n  @@index([agencyId, isActive])\n  @@index([subAccountId, isActive])\n  @@index([subLedgerId])\n  @@schema("finance")\n}\n\n// ========================================\n// CONFIGURATION LOCK (Immutability)\n// ========================================\n\nmodel GLConfigurationLock {\n  id String @id @default(uuid())\n\n  // Multi-tenant scope\n  agencyId     String?\n  subAccountId String?\n  Agency       Agency?     @relation(fields: [agencyId], references: [id], onDelete: Cascade)\n  SubAccount   SubAccount? @relation(fields: [subAccountId], references: [id], onDelete: Cascade)\n\n  // What\'s locked\n  settingKey   String // "baseCurrency", "fiscalYear", "accountCodeFormat"\n  lockedValue  String @db.Text // The value that\'s locked\n  lockedReason String // "Transactions exist", "Fiscal year closed"\n\n  // Lock metadata\n  lockedAt DateTime @default(now())\n  lockedBy String\n\n  // Unlock conditions (JSON) - what needs to happen to unlock\n  // e.g., { "zeroBalance": true } or { "uploadMappingFile": true }\n  unlockConditions Json?\n\n  // Whether this lock is permanent (can never be unlocked)\n  isPermanent Boolean @default(false)\n\n  @@unique([agencyId, settingKey])\n  @@unique([subAccountId, settingKey])\n  @@index([agencyId])\n  @@index([subAccountId])\n  @@schema("finance")\n}\n\n// ========================================\n// OPEN ITEM MANAGEMENT (Clearing Mechanism)\n// ========================================\n\nmodel OpenItem {\n  id String @id @default(uuid())\n\n  // Multi-tenant scope\n  agencyId     String?\n  subAccountId String?\n  Agency       Agency?     @relation(fields: [agencyId], references: [id], onDelete: Cascade)\n  SubAccount   SubAccount? @relation(fields: [subAccountId], references: [id], onDelete: Cascade)\n\n  // Account (Control Account: AR, AP, Bank)\n  accountId String\n  Account   ChartOfAccount @relation("OpenItemAccount", fields: [accountId], references: [id])\n\n  journalEntryId String?\n  journalLineId  String?\n\n  // Source Document\n  sourceModule    SourceModule\n  sourceId        String? // ID of source document (Invoice, Payment, etc.)\n  sourceReference String? // Document number\n\n  // Matching Info (for clearing)\n  reference  String? // User-defined reference for matching\n  assignment String? // Additional info for matching (e.g., PO number)\n  text       String? @db.Text // Description or memo\n\n  // Item Details\n  itemDate DateTime\n  itemType String?\n  dueDate  DateTime?\n\n  // Amounts in local currency (system base currency)\n  localCurrencyCode    String  @default("MYR")\n  localAmount          Decimal @db.Decimal(18, 6)\n  localRemainingAmount Decimal @db.Decimal(18, 6)\n\n  // Amounts in document currency\n  documentCurrencyCode    String    @default("MYR")\n  documentAmount          Decimal   @db.Decimal(18, 6)\n  documentRemainingAmount Decimal   @db.Decimal(18, 6)\n  documentNumber          String? // Original document number\n  documentDate            DateTime?\n\n  // Exchange rate at posting\n  exchangeRate Decimal @default(1) @db.Decimal(12, 6)\n\n  // Partner (Customer/Vendor/Bank)\n  partnerType PartnerType?\n  customerId  String?\n  Customer    Customer?    @relation("CustomerOpenItems", fields: [customerId], references: [id])\n  vendorId    String?\n  Vendor      Vendor?      @relation("VendorOpenItems", fields: [vendorId], references: [id])\n\n  // Clearing Status\n  status             OpenItemStatus @default(OPEN)\n  clearingDate       DateTime?\n  clearingDocumentId String? // ID of clearing document\n  clearingReference  String? // Clearing document number\n\n  // Audit trail\n  createdAt DateTime  @default(now())\n  createdBy String\n  enteredAt DateTime  @default(now()) // Entry date\n  postedAt  DateTime? // Posting date\n  clearedAt DateTime?\n  clearedBy String?\n\n  // Allocations for partial clearing\n  Allocations OpenItemAllocation[]\n\n  @@index([agencyId, accountId, status])\n  @@index([subAccountId, accountId, status])\n  @@index([customerId, status])\n  @@index([vendorId, status])\n  @@index([clearingDate])\n  @@index([sourceModule, sourceId])\n  @@index([reference])\n  @@schema("finance")\n}\n\nmodel OpenItemAllocation {\n  id String @id @default(uuid())\n\n  // Link to open item being cleared\n  openItemId String\n  OpenItem   OpenItem @relation(fields: [openItemId], references: [id], onDelete: Cascade)\n\n  // Clearing document details\n  clearedById   String // ID of the document that clears this item\n  clearedByType ClearingDocumentType\n  clearedByRef  String? // Reference number of clearing document\n\n  // Amounts allocated\n  localAmount    Decimal @db.Decimal(18, 6)\n  documentAmount Decimal @db.Decimal(18, 6)\n\n  // Exchange difference (if any)\n  exchangeDifference Decimal @default(0) @db.Decimal(18, 6)\n\n  allocatedAt DateTime @default(now())\n  allocatedBy String\n\n  notes String? @db.Text\n\n  @@index([openItemId])\n  @@index([clearedById])\n  @@index([allocatedAt])\n  @@schema("finance")\n}\n\n// -----------------------------------------------------------------------------\n// Apps Hub: Integrations & Webhooks (Add-on modules)\n// -----------------------------------------------------------------------------\n\nmodel IntegrationApiKey {\n  id        String @id @default(uuid())\n  name      String\n  // Store only hash + prefix (never store raw secret)\n  keyPrefix String @unique\n  keyHash   String @db.Text\n\n  // Scope of ownership\n  agencyId     String?\n  subAccountId String?\n\n  createdByUserId String?\n  createdAt       DateTime  @default(now())\n  revokedAt       DateTime?\n  lastUsedAt      DateTime?\n\n  Agency     Agency?     @relation(fields: [agencyId], references: [id], onDelete: Cascade)\n  SubAccount SubAccount? @relation(fields: [subAccountId], references: [id], onDelete: Cascade)\n  CreatedBy  User?       @relation(fields: [createdByUserId], references: [id], onDelete: SetNull)\n\n  @@index([agencyId])\n  @@index([subAccountId])\n  @@index([createdByUserId])\n  @@schema("public")\n}\n\nmodel IntegrationConnection {\n  id       String @id @default(uuid())\n  provider String\n  status   String @default("DISCONNECTED") // DISCONNECTED | CONNECTED | ERROR\n\n  agencyId     String?\n  subAccountId String?\n\n  // OAuth / API credentials and provider config\n  credentials Json?\n  config      Json?\n\n  createdAt DateTime  @default(now())\n  updatedAt DateTime  @updatedAt\n  deletedAt DateTime?\n\n  Agency     Agency?     @relation(fields: [agencyId], references: [id], onDelete: Cascade)\n  SubAccount SubAccount? @relation(fields: [subAccountId], references: [id], onDelete: Cascade)\n\n  WebhookSubscriptions IntegrationWebhookSubscription[]\n  ProviderEvents       IntegrationProviderEvent[]\n\n  @@unique([provider, agencyId, subAccountId])\n  @@index([provider])\n  @@index([agencyId])\n  @@index([subAccountId])\n  @@schema("public")\n}\n\nmodel IntegrationWebhookSubscription {\n  id           String @id @default(uuid())\n  connectionId String\n\n  url        String   @db.Text\n  secretHash String?  @db.Text\n  secretEnc  String?  @db.Text\n  events     String[]\n\n  isActive  Boolean  @default(true)\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  Connection IntegrationConnection        @relation(fields: [connectionId], references: [id], onDelete: Cascade)\n  Deliveries IntegrationWebhookDelivery[]\n\n  @@index([connectionId])\n  @@index([isActive])\n  @@schema("public")\n}\n\nmodel IntegrationProviderEvent {\n  id           String @id @default(uuid())\n  provider     String\n  connectionId String\n\n  // Provider delivery/event id for idempotency\n  externalEventId String?\n\n  headers Json?\n  payload Json?\n\n  receivedAt  DateTime  @default(now())\n  processedAt DateTime?\n\n  Connection IntegrationConnection        @relation(fields: [connectionId], references: [id], onDelete: Cascade)\n  Deliveries IntegrationWebhookDelivery[]\n\n  @@unique([connectionId, externalEventId])\n  @@index([provider])\n  @@index([connectionId])\n  @@schema("public")\n}\n\nmodel IntegrationWebhookDelivery {\n  id              String  @id @default(uuid())\n  subscriptionId  String\n  providerEventId String?\n\n  status        String    @default("PENDING") // PENDING | SUCCESS | FAILED\n  attemptCount  Int       @default(0)\n  nextAttemptAt DateTime?\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  Subscription  IntegrationWebhookSubscription      @relation(fields: [subscriptionId], references: [id], onDelete: Cascade)\n  ProviderEvent IntegrationProviderEvent?           @relation(fields: [providerEventId], references: [id], onDelete: SetNull)\n  Attempts      IntegrationWebhookDeliveryAttempt[]\n\n  @@index([subscriptionId])\n  @@index([status])\n  @@index([nextAttemptAt])\n  @@schema("public")\n}\n\nmodel IntegrationWebhookDeliveryAttempt {\n  id         String @id @default(uuid())\n  deliveryId String\n\n  statusCode   Int?\n  responseBody String? @db.Text\n  error        String? @db.Text\n  durationMs   Int?\n\n  attemptedAt DateTime @default(now())\n\n  Delivery IntegrationWebhookDelivery @relation(fields: [deliveryId], references: [id], onDelete: Cascade)\n\n  @@index([deliveryId])\n  @@index([attemptedAt])\n  @@schema("public")\n}\n\nenum AppScopeKind {\n  AGENCY\n  SUBACCOUNT\n\n  @@schema("public")\n}\n\nenum AppInstallationStatus {\n  INSTALLED\n  AVAILABLE\n  EXPIRED\n  DISABLED\n\n  @@schema("public")\n}\n\nmodel AppInstallation {\n  id            String                @id @default(uuid())\n  appKey        String\n  agencyId      String\n  subAccountId  String?\n  status        AppInstallationStatus @default(INSTALLED)\n  installedAt   DateTime              @default(now())\n  uninstalledAt DateTime?\n  createdAt     DateTime              @default(now())\n  updatedAt     DateTime              @updatedAt\n\n  Agency     Agency      @relation(fields: [agencyId], references: [id], onDelete: Cascade)\n  SubAccount SubAccount? @relation(fields: [subAccountId], references: [id], onDelete: Cascade)\n\n  @@index([appKey])\n  @@index([agencyId])\n  @@index([subAccountId])\n  @@schema("public")\n}\n\nenum SupportTicketStatus {\n  OPEN\n  IN_PROGRESS\n  RESOLVED\n  CLOSED\n\n  @@schema("public")\n}\n\nmodel SupportTicket {\n  id        String   @id @default(uuid())\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  scope       MeteringScope\n  status      SupportTicketStatus @default(OPEN)\n  category    String\n  title       String\n  description String?             @db.Text\n  diagnostics Json?\n\n  // Tenant scoping\n  agencyId     String\n  subAccountId String?\n\n  // Actor\n  createdByUserId String?\n\n  Agency        Agency      @relation(fields: [agencyId], references: [id], onDelete: Cascade)\n  SubAccount    SubAccount? @relation(fields: [subAccountId], references: [id], onDelete: Cascade)\n  CreatedByUser User?       @relation(fields: [createdByUserId], references: [id], onDelete: SetNull)\n\n  @@index([scope, agencyId])\n  @@index([scope, subAccountId])\n  @@index([status, createdAt])\n  @@schema("public")\n}\n\n// ============================================================================\n// E-INVOICE & BILLING CONFIGURATION (finance schema)\n// ============================================================================\n// NOTE: Autlify does NOT handle tax compliance/liability. These models store\n// user-configured settings for e-Invoice generation and tax visualization.\n// KYC and business verification is handled by Stripe Connect.\n// ============================================================================\n\nenum EInvoiceFormat {\n  UBL_2_1 // OASIS Universal Business Language 2.1\n  CII_D16B // UN/CEFACT Cross Industry Invoice D16B\n  PEPPOL_BIS_3 // Peppol Business Interoperability Specification 3.0\n  EN16931 // European semantic standard\n  MYINVOIS // Malaysia LHDN MyInvois\n  ZATCA_FATOORA // Saudi Arabia ZATCA Fatoora\n  SGP_INVOICENOW // Singapore InvoiceNow (Peppol-based)\n  FACTUR_X // France/Germany hybrid PDF/XML\n  XRECHNUNG // German e-Invoice standard\n  FatturaPA // Italy electronic invoice\n  GST_EINVOICE // India GST e-Invoice\n\n  @@schema("finance")\n}\n\nenum EInvoiceStatus {\n  DRAFT // Not yet validated or submitted\n  PENDING_VALIDATION // Awaiting format/schema validation\n  VALIDATED // Passed validation, ready to submit\n  SUBMITTED // Sent to tax authority/recipient\n  ACCEPTED // Accepted by tax authority\n  REJECTED // Rejected with errors\n  CANCELLED // Cancelled after acceptance\n  EXPIRED // Past submission deadline\n\n  @@schema("finance")\n}\n\nenum EInvoiceDocType {\n  INVOICE // 380 - Commercial invoice\n  CREDIT_NOTE // 381 - Credit note\n  DEBIT_NOTE // 383 - Debit note\n  CORRECTED // 384 - Corrected invoice\n  PREPAYMENT // 386 - Prepayment invoice\n  SELF_BILLED // 389 - Self-billed invoice\n\n  @@schema("finance")\n}\n\nenum DiscountType {\n  PERCENTAGE // Percentage off (e.g., 10% off)\n  FIXED_AMOUNT // Fixed amount off (e.g., $10 off)\n  TIERED // Discount based on quantity/amount tiers\n\n  @@schema("finance")\n}\n\nenum DiscountDuration {\n  ONCE // Apply once\n  REPEATING // Apply for X months\n  FOREVER // Apply indefinitely\n\n  @@schema("finance")\n}\n\nenum DiscountScope {\n  INVOICE // Entire invoice/order\n  LINE_ITEM // Specific line item(s)\n  SUBSCRIPTION // Subscription recurring charges\n  SPECIFIC_PRODUCT // Specific product(s) only\n\n  @@schema("finance")\n}\n\nenum IndustryClassificationScheme {\n  MSIC_2008 // Malaysian Standard Industrial Classification 2008\n  MSIC_2020 // Malaysian Standard Industrial Classification 2020\n  ISIC_REV4 // International Standard Industrial Classification Rev.4\n  SIC_US // US Standard Industrial Classification\n  NAICS_2022 // North American Industry Classification System 2022\n  NACE_REV2 // Statistical Classification of Economic Activities (EU)\n  SSIC_2020 // Singapore Standard Industrial Classification 2020\n  ANZSIC_2006 // Australian/New Zealand SIC 2006\n  UNSPSC // United Nations Standard Products and Services Code\n  HS_2022 // Harmonized System 2022 (customs/trade)\n\n  @@schema("finance")\n}\n\nenum TaxExemptionVerificationStatus {\n  PENDING // Awaiting verification\n  VERIFIED // Verified by authority or system\n  REJECTED // Verification failed\n  EXPIRED // Certificate expired\n\n  @@schema("finance")\n}\n\n// ============================================================================\n// INDUSTRY CLASSIFICATION\n// Stores business activity/product classification codes\n// ============================================================================\n\nmodel IndustryClassification {\n  id String @id @default(uuid())\n\n  // Link to TaxIdentity (business registration)\n  taxIdentityId String\n  TaxIdentity   TaxIdentity @relation(fields: [taxIdentityId], references: [id], onDelete: Cascade)\n\n  // Classification details\n  scheme      IndustryClassificationScheme\n  code        String // e.g., "62010" for MSIC software publishing\n  description String? // Looked up from authority, not hardcoded\n  version     String? // Scheme version/revision\n  parentCode  String? // Parent code for hierarchy\n  level       Int? // Level in hierarchy\n\n  // Priority\n  isPrimary Boolean @default(false) // Primary business activity\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  @@unique([taxIdentityId, scheme, code])\n  @@index([taxIdentityId])\n  @@index([scheme, code])\n  @@schema("finance")\n}\n\n// ============================================================================\n// TAX EXEMPTION CERTIFICATE\n// Stores exemption certificates uploaded/configured by users\n// ============================================================================\n\nmodel TaxExemptionCertificate {\n  id String @id @default(uuid())\n\n  // Link to TaxIdentity\n  taxIdentityId String\n  TaxIdentity   TaxIdentity @relation(fields: [taxIdentityId], references: [id], onDelete: Cascade)\n\n  // Certificate details\n  certificateId    String // Certificate ID/number\n  exemptionType    String // TaxExemptionReasonCode\n  issuingAuthority String\n  countryCode      String // ISO 3166-1 alpha-2\n\n  // Validity\n  issueDate  DateTime\n  expiryDate DateTime? // null = permanent\n\n  // Tax types covered (e.g., ["VAT", "SST"])\n  coveredTaxTypes     String[] @default([])\n  exemptionPercentage Decimal  @default(100) @db.Decimal(5, 2) // 100 = full exemption\n\n  // Document storage\n  documentUrl  String? @db.Text\n  documentHash String? // For integrity verification\n\n  // Verification\n  verificationStatus TaxExemptionVerificationStatus @default(PENDING)\n  verifiedBy         String?\n  verifiedAt         DateTime?\n\n  notes String? @db.Text\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  @@index([taxIdentityId])\n  @@index([expiryDate])\n  @@index([verificationStatus])\n  @@schema("finance")\n}\n\n// ============================================================================\n// E-INVOICE SETTINGS\n// Agency/SubAccount-level e-invoice configuration\n// ============================================================================\n\nmodel EInvoiceSettings {\n  id String @id @default(uuid())\n\n  // Tenant scoping (one per agency/subaccount)\n  agencyId     String? @unique\n  subAccountId String? @unique\n\n  // E-Invoice format preference\n  defaultFormat EInvoiceFormat @default(UBL_2_1)\n\n  // Country-specific settings\n  countryCode String // Primary country for e-Invoice\n\n  // API credentials for tax authority (encrypted)\n  authorityClientId     String? @db.Text\n  authorityClientSecret String? @db.Text\n  authorityEndpoint     String? // API endpoint URL\n\n  // Default GL accounts for e-Invoice transactions\n  defaultRevenueAccountId    String?\n  defaultReceivableAccountId String?\n  defaultTaxOutputAccountId  String?\n\n  // Numbering\n  invoicePrefix     String @default("INV")\n  invoiceNextSeq    Int    @default(1)\n  creditNotePrefix  String @default("CN")\n  creditNoteNextSeq Int    @default(1)\n\n  // Auto-submission settings\n  autoSubmit      Boolean @default(false)\n  autoSubmitDelay Int     @default(0) // Minutes before auto-submit\n\n  // Digital signature\n  signInvoices   Boolean @default(false)\n  signingCertUrl String? @db.Text\n\n  // Metadata\n  isActive  Boolean  @default(true)\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  // Relations to GL accounts\n  DefaultRevenueAccount    ChartOfAccount? @relation("EInvoiceRevenueAccount", fields: [defaultRevenueAccountId], references: [id], onDelete: SetNull)\n  DefaultReceivableAccount ChartOfAccount? @relation("EInvoiceReceivableAccount", fields: [defaultReceivableAccountId], references: [id], onDelete: SetNull)\n  DefaultTaxOutputAccount  ChartOfAccount? @relation("EInvoiceTaxOutputAccount", fields: [defaultTaxOutputAccountId], references: [id], onDelete: SetNull)\n\n  EInvoices EInvoice[]\n\n  @@schema("finance")\n}\n\n// ============================================================================\n// E-INVOICE\n// Main e-invoice document matching UBL 2.1 / EN16931 structure\n// ============================================================================\n\nmodel EInvoice {\n  id String @id @default(uuid())\n\n  // Settings reference\n  settingsId String\n  Settings   EInvoiceSettings @relation(fields: [settingsId], references: [id], onDelete: Restrict)\n\n  // Document identification\n  invoiceNumber String // Unique within settings context\n  documentType  EInvoiceDocType @default(INVOICE)\n  format        EInvoiceFormat\n\n  // Dates (ISO 8601)\n  issueDate DateTime\n  dueDate   DateTime?\n\n  // Currency\n  documentCurrency String  @default("MYR") // ISO 4217\n  taxCurrency      String? // If different from document currency\n\n  // Status\n  status EInvoiceStatus @default(DRAFT)\n\n  // References\n  buyerReference    String? // PO number, etc.\n  orderReference    String?\n  contractReference String?\n\n  // Period (for recurring/subscription invoices)\n  periodStart DateTime?\n  periodEnd   DateTime?\n\n  // Supplier party (from issuer\'s TaxIdentity)\n  supplierTaxIdentityId String?\n\n  // Customer party\n  customerId      String? // Reference to Customer model\n  customerName    String // Denormalized for display\n  customerTaxId   String? // Customer\'s tax ID\n  customerAddress Json? // EInvoiceAddress as JSON\n  customerContact Json? // EInvoiceContact as JSON\n\n  // Monetary totals (in smallest currency unit)\n  lineExtensionAmount   Decimal  @db.Decimal(15, 2) // Sum of line amounts before tax\n  taxExclusiveAmount    Decimal  @db.Decimal(15, 2) // Total before tax\n  taxInclusiveAmount    Decimal  @db.Decimal(15, 2) // Total including tax\n  allowanceTotalAmount  Decimal? @db.Decimal(15, 2) // Total discounts\n  chargeTotalAmount     Decimal? @db.Decimal(15, 2) // Total charges\n  prepaidAmount         Decimal? @db.Decimal(15, 2) // Already paid\n  payableRoundingAmount Decimal? @db.Decimal(15, 4) // Rounding adjustment\n  payableAmount         Decimal  @db.Decimal(15, 2) // Final amount due\n\n  // Tax breakdown (as JSON array of tax subtotals)\n  taxBreakdown Json? // Array of { taxCategoryCode, taxRate, taxableAmount, taxAmount }\n\n  // Payment\n  paymentMeansCode String? // UNCL4461 code\n  paymentTermsNote String?\n  bankAccountId    String?\n  bankAccountName  String?\n\n  // Document-level allowances/charges (as JSON)\n  allowanceCharges Json? // Array of EInvoiceAllowanceCharge\n\n  // Delivery\n  deliveryDate    DateTime?\n  deliveryAddress Json? // EInvoiceAddress as JSON\n\n  // Notes\n  notes String? @db.Text\n\n  // Submission tracking\n  submittedAt         DateTime?\n  authorityResponseId String? // Tax authority\'s response/receipt ID\n  validationId        String? // LHDN UUID, ZATCA ID, etc.\n  qrCodeData          String?   @db.Text // For printed QR code\n\n  // Digital signature\n  signedAt        DateTime?\n  signatureValue  String?   @db.Text\n  certificateInfo String?   @db.Text\n\n  // Validation errors (if rejected)\n  validationErrors Json? // Array of { code, message, path }\n\n  // Full XML/JSON document (for compliance record-keeping)\n  rawDocument       String? @db.Text\n  rawDocumentFormat String? // "xml" or "json"\n\n  // GL Integration - link to JournalEntry when posted\n  journalEntryId String?\n  JournalEntry   JournalEntry? @relation(fields: [journalEntryId], references: [id], onDelete: SetNull)\n\n  // Audit\n  createdAt   DateTime @default(now())\n  updatedAt   DateTime @updatedAt\n  createdById String?\n\n  // Relations\n  Customer            Customer?            @relation(fields: [customerId], references: [id], onDelete: SetNull)\n  SupplierTaxIdentity TaxIdentity?         @relation(fields: [supplierTaxIdentityId], references: [id], onDelete: SetNull)\n  LineItems           EInvoiceLineItem[]\n  Submissions         EInvoiceSubmission[]\n\n  @@unique([settingsId, invoiceNumber])\n  @@index([settingsId])\n  @@index([status])\n  @@index([customerId])\n  @@index([issueDate])\n  @@index([journalEntryId])\n  @@schema("finance")\n}\n\n// ============================================================================\n// E-INVOICE LINE ITEM\n// Individual line items on an e-invoice\n// ============================================================================\n\nmodel EInvoiceLineItem {\n  id String @id @default(uuid())\n\n  // Parent invoice\n  invoiceId String\n  Invoice   EInvoice @relation(fields: [invoiceId], references: [id], onDelete: Cascade)\n\n  // Line identification\n  lineNumber Int // Sequential line number (1-based)\n\n  // Quantity and unit\n  quantity Decimal @db.Decimal(15, 4)\n  unitCode String  @default("C62") // UN/ECE rec 20\n\n  // Item details\n  itemName           String\n  itemDescription    String?\n  sellersItemId      String? // Internal SKU/code\n  standardItemId     String? // GTIN/EAN/UPC\n  standardItemScheme String? // "GTIN", "EAN", etc.\n\n  // Classification\n  classificationCode   String? // Industry classification code (MSIC, UNSPSC, etc.)\n  classificationScheme String? // IndustryClassificationScheme value\n\n  // Pricing (in smallest currency unit, normalized to document currency)\n  unitPrice         Decimal  @db.Decimal(15, 4)\n  priceBaseQuantity Decimal? @default(1) @db.Decimal(15, 4)\n\n  // Calculated amounts\n  lineExtensionAmount Decimal @db.Decimal(15, 2) // quantity × unitPrice\n\n  // Tax\n  taxCategoryCode String  @default("S") // UNCL5305: S, Z, E, AE, etc.\n  taxRate         Decimal @default(0) @db.Decimal(5, 2) // Percentage\n  taxScheme       String  @default("SST") // VAT, GST, SST, etc.\n  taxAmount       Decimal @db.Decimal(15, 2) // Calculated tax\n\n  // Exemption (if applicable)\n  exemptionReasonCode String?\n  exemptionReason     String?\n\n  // Line-level allowances/charges (as JSON)\n  allowanceCharges Json? // Array of EInvoiceAllowanceCharge\n\n  // Reference to order line\n  orderLineReference String?\n\n  // GL account for revenue (if different from default)\n  revenueAccountId String?\n  RevenueAccount   ChartOfAccount? @relation(fields: [revenueAccountId], references: [id], onDelete: SetNull)\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  @@index([invoiceId])\n  @@index([classificationCode])\n  @@schema("finance")\n}\n\n// ============================================================================\n// E-INVOICE SUBMISSION\n// Tracks submission attempts to tax authorities\n// ============================================================================\n\nmodel EInvoiceSubmission {\n  id String @id @default(uuid())\n\n  invoiceId String\n  Invoice   EInvoice @relation(fields: [invoiceId], references: [id], onDelete: Cascade)\n\n  // Submission details\n  submittedAt DateTime       @default(now())\n  format      EInvoiceFormat\n  endpoint    String // API endpoint used\n\n  // Request/Response\n  requestPayload  String? @db.Text // Sent XML/JSON\n  responseStatus  Int? // HTTP status code\n  responsePayload String? @db.Text // Received response\n\n  // Result\n  success      Boolean @default(false)\n  authorityId  String? // Authority\'s document ID\n  validationId String? // Validation/UUID from authority\n  errorCode    String?\n  errorMessage String? @db.Text\n\n  // Retry tracking\n  attemptNumber Int       @default(1)\n  willRetry     Boolean   @default(false)\n  nextRetryAt   DateTime?\n\n  @@index([invoiceId])\n  @@index([submittedAt])\n  @@schema("finance")\n}\n\n// ============================================================================\n// DISCOUNT\n// Coupon/promo code configuration for subscriptions and invoices\n// ============================================================================\n\nmodel Discount {\n  id String @id @default(uuid())\n\n  // Tenant scoping\n  agencyId String\n\n  // Identification\n  code        String // Coupon/promo code\n  name        String // Display name\n  description String?\n\n  // Type and value\n  discountType DiscountType\n  percentOff   Decimal?     @db.Decimal(5, 2) // For PERCENTAGE type (0-100)\n  amountOff    Decimal?     @db.Decimal(15, 2) // For FIXED_AMOUNT type\n  currency     String?      @default("MYR") // Currency for fixed amount\n\n  // Scope\n  scope DiscountScope @default(INVOICE)\n\n  // Duration\n  duration         DiscountDuration @default(ONCE)\n  durationInMonths Int? // For REPEATING duration\n\n  // Limits\n  maxRedemptions Int? // null = unlimited\n  timesRedeemed  Int  @default(0)\n\n  // Validity period\n  validFrom DateTime  @default(now())\n  expiresAt DateTime? // null = no expiry\n\n  // Conditions\n  minimumAmount      Decimal? @db.Decimal(15, 2) // Minimum purchase to qualify\n  applicablePlans    String[] @default([]) // Plan keys (empty = all)\n  applicableProducts String[] @default([]) // Product IDs (empty = all)\n\n  // Stripe integration\n  stripeCouponId  String?\n  stripePromoCode String?\n\n  // Status\n  isActive Boolean @default(true)\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  AppliedDiscounts AppliedDiscount[]\n\n  @@unique([agencyId, code])\n  @@index([agencyId])\n  @@index([code])\n  @@index([isActive])\n  @@schema("finance")\n}\n\n// ============================================================================\n// APPLIED DISCOUNT\n// Junction table for discounts applied to invoices/subscriptions\n// ============================================================================\n\nmodel AppliedDiscount {\n  id String @id @default(uuid())\n\n  discountId String\n  Discount   Discount @relation(fields: [discountId], references: [id], onDelete: Cascade)\n\n  // What it was applied to\n  invoiceId      String? // EInvoice ID\n  subscriptionId String? // Subscription ID\n\n  // Calculated values (in smallest currency unit)\n  originalAmount Decimal @db.Decimal(15, 2)\n  discountAmount Decimal @db.Decimal(15, 2)\n  finalAmount    Decimal @db.Decimal(15, 2)\n\n  // Source\n  source String @default("manual") // "coupon", "promo_code", "automatic", "manual"\n\n  appliedAt   DateTime @default(now())\n  appliedById String?\n\n  @@index([discountId])\n  @@index([invoiceId])\n  @@index([subscriptionId])\n  @@schema("finance")\n}\n\n// ============================================================================\n// AUTOMATION ACCOUNT MAPPINGS\n// Defines debit/credit account pairs for automatic postings (forex, discrepancy, etc.)\n// ============================================================================\n\nenum AutomationCategory {\n  FOREX\n  DISCREPANCY\n  OPERATIONS\n  CLEARING\n  TAX\n  INVENTORY\n\n  @@schema("finance")\n}\n\nmodel AutomationAccountMapping {\n  id           String  @id @default(uuid())\n  agencyId     String?\n  subAccountId String?\n\n  // Mapping category\n  category    AutomationCategory\n  subcategory String // e.g., \'realizedGain\', \'paymentDifference\'\n\n  // Account references\n  debitAccountId  String\n  creditAccountId String\n\n  // Configuration\n  tolerance Decimal? @db.Decimal(18, 4)\n  isActive  Boolean  @default(true)\n\n  // Template source\n  templateId String?\n  isCustom   Boolean @default(false)\n\n  // Audit\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n  createdBy String?\n\n  // Relations\n  Agency        Agency?        @relation(fields: [agencyId], references: [id], onDelete: Cascade)\n  SubAccount    SubAccount?    @relation(fields: [subAccountId], references: [id], onDelete: Cascade)\n  DebitAccount  ChartOfAccount @relation("DebitMappings", fields: [debitAccountId], references: [id], onDelete: Restrict)\n  CreditAccount ChartOfAccount @relation("CreditMappings", fields: [creditAccountId], references: [id], onDelete: Restrict)\n\n  @@unique([agencyId, subAccountId, category, subcategory])\n  @@index([agencyId])\n  @@index([subAccountId])\n  @@map("AutomationAccountMapping")\n  @@schema("finance")\n}\n\n// ============================================================================\n// INTEGRATION CONNECTORS\n// Configuration for internal modules and external service connections\n// ============================================================================\n\nenum ConnectorType {\n  INTERNAL_MODULE\n  EXCHANGE_RATE\n  ERP\n  BANK\n  PAYMENT\n  CUSTOM\n\n  @@schema("finance")\n}\n\nenum ConnectorHealth {\n  HEALTHY\n  DEGRADED\n  ERROR\n  UNKNOWN\n\n  @@schema("finance")\n}\n\nmodel IntegrationConnector {\n  id       String @id @default(uuid())\n  agencyId String\n\n  // Connector info\n  connectorId   String // e.g., \'fi-ar\', \'frankfurter\', \'stripe\'\n  connectorType ConnectorType\n  name          String\n\n  // Configuration\n  isEnabled   Boolean @default(true)\n  settings    Json    @default("{}")\n  credentials String? @db.Text // Encrypted\n\n  // Mappings\n  fieldMappings Json @default("[]")\n\n  // Status\n  lastSync     DateTime?\n  lastError    String?         @db.Text\n  healthStatus ConnectorHealth @default(UNKNOWN)\n\n  // Audit\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n  createdBy String?\n\n  // Relations\n  Agency     Agency      @relation(fields: [agencyId], references: [id], onDelete: Cascade)\n  FanoutLogs FanoutLog[]\n\n  @@unique([agencyId, connectorId])\n  @@index([agencyId])\n  @@map("IntegrationConnector")\n  @@schema("finance")\n}\n\n// ============================================================================\n// FANOUT LOGS\n// Tracks cross-module posting events and their results\n// ============================================================================\n\nenum FanoutStatus {\n  PENDING\n  PROCESSING\n  SUCCESS\n  PARTIAL\n  FAILED\n  SKIPPED\n\n  @@schema("finance")\n}\n\nmodel FanoutLog {\n  id          String  @id @default(uuid())\n  agencyId    String\n  connectorId String?\n\n  // Event info\n  eventId      String\n  eventType    String\n  sourceModule String\n\n  // Entity reference\n  entityType String\n  entityId   String\n\n  // Result\n  status          FanoutStatus @default(PENDING)\n  entriesCreated  Int          @default(0)\n  journalEntryIds String[]     @default([])\n\n  // Error tracking\n  errorMessage String?   @db.Text\n  errorDetails Json?\n  retryCount   Int       @default(0)\n  lastRetry    DateTime?\n\n  // Timing\n  createdAt   DateTime  @default(now())\n  processedAt DateTime?\n\n  // Relations\n  Agency    Agency                @relation(fields: [agencyId], references: [id], onDelete: Cascade)\n  Connector IntegrationConnector? @relation(fields: [connectorId], references: [id], onDelete: SetNull)\n\n  @@index([agencyId])\n  @@index([eventType])\n  @@index([status])\n  @@index([entityType, entityId])\n  @@map("FanoutLog")\n  @@schema("finance")\n}\n\n// ============================================================================\n// TEMPLATES\n// System and custom templates for various configurations\n// ============================================================================\n\nenum TemplateCategory {\n  CHART_OF_ACCOUNTS\n  JOURNAL_UPLOAD\n  POSTING_RULES\n  REPORT_LAYOUT\n  TAX_CONFIGURATION\n  INTEGRATION_MAPPING\n  INDUSTRY_SETUP\n\n  @@schema("public")\n}\n\nenum TemplateSource {\n  SYSTEM\n  CUSTOM\n\n  @@schema("public")\n}\n\nmodel Template {\n  id       String  @id @default(uuid())\n  agencyId String? // null for system templates\n\n  // Metadata\n  category    TemplateCategory\n  name        String\n  description String?          @db.Text\n  version     String           @default("1.0.0")\n\n  // Source\n  source TemplateSource @default(CUSTOM)\n\n  // Content\n  schema Json // Column definitions\n  data   Json? // Default data if any\n\n  // Entitlements\n  requiredEntitlements String[] @default([])\n\n  // Usage\n  usageCount Int       @default(0)\n  lastUsed   DateTime?\n\n  // Status\n  isActive Boolean @default(true)\n  isPublic Boolean @default(false) // Visible to all agencies\n\n  // Audit\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n  createdBy String?\n\n  // Relations\n  Agency Agency? @relation(fields: [agencyId], references: [id], onDelete: Cascade)\n\n  @@index([agencyId])\n  @@index([category])\n  @@index([source])\n  @@map("Template")\n  @@schema("public")\n}\n\n// ============================================================================\n// JOURNAL UPLOAD BATCH\n// Tracks bulk journal entry uploads\n// ============================================================================\n\nenum UploadStatus {\n  PENDING\n  VALIDATING\n  VALIDATED\n  PROCESSING\n  COMPLETED\n  FAILED\n\n  @@schema("finance")\n}\n\nmodel JournalUploadBatch {\n  id           String  @id @default(uuid())\n  agencyId     String\n  subAccountId String?\n\n  // File info\n  filename String\n  fileSize Int\n  rowCount Int\n\n  // Template used\n  templateId String?\n\n  // Status\n  status    UploadStatus @default(PENDING)\n  validRows Int          @default(0)\n  errorRows Int          @default(0)\n\n  // Processing\n  validationErrors Json?\n  journalEntryIds  String[] @default([])\n\n  // Timing\n  createdAt   DateTime  @default(now())\n  processedAt DateTime?\n\n  // Audit\n  createdBy String\n\n  // Relations\n  Agency     Agency      @relation(fields: [agencyId], references: [id], onDelete: Cascade)\n  SubAccount SubAccount? @relation(fields: [subAccountId], references: [id], onDelete: Cascade)\n\n  @@index([agencyId])\n  @@index([status])\n  @@map("JournalUploadBatch")\n  @@schema("finance")\n}\n\n// ============================================================================\n// EXCHANGE RATE CACHE\n// Caches exchange rates from external providers\n// ============================================================================\n\nmodel ExchangeRateCache {\n  id String @id @default(uuid())\n\n  // Currency pair\n  baseCurrency   String\n  targetCurrency String\n  rateDate       DateTime @db.Date\n\n  // Rate data\n  rate        Decimal @db.Decimal(18, 10)\n  inverseRate Decimal @db.Decimal(18, 10)\n\n  // Provider\n  provider String // e.g., \'frankfurter\', \'openexchangerates\'\n\n  // Cache info\n  fetchedAt DateTime @default(now())\n  expiresAt DateTime\n\n  @@unique([baseCurrency, targetCurrency, rateDate, provider])\n  @@index([baseCurrency, targetCurrency])\n  @@index([rateDate])\n  @@map("ExchangeRateCache")\n  @@schema("finance")\n}\n',runtimeDataModel:{models:{},enums:{},types:{}}};async function d(n){let{Buffer:t}=await e.A(916005),a=t.from(n,"base64");return new WebAssembly.Module(a)}r.runtimeDataModel=JSON.parse('{"models":{"User":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"name","kind":"scalar","type":"String"},{"name":"firstName","kind":"scalar","type":"String"},{"name":"lastName","kind":"scalar","type":"String"},{"name":"email","kind":"scalar","type":"String"},{"name":"emailVerified","kind":"scalar","type":"DateTime"},{"name":"password","kind":"scalar","type":"String"},{"name":"avatarUrl","kind":"scalar","type":"String"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"customerId","kind":"scalar","type":"String"},{"name":"trialEligible","kind":"scalar","type":"Boolean"},{"name":"TermsAgreement","kind":"object","type":"TermsAgreement","relationName":"TermsAgreementToUser"},{"name":"AgencyMemberships","kind":"object","type":"AgencyMembership","relationName":"AgencyMembershipToUser"},{"name":"SubAccountMemberships","kind":"object","type":"SubAccountMembership","relationName":"SubAccountMembershipToUser"},{"name":"Authenticators","kind":"object","type":"Authenticator","relationName":"AuthenticatorToUser"},{"name":"Ticket","kind":"object","type":"Ticket","relationName":"TicketToUser"},{"name":"Notification","kind":"object","type":"Notification","relationName":"NotificationToUser"},{"name":"accounts","kind":"object","type":"Account","relationName":"AccountToUser"},{"name":"sessions","kind":"object","type":"Session","relationName":"SessionToUser"},{"name":"Passkeys","kind":"object","type":"Passkey","relationName":"PasskeyToUser"},{"name":"MFAChallenges","kind":"object","type":"MFAChallenge","relationName":"MFAChallengeToUser"},{"name":"MFAMethods","kind":"object","type":"MFAMethod","relationName":"MFAMethodToUser"},{"name":"SSOUserMappings","kind":"object","type":"SSOUserMapping","relationName":"SSOUserMappingToUser"},{"name":"FeaturePreferences","kind":"object","type":"FeaturePreference","relationName":"FeaturePreferenceToUser"},{"name":"ApiKeys","kind":"object","type":"ApiKey","relationName":"ApiKeyToUser"},{"name":"IntegrationApiKeys","kind":"object","type":"IntegrationApiKey","relationName":"IntegrationApiKeyToUser"},{"name":"SupportTickets","kind":"object","type":"SupportTicket","relationName":"SupportTicketToUser"}],"dbName":null},"TermsAgreement":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"userId","kind":"scalar","type":"String"},{"name":"agreedToThirdPartyServices","kind":"scalar","type":"Boolean"},{"name":"thirdPartyServicesAgreedAt","kind":"scalar","type":"DateTime"},{"name":"consentToCookies","kind":"scalar","type":"Boolean"},{"name":"cookiesConsentAt","kind":"scalar","type":"DateTime"},{"name":"agreedToPrivacy","kind":"scalar","type":"Boolean"},{"name":"privacyAgreedAt","kind":"scalar","type":"DateTime"},{"name":"agreedToServiceTerms","kind":"scalar","type":"Boolean"},{"name":"serviceTermsAgreedAt","kind":"scalar","type":"DateTime"},{"name":"agreedToMarketing","kind":"scalar","type":"Boolean"},{"name":"marketingAgreedAt","kind":"scalar","type":"DateTime"},{"name":"agreedToTermsConditions","kind":"scalar","type":"Boolean"},{"name":"termsConditionsAgreedAt","kind":"scalar","type":"DateTime"},{"name":"agreedToDataProcessing","kind":"scalar","type":"Boolean"},{"name":"dataProcessingAgreedAt","kind":"scalar","type":"DateTime"},{"name":"agreedToRetentionPolicy","kind":"scalar","type":"Boolean"},{"name":"andRetentionPolicyAgreedAt","kind":"scalar","type":"DateTime"},{"name":"agreedToRefundPolicy","kind":"scalar","type":"Boolean"},{"name":"refundPolicyAgreedAt","kind":"scalar","type":"DateTime"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"User","kind":"object","type":"User","relationName":"TermsAgreementToUser"}],"dbName":null},"Authenticator":{"fields":[{"name":"credentialID","kind":"scalar","type":"String"},{"name":"userId","kind":"scalar","type":"String"},{"name":"providerAccountId","kind":"scalar","type":"String"},{"name":"credentialPublicKey","kind":"scalar","type":"String"},{"name":"counter","kind":"scalar","type":"Int"},{"name":"credentialDeviceType","kind":"scalar","type":"String"},{"name":"credentialBackedUp","kind":"scalar","type":"Boolean"},{"name":"transports","kind":"scalar","type":"String"},{"name":"User","kind":"object","type":"User","relationName":"AuthenticatorToUser"}],"dbName":null},"Account":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"userId","kind":"scalar","type":"String"},{"name":"type","kind":"scalar","type":"String"},{"name":"provider","kind":"scalar","type":"String"},{"name":"providerAccountId","kind":"scalar","type":"String"},{"name":"refresh_token","kind":"scalar","type":"String"},{"name":"access_token","kind":"scalar","type":"String"},{"name":"expires_at","kind":"scalar","type":"Int"},{"name":"token_type","kind":"scalar","type":"String"},{"name":"scope","kind":"scalar","type":"String"},{"name":"id_token","kind":"scalar","type":"String"},{"name":"session_state","kind":"scalar","type":"String"},{"name":"user","kind":"object","type":"User","relationName":"AccountToUser"}],"dbName":null},"Session":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"sessionToken","kind":"scalar","type":"String"},{"name":"userId","kind":"scalar","type":"String"},{"name":"expires","kind":"scalar","type":"DateTime"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"activeAgencyId","kind":"scalar","type":"String"},{"name":"activeSubAccountId","kind":"scalar","type":"String"},{"name":"deviceName","kind":"scalar","type":"String"},{"name":"ipAddress","kind":"scalar","type":"String"},{"name":"userAgent","kind":"scalar","type":"String"},{"name":"lastActiveAt","kind":"scalar","type":"DateTime"},{"name":"revokedAt","kind":"scalar","type":"DateTime"},{"name":"user","kind":"object","type":"User","relationName":"SessionToUser"}],"dbName":null},"ApiKey":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"kind","kind":"enum","type":"ApiKeyKind"},{"name":"name","kind":"scalar","type":"String"},{"name":"prefix","kind":"scalar","type":"String"},{"name":"secretHash","kind":"scalar","type":"String"},{"name":"ownerUserId","kind":"scalar","type":"String"},{"name":"ownerUser","kind":"object","type":"User","relationName":"ApiKeyToUser"},{"name":"agencyId","kind":"scalar","type":"String"},{"name":"subAccountId","kind":"scalar","type":"String"},{"name":"Agency","kind":"object","type":"Agency","relationName":"AgencyToApiKey"},{"name":"SubAccount","kind":"object","type":"SubAccount","relationName":"ApiKeyToSubAccount"},{"name":"permissionKeys","kind":"scalar","type":"String"},{"name":"allowedSubAccountIds","kind":"scalar","type":"String"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"lastUsedAt","kind":"scalar","type":"DateTime"},{"name":"expiresAt","kind":"scalar","type":"DateTime"},{"name":"revokedAt","kind":"scalar","type":"DateTime"}],"dbName":null},"VerificationToken":{"fields":[{"name":"identifier","kind":"scalar","type":"String"},{"name":"token","kind":"scalar","type":"String"},{"name":"expires","kind":"scalar","type":"DateTime"}],"dbName":null},"TaxIdentity":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"agencyId","kind":"scalar","type":"String"},{"name":"subAccountId","kind":"scalar","type":"String"},{"name":"entityType","kind":"enum","type":"EntityType"},{"name":"entityStructure","kind":"scalar","type":"String"},{"name":"legalName","kind":"scalar","type":"String"},{"name":"countryCode","kind":"scalar","type":"String"},{"name":"state","kind":"scalar","type":"String"},{"name":"idType","kind":"scalar","type":"String"},{"name":"idNumber","kind":"scalar","type":"String"},{"name":"tinType","kind":"scalar","type":"String"},{"name":"tinNumber","kind":"scalar","type":"String"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"Agency","kind":"object","type":"Agency","relationName":"AgencyToTaxIdentity"},{"name":"SubAccount","kind":"object","type":"SubAccount","relationName":"SubAccountToTaxIdentity"},{"name":"TaxObligations","kind":"object","type":"TaxObligation","relationName":"TaxIdentityToTaxObligation"},{"name":"IndustryClassifications","kind":"object","type":"IndustryClassification","relationName":"IndustryClassificationToTaxIdentity"},{"name":"TaxExemptionCertificates","kind":"object","type":"TaxExemptionCertificate","relationName":"TaxExemptionCertificateToTaxIdentity"},{"name":"EInvoices","kind":"object","type":"EInvoice","relationName":"EInvoiceToTaxIdentity"}],"dbName":null},"TaxObligation":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"taxIdentityId","kind":"scalar","type":"String"},{"name":"taxCategory","kind":"scalar","type":"String"},{"name":"taxCode","kind":"scalar","type":"String"},{"name":"taxRegistrationNo","kind":"scalar","type":"String"},{"name":"taxExmptionNo","kind":"scalar","type":"String"},{"name":"taxRate","kind":"scalar","type":"Decimal"},{"name":"description","kind":"scalar","type":"String"},{"name":"jurisdiction","kind":"scalar","type":"String"},{"name":"taxAuthority","kind":"scalar","type":"String"},{"name":"effectiveFrom","kind":"scalar","type":"DateTime"},{"name":"effectiveTo","kind":"scalar","type":"DateTime"},{"name":"isActive","kind":"scalar","type":"Boolean"},{"name":"dueDate","kind":"scalar","type":"DateTime"},{"name":"frequency","kind":"scalar","type":"String"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"TaxIdentity","kind":"object","type":"TaxIdentity","relationName":"TaxIdentityToTaxObligation"}],"dbName":null},"Agency":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"connectAccountId","kind":"scalar","type":"String"},{"name":"customerId","kind":"scalar","type":"String"},{"name":"taxIdentityId","kind":"scalar","type":"String"},{"name":"name","kind":"scalar","type":"String"},{"name":"agencyLogo","kind":"scalar","type":"String"},{"name":"companyEmail","kind":"scalar","type":"String"},{"name":"companyPhone","kind":"scalar","type":"String"},{"name":"whiteLabel","kind":"scalar","type":"Boolean"},{"name":"line1","kind":"scalar","type":"String"},{"name":"line2","kind":"scalar","type":"String"},{"name":"city","kind":"scalar","type":"String"},{"name":"postalCode","kind":"scalar","type":"String"},{"name":"state","kind":"scalar","type":"String"},{"name":"country","kind":"scalar","type":"String"},{"name":"goal","kind":"scalar","type":"Int"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"TaxIdentity","kind":"object","type":"TaxIdentity","relationName":"AgencyToTaxIdentity"},{"name":"SubAccount","kind":"object","type":"SubAccount","relationName":"AgencyToSubAccount"},{"name":"SidebarOption","kind":"object","type":"AgencySidebarOption","relationName":"AgencyToAgencySidebarOption"},{"name":"Invitation","kind":"object","type":"Invitation","relationName":"AgencyToInvitation"},{"name":"Notification","kind":"object","type":"Notification","relationName":"AgencyToNotification"},{"name":"Subscription","kind":"object","type":"Subscription","relationName":"AgencyToSubscription"},{"name":"AddOns","kind":"object","type":"AddOns","relationName":"AddOnsToAgency"},{"name":"Roles","kind":"object","type":"Role","relationName":"AgencyToRole"},{"name":"Memberships","kind":"object","type":"AgencyMembership","relationName":"AgencyToAgencyMembership"},{"name":"UsageTracking","kind":"object","type":"UsageTracking","relationName":"AgencyToUsageTracking"},{"name":"EntitlementOverrides","kind":"object","type":"EntitlementOverride","relationName":"AgencyToEntitlementOverride"},{"name":"FeatureCreditBalances","kind":"object","type":"FeatureCreditBalance","relationName":"AgencyToFeatureCreditBalance"},{"name":"SSOConnection","kind":"object","type":"SSOConnection","relationName":"AgencyToSSOConnection"},{"name":"GLConfiguration","kind":"object","type":"GLConfiguration","relationName":"AgencyToGLConfiguration"},{"name":"AccountBalances","kind":"object","type":"AccountBalance","relationName":"AccountBalanceToAgency"},{"name":"ChartOfAccounts","kind":"object","type":"ChartOfAccount","relationName":"AgencyToChartOfAccount"},{"name":"AgencyGroupCOAs","kind":"object","type":"AgencyGroupCOA","relationName":"AgencyToAgencyGroupCOA"},{"name":"ConsolidationMappings","kind":"object","type":"ConsolidationMapping","relationName":"AgencyToConsolidationMapping"},{"name":"FinancialPeriods","kind":"object","type":"FinancialPeriod","relationName":"AgencyToFinancialPeriod"},{"name":"JournalEntries","kind":"object","type":"JournalEntry","relationName":"AgencyToJournalEntry"},{"name":"ExchangeRates","kind":"object","type":"ExchangeRate","relationName":"AgencyToExchangeRate"},{"name":"CurrencyRevaluations","kind":"object","type":"CurrencyRevaluation","relationName":"AgencyToCurrencyRevaluation"},{"name":"PostingRules","kind":"object","type":"PostingRule","relationName":"AgencyToPostingRule"},{"name":"PostingTemplates","kind":"object","type":"PostingTemplate","relationName":"AgencyToPostingTemplate"},{"name":"Reconciliations","kind":"object","type":"Reconciliation","relationName":"AgencyToReconciliation"},{"name":"ReconciliationRules","kind":"object","type":"ReconciliationRule","relationName":"AgencyToReconciliationRule"},{"name":"IntercompanyReconciliations","kind":"object","type":"IntercompanyReconciliation","relationName":"AgencyToIntercompanyReconciliation"},{"name":"ConsolidationSnapshots","kind":"object","type":"ConsolidationSnapshot","relationName":"AgencyToConsolidationSnapshot"},{"name":"SubAccountOwnerships","kind":"object","type":"SubAccountOwnership","relationName":"AgencyToSubAccountOwnership"},{"name":"SavedReports","kind":"object","type":"SavedReport","relationName":"AgencyToSavedReport"},{"name":"SubLedgers","kind":"object","type":"SubLedger","relationName":"AgencyToSubLedger"},{"name":"Vendors","kind":"object","type":"Vendor","relationName":"AgencyToVendor"},{"name":"Customers","kind":"object","type":"Customer","relationName":"AgencyToCustomer"},{"name":"GLConfigurationLocks","kind":"object","type":"GLConfigurationLock","relationName":"AgencyToGLConfigurationLock"},{"name":"OpenItems","kind":"object","type":"OpenItem","relationName":"AgencyToOpenItem"},{"name":"ApiKeys","kind":"object","type":"ApiKey","relationName":"AgencyToApiKey"},{"name":"IntegrationApiKeys","kind":"object","type":"IntegrationApiKey","relationName":"AgencyToIntegrationApiKey"},{"name":"IntegrationConnections","kind":"object","type":"IntegrationConnection","relationName":"AgencyToIntegrationConnection"},{"name":"AppInstallations","kind":"object","type":"AppInstallation","relationName":"AgencyToAppInstallation"},{"name":"SupportTickets","kind":"object","type":"SupportTicket","relationName":"AgencyToSupportTicket"},{"name":"Settings","kind":"object","type":"AgencySettings","relationName":"AgencyToAgencySettings"},{"name":"AutomationAccountMappings","kind":"object","type":"AutomationAccountMapping","relationName":"AgencyToAutomationAccountMapping"},{"name":"IntegrationConnectors","kind":"object","type":"IntegrationConnector","relationName":"AgencyToIntegrationConnector"},{"name":"FanoutLogs","kind":"object","type":"FanoutLog","relationName":"AgencyToFanoutLog"},{"name":"Templates","kind":"object","type":"Template","relationName":"AgencyToTemplate"},{"name":"JournalUploadBatches","kind":"object","type":"JournalUploadBatch","relationName":"AgencyToJournalUploadBatch"}],"dbName":null},"SubAccount":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"connectAccountId","kind":"scalar","type":"String"},{"name":"taxIdentityId","kind":"scalar","type":"String"},{"name":"name","kind":"scalar","type":"String"},{"name":"subAccountLogo","kind":"scalar","type":"String"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"companyEmail","kind":"scalar","type":"String"},{"name":"companyPhone","kind":"scalar","type":"String"},{"name":"goal","kind":"scalar","type":"Int"},{"name":"line1","kind":"scalar","type":"String"},{"name":"line2","kind":"scalar","type":"String"},{"name":"city","kind":"scalar","type":"String"},{"name":"postalCode","kind":"scalar","type":"String"},{"name":"state","kind":"scalar","type":"String"},{"name":"country","kind":"scalar","type":"String"},{"name":"agencyId","kind":"scalar","type":"String"},{"name":"Agency","kind":"object","type":"Agency","relationName":"AgencyToSubAccount"},{"name":"Settings","kind":"object","type":"SubAccountSettings","relationName":"SubAccountToSubAccountSettings"},{"name":"TaxIdentity","kind":"object","type":"TaxIdentity","relationName":"SubAccountToTaxIdentity"},{"name":"SidebarOption","kind":"object","type":"SubAccountSidebarOption","relationName":"SubAccountToSubAccountSidebarOption"},{"name":"Funnels","kind":"object","type":"Funnel","relationName":"FunnelToSubAccount"},{"name":"Media","kind":"object","type":"Media","relationName":"MediaToSubAccount"},{"name":"Contact","kind":"object","type":"Contact","relationName":"ContactToSubAccount"},{"name":"Trigger","kind":"object","type":"Trigger","relationName":"SubAccountToTrigger"},{"name":"Automation","kind":"object","type":"Automation","relationName":"AutomationToSubAccount"},{"name":"Pipeline","kind":"object","type":"Pipeline","relationName":"PipelineToSubAccount"},{"name":"Tags","kind":"object","type":"Tag","relationName":"SubAccountToTag"},{"name":"Notification","kind":"object","type":"Notification","relationName":"NotificationToSubAccount"},{"name":"Roles","kind":"object","type":"Role","relationName":"RoleToSubAccount"},{"name":"Memberships","kind":"object","type":"SubAccountMembership","relationName":"SubAccountToSubAccountMembership"},{"name":"ChartOfAccounts","kind":"object","type":"ChartOfAccount","relationName":"ChartOfAccountToSubAccount"},{"name":"ConsolidationMappings","kind":"object","type":"ConsolidationMapping","relationName":"ConsolidationMappingToSubAccount"},{"name":"FinancialPeriods","kind":"object","type":"FinancialPeriod","relationName":"FinancialPeriodToSubAccount"},{"name":"JournalEntries","kind":"object","type":"JournalEntry","relationName":"JournalEntryToSubAccount"},{"name":"CurrencyRevaluations","kind":"object","type":"CurrencyRevaluation","relationName":"CurrencyRevaluationToSubAccount"},{"name":"PostingRules","kind":"object","type":"PostingRule","relationName":"PostingRuleToSubAccount"},{"name":"Reconciliations","kind":"object","type":"Reconciliation","relationName":"ReconciliationToSubAccount"},{"name":"ICReconciliations1","kind":"object","type":"IntercompanyReconciliation","relationName":"ICRecon1"},{"name":"ICReconciliations2","kind":"object","type":"IntercompanyReconciliation","relationName":"ICRecon2"},{"name":"SubAccountOwnership","kind":"object","type":"SubAccountOwnership","relationName":"SubAccountToSubAccountOwnership"},{"name":"SavedReports","kind":"object","type":"SavedReport","relationName":"SavedReportToSubAccount"},{"name":"OpenItems","kind":"object","type":"OpenItem","relationName":"OpenItemToSubAccount"},{"name":"GLConfiguration","kind":"object","type":"GLConfigurationSubAccount","relationName":"GLConfigurationSubAccountToSubAccount"},{"name":"AccountBalances","kind":"object","type":"AccountBalance","relationName":"AccountBalanceToSubAccount"},{"name":"SubLedgers","kind":"object","type":"SubLedger","relationName":"SubAccountToSubLedger"},{"name":"Vendors","kind":"object","type":"Vendor","relationName":"SubAccountToVendor"},{"name":"Customers","kind":"object","type":"Customer","relationName":"CustomerToSubAccount"},{"name":"GLConfigurationLocks","kind":"object","type":"GLConfigurationLock","relationName":"GLConfigurationLockToSubAccount"},{"name":"ApiKeys","kind":"object","type":"ApiKey","relationName":"ApiKeyToSubAccount"},{"name":"IntegrationApiKeys","kind":"object","type":"IntegrationApiKey","relationName":"IntegrationApiKeyToSubAccount"},{"name":"IntegrationConnections","kind":"object","type":"IntegrationConnection","relationName":"IntegrationConnectionToSubAccount"},{"name":"AppInstallations","kind":"object","type":"AppInstallation","relationName":"AppInstallationToSubAccount"},{"name":"SupportTickets","kind":"object","type":"SupportTicket","relationName":"SubAccountToSupportTicket"},{"name":"AutomationAccountMappings","kind":"object","type":"AutomationAccountMapping","relationName":"AutomationAccountMappingToSubAccount"},{"name":"JournalUploadBatches","kind":"object","type":"JournalUploadBatch","relationName":"JournalUploadBatchToSubAccount"}],"dbName":null},"AgencySettings":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"agencyId","kind":"scalar","type":"String"},{"name":"entitlementsInheritToSubaccounts","kind":"scalar","type":"Boolean"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"Agency","kind":"object","type":"Agency","relationName":"AgencyToAgencySettings"}],"dbName":null},"SubAccountSettings":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"subAccountId","kind":"scalar","type":"String"},{"name":"entitlementsInheritFromAgency","kind":"scalar","type":"Boolean"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"SubAccount","kind":"object","type":"SubAccount","relationName":"SubAccountToSubAccountSettings"}],"dbName":null},"Tag":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"name","kind":"scalar","type":"String"},{"name":"color","kind":"scalar","type":"String"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"subAccountId","kind":"scalar","type":"String"},{"name":"SubAccount","kind":"object","type":"SubAccount","relationName":"SubAccountToTag"},{"name":"Ticket","kind":"object","type":"Ticket","relationName":"TagToTicket"}],"dbName":null},"Pipeline":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"name","kind":"scalar","type":"String"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"Lane","kind":"object","type":"Lane","relationName":"LaneToPipeline"},{"name":"SubAccount","kind":"object","type":"SubAccount","relationName":"PipelineToSubAccount"},{"name":"subAccountId","kind":"scalar","type":"String"}],"dbName":null},"Lane":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"name","kind":"scalar","type":"String"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"Pipeline","kind":"object","type":"Pipeline","relationName":"LaneToPipeline"},{"name":"pipelineId","kind":"scalar","type":"String"},{"name":"Tickets","kind":"object","type":"Ticket","relationName":"LaneToTicket"},{"name":"order","kind":"scalar","type":"Int"}],"dbName":null},"Ticket":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"name","kind":"scalar","type":"String"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"laneId","kind":"scalar","type":"String"},{"name":"order","kind":"scalar","type":"Int"},{"name":"Lane","kind":"object","type":"Lane","relationName":"LaneToTicket"},{"name":"value","kind":"scalar","type":"Decimal"},{"name":"description","kind":"scalar","type":"String"},{"name":"Tags","kind":"object","type":"Tag","relationName":"TagToTicket"},{"name":"customerId","kind":"scalar","type":"String"},{"name":"Customer","kind":"object","type":"Contact","relationName":"ContactToTicket"},{"name":"assignedUserId","kind":"scalar","type":"String"},{"name":"Assigned","kind":"object","type":"User","relationName":"TicketToUser"}],"dbName":null},"Trigger":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"name","kind":"scalar","type":"String"},{"name":"type","kind":"enum","type":"TriggerTypes"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"subAccountId","kind":"scalar","type":"String"},{"name":"Subaccount","kind":"object","type":"SubAccount","relationName":"SubAccountToTrigger"},{"name":"Automations","kind":"object","type":"Automation","relationName":"AutomationToTrigger"}],"dbName":null},"Automation":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"name","kind":"scalar","type":"String"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"triggerId","kind":"scalar","type":"String"},{"name":"published","kind":"scalar","type":"Boolean"},{"name":"Trigger","kind":"object","type":"Trigger","relationName":"AutomationToTrigger"},{"name":"subAccountId","kind":"scalar","type":"String"},{"name":"Subaccount","kind":"object","type":"SubAccount","relationName":"AutomationToSubAccount"},{"name":"Action","kind":"object","type":"Action","relationName":"ActionToAutomation"},{"name":"AutomationInstance","kind":"object","type":"AutomationInstance","relationName":"AutomationToAutomationInstance"}],"dbName":null},"AutomationInstance":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"automationId","kind":"scalar","type":"String"},{"name":"Automation","kind":"object","type":"Automation","relationName":"AutomationToAutomationInstance"},{"name":"active","kind":"scalar","type":"Boolean"}],"dbName":null},"Action":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"name","kind":"scalar","type":"String"},{"name":"type","kind":"enum","type":"ActionType"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"automationId","kind":"scalar","type":"String"},{"name":"order","kind":"scalar","type":"Int"},{"name":"Automation","kind":"object","type":"Automation","relationName":"ActionToAutomation"},{"name":"laneId","kind":"scalar","type":"String"}],"dbName":null},"Contact":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"name","kind":"scalar","type":"String"},{"name":"email","kind":"scalar","type":"String"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"subAccountId","kind":"scalar","type":"String"},{"name":"Subaccount","kind":"object","type":"SubAccount","relationName":"ContactToSubAccount"},{"name":"Ticket","kind":"object","type":"Ticket","relationName":"ContactToTicket"}],"dbName":null},"Media":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"type","kind":"scalar","type":"String"},{"name":"name","kind":"scalar","type":"String"},{"name":"link","kind":"scalar","type":"String"},{"name":"subAccountId","kind":"scalar","type":"String"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"Subaccount","kind":"object","type":"SubAccount","relationName":"MediaToSubAccount"}],"dbName":null},"Funnel":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"name","kind":"scalar","type":"String"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"description","kind":"scalar","type":"String"},{"name":"published","kind":"scalar","type":"Boolean"},{"name":"subDomainName","kind":"scalar","type":"String"},{"name":"favicon","kind":"scalar","type":"String"},{"name":"subAccountId","kind":"scalar","type":"String"},{"name":"SubAccount","kind":"object","type":"SubAccount","relationName":"FunnelToSubAccount"},{"name":"FunnelPages","kind":"object","type":"FunnelPage","relationName":"FunnelToFunnelPage"},{"name":"liveProducts","kind":"scalar","type":"String"},{"name":"ClassName","kind":"object","type":"ClassName","relationName":"ClassNameToFunnel"}],"dbName":null},"ClassName":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"name","kind":"scalar","type":"String"},{"name":"color","kind":"scalar","type":"String"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"funnelId","kind":"scalar","type":"String"},{"name":"customData","kind":"scalar","type":"String"},{"name":"Funnel","kind":"object","type":"Funnel","relationName":"ClassNameToFunnel"}],"dbName":null},"FunnelPage":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"name","kind":"scalar","type":"String"},{"name":"pathName","kind":"scalar","type":"String"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"visits","kind":"scalar","type":"Int"},{"name":"content","kind":"scalar","type":"String"},{"name":"order","kind":"scalar","type":"Int"},{"name":"previewImage","kind":"scalar","type":"String"},{"name":"funnelId","kind":"scalar","type":"String"},{"name":"Funnel","kind":"object","type":"Funnel","relationName":"FunnelToFunnelPage"}],"dbName":null},"AgencySidebarOption":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"name","kind":"scalar","type":"String"},{"name":"link","kind":"scalar","type":"String"},{"name":"icon","kind":"enum","type":"Icon"},{"name":"agencyId","kind":"scalar","type":"String"},{"name":"Agency","kind":"object","type":"Agency","relationName":"AgencyToAgencySidebarOption"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"}],"dbName":null},"SubAccountSidebarOption":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"name","kind":"scalar","type":"String"},{"name":"link","kind":"scalar","type":"String"},{"name":"icon","kind":"enum","type":"Icon"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"SubAccount","kind":"object","type":"SubAccount","relationName":"SubAccountToSubAccountSidebarOption"},{"name":"subAccountId","kind":"scalar","type":"String"}],"dbName":null},"SidebarOption":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"name","kind":"scalar","type":"String"},{"name":"link","kind":"scalar","type":"String"},{"name":"icon","kind":"enum","type":"Icon"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"order","kind":"scalar","type":"Int"},{"name":"module","kind":"scalar","type":"String"},{"name":"subModule","kind":"scalar","type":"String"},{"name":"agency","kind":"scalar","type":"Boolean"},{"name":"subaccount","kind":"scalar","type":"Boolean"},{"name":"user","kind":"scalar","type":"Boolean"},{"name":"OptionLinks","kind":"object","type":"SidebarOptionLink","relationName":"SidebarOptionToSidebarOptionLink"}],"dbName":null},"SidebarOptionLink":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"name","kind":"scalar","type":"String"},{"name":"link","kind":"scalar","type":"String"},{"name":"icon","kind":"enum","type":"Icon"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"order","kind":"scalar","type":"Int"},{"name":"feature","kind":"scalar","type":"String"},{"name":"agency","kind":"scalar","type":"Boolean"},{"name":"subaccount","kind":"scalar","type":"Boolean"},{"name":"user","kind":"scalar","type":"Boolean"},{"name":"sidebarOptionId","kind":"scalar","type":"String"},{"name":"SidebarOption","kind":"object","type":"SidebarOption","relationName":"SidebarOptionToSidebarOptionLink"}],"dbName":null},"Invitation":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"email","kind":"scalar","type":"String"},{"name":"agencyId","kind":"scalar","type":"String"},{"name":"Agency","kind":"object","type":"Agency","relationName":"AgencyToInvitation"},{"name":"status","kind":"enum","type":"InvitationStatus"},{"name":"role","kind":"scalar","type":"String"}],"dbName":null},"Notification":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"notification","kind":"scalar","type":"String"},{"name":"agencyId","kind":"scalar","type":"String"},{"name":"subAccountId","kind":"scalar","type":"String"},{"name":"userId","kind":"scalar","type":"String"},{"name":"User","kind":"object","type":"User","relationName":"NotificationToUser"},{"name":"Agency","kind":"object","type":"Agency","relationName":"AgencyToNotification"},{"name":"SubAccount","kind":"object","type":"SubAccount","relationName":"NotificationToSubAccount"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"}],"dbName":null},"Subscription":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"plan","kind":"enum","type":"Plan"},{"name":"price","kind":"scalar","type":"String"},{"name":"active","kind":"scalar","type":"Boolean"},{"name":"priceId","kind":"scalar","type":"String"},{"name":"customerId","kind":"scalar","type":"String"},{"name":"currentPeriodEndDate","kind":"scalar","type":"DateTime"},{"name":"subscritiptionId","kind":"scalar","type":"String"},{"name":"status","kind":"enum","type":"SubscriptionStatus"},{"name":"cancelAtPeriodEnd","kind":"scalar","type":"Boolean"},{"name":"canceledAt","kind":"scalar","type":"DateTime"},{"name":"trialEndedAt","kind":"scalar","type":"DateTime"},{"name":"agencyId","kind":"scalar","type":"String"},{"name":"Agency","kind":"object","type":"Agency","relationName":"AgencyToSubscription"}],"dbName":null},"AddOns":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"name","kind":"scalar","type":"String"},{"name":"active","kind":"scalar","type":"Boolean"},{"name":"priceId","kind":"scalar","type":"String"},{"name":"agencyId","kind":"scalar","type":"String"},{"name":"Agency","kind":"object","type":"Agency","relationName":"AddOnsToAgency"}],"dbName":null},"Permission":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"key","kind":"scalar","type":"String"},{"name":"name","kind":"scalar","type":"String"},{"name":"description","kind":"scalar","type":"String"},{"name":"category","kind":"scalar","type":"String"},{"name":"isSystem","kind":"scalar","type":"Boolean"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"Roles","kind":"object","type":"RolePermission","relationName":"PermissionToRolePermission"}],"dbName":null},"RolePermission":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"roleId","kind":"scalar","type":"String"},{"name":"permissionId","kind":"scalar","type":"String"},{"name":"granted","kind":"scalar","type":"Boolean"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"Role","kind":"object","type":"Role","relationName":"RoleToRolePermission"},{"name":"Permission","kind":"object","type":"Permission","relationName":"PermissionToRolePermission"}],"dbName":null},"Role":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"name","kind":"scalar","type":"String"},{"name":"agencyId","kind":"scalar","type":"String"},{"name":"subAccountId","kind":"scalar","type":"String"},{"name":"scope","kind":"enum","type":"RoleScope"},{"name":"isSystem","kind":"scalar","type":"Boolean"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"Agency","kind":"object","type":"Agency","relationName":"AgencyToRole"},{"name":"SubAccount","kind":"object","type":"SubAccount","relationName":"RoleToSubAccount"},{"name":"Permissions","kind":"object","type":"RolePermission","relationName":"RoleToRolePermission"},{"name":"AgencyMemberships","kind":"object","type":"AgencyMembership","relationName":"AgencyMembershipToRole"},{"name":"SubAccountMemberships","kind":"object","type":"SubAccountMembership","relationName":"RoleToSubAccountMembership"}],"dbName":null},"AgencyMembership":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"userId","kind":"scalar","type":"String"},{"name":"agencyId","kind":"scalar","type":"String"},{"name":"roleId","kind":"scalar","type":"String"},{"name":"isActive","kind":"scalar","type":"Boolean"},{"name":"isPrimary","kind":"scalar","type":"Boolean"},{"name":"joinedAt","kind":"scalar","type":"DateTime"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"User","kind":"object","type":"User","relationName":"AgencyMembershipToUser"},{"name":"Agency","kind":"object","type":"Agency","relationName":"AgencyToAgencyMembership"},{"name":"Role","kind":"object","type":"Role","relationName":"AgencyMembershipToRole"}],"dbName":null},"SubAccountMembership":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"userId","kind":"scalar","type":"String"},{"name":"subAccountId","kind":"scalar","type":"String"},{"name":"roleId","kind":"scalar","type":"String"},{"name":"isActive","kind":"scalar","type":"Boolean"},{"name":"joinedAt","kind":"scalar","type":"DateTime"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"User","kind":"object","type":"User","relationName":"SubAccountMembershipToUser"},{"name":"SubAccount","kind":"object","type":"SubAccount","relationName":"SubAccountToSubAccountMembership"},{"name":"Role","kind":"object","type":"Role","relationName":"RoleToSubAccountMembership"}],"dbName":null},"EntitlementFeature":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"key","kind":"scalar","type":"String"},{"name":"name","kind":"scalar","type":"String"},{"name":"description","kind":"scalar","type":"String"},{"name":"category","kind":"scalar","type":"String"},{"name":"valueType","kind":"enum","type":"FeatureValueType"},{"name":"unit","kind":"scalar","type":"String"},{"name":"metering","kind":"enum","type":"MeteringType"},{"name":"aggregation","kind":"enum","type":"MeterAggregation"},{"name":"scope","kind":"enum","type":"MeteringScope"},{"name":"period","kind":"enum","type":"UsagePeriod"},{"name":"isToggleable","kind":"scalar","type":"Boolean"},{"name":"defaultEnabled","kind":"scalar","type":"Boolean"},{"name":"requiresRestart","kind":"scalar","type":"Boolean"},{"name":"displayOrder","kind":"scalar","type":"Int"},{"name":"displayName","kind":"scalar","type":"String"},{"name":"icon","kind":"scalar","type":"String"},{"name":"helpText","kind":"scalar","type":"String"},{"name":"creditEnabled","kind":"scalar","type":"Boolean"},{"name":"creditUnit","kind":"scalar","type":"String"},{"name":"creditExpires","kind":"scalar","type":"Boolean"},{"name":"creditPriority","kind":"scalar","type":"Int"},{"name":"stripeMeterId","kind":"scalar","type":"String"},{"name":"stripeMeterEventName","kind":"scalar","type":"String"},{"name":"stripeUsagePriceId","kind":"scalar","type":"String"},{"name":"stripeTopUpPriceId","kind":"scalar","type":"String"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"PlanFeatures","kind":"object","type":"PlanFeature","relationName":"EntitlementFeatureToPlanFeature"},{"name":"EntitlementOverrides","kind":"object","type":"EntitlementOverride","relationName":"EntitlementFeatureToEntitlementOverride"}],"dbName":null},"EntitlementOverride":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"scope","kind":"enum","type":"MeteringScope"},{"name":"agencyId","kind":"scalar","type":"String"},{"name":"subAccountId","kind":"scalar","type":"String"},{"name":"featureKey","kind":"scalar","type":"String"},{"name":"isEnabled","kind":"scalar","type":"Boolean"},{"name":"isUnlimited","kind":"scalar","type":"Boolean"},{"name":"maxDeltaInt","kind":"scalar","type":"Int"},{"name":"maxDeltaDec","kind":"scalar","type":"Decimal"},{"name":"maxOverrideInt","kind":"scalar","type":"Int"},{"name":"maxOverrideDec","kind":"scalar","type":"Decimal"},{"name":"startsAt","kind":"scalar","type":"DateTime"},{"name":"endsAt","kind":"scalar","type":"DateTime"},{"name":"reason","kind":"scalar","type":"String"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"Agency","kind":"object","type":"Agency","relationName":"AgencyToEntitlementOverride"},{"name":"EntitlementFeature","kind":"object","type":"EntitlementFeature","relationName":"EntitlementFeatureToEntitlementOverride"}],"dbName":null},"PlanFeature":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"planId","kind":"scalar","type":"String"},{"name":"featureKey","kind":"scalar","type":"String"},{"name":"isEnabled","kind":"scalar","type":"Boolean"},{"name":"isUnlimited","kind":"scalar","type":"Boolean"},{"name":"includedInt","kind":"scalar","type":"Int"},{"name":"maxInt","kind":"scalar","type":"Int"},{"name":"includedDec","kind":"scalar","type":"Decimal"},{"name":"maxDec","kind":"scalar","type":"Decimal"},{"name":"enforcement","kind":"enum","type":"LimitEnforcement"},{"name":"overageMode","kind":"enum","type":"OverageMode"},{"name":"overageFee","kind":"scalar","type":"Decimal"},{"name":"stripeOveragePriceId","kind":"scalar","type":"String"},{"name":"recurringCreditGrantInt","kind":"scalar","type":"Int"},{"name":"recurringCreditGrantDec","kind":"scalar","type":"Decimal"},{"name":"rolloverCredits","kind":"scalar","type":"Boolean"},{"name":"topUpEnabled","kind":"scalar","type":"Boolean"},{"name":"topUpPriceId","kind":"scalar","type":"String"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"EntitlementFeature","kind":"object","type":"EntitlementFeature","relationName":"EntitlementFeatureToPlanFeature"}],"dbName":null},"FeaturePreference":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"userId","kind":"scalar","type":"String"},{"name":"featureKey","kind":"scalar","type":"String"},{"name":"scope","kind":"enum","type":"MeteringScope"},{"name":"agencyId","kind":"scalar","type":"String"},{"name":"subAccountId","kind":"scalar","type":"String"},{"name":"isEnabled","kind":"scalar","type":"Boolean"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"User","kind":"object","type":"User","relationName":"FeaturePreferenceToUser"}],"dbName":null},"UsageTracking":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"scope","kind":"enum","type":"MeteringScope"},{"name":"agencyId","kind":"scalar","type":"String"},{"name":"subAccountId","kind":"scalar","type":"String"},{"name":"featureKey","kind":"scalar","type":"String"},{"name":"currentUsage","kind":"scalar","type":"Decimal"},{"name":"period","kind":"enum","type":"UsagePeriod"},{"name":"periodStart","kind":"scalar","type":"DateTime"},{"name":"periodEnd","kind":"scalar","type":"DateTime"},{"name":"lastEventAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"Agency","kind":"object","type":"Agency","relationName":"AgencyToUsageTracking"}],"dbName":null},"UsageEvent":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"scope","kind":"enum","type":"MeteringScope"},{"name":"agencyId","kind":"scalar","type":"String"},{"name":"subAccountId","kind":"scalar","type":"String"},{"name":"featureKey","kind":"scalar","type":"String"},{"name":"quantity","kind":"scalar","type":"Decimal"},{"name":"actionKey","kind":"scalar","type":"String"},{"name":"idempotencyKey","kind":"scalar","type":"String"},{"name":"stripeMeterEventId","kind":"scalar","type":"String"},{"name":"createdAt","kind":"scalar","type":"DateTime"}],"dbName":null},"FeatureCreditBalance":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"scope","kind":"enum","type":"MeteringScope"},{"name":"agencyId","kind":"scalar","type":"String"},{"name":"subAccountId","kind":"scalar","type":"String"},{"name":"featureKey","kind":"scalar","type":"String"},{"name":"balance","kind":"scalar","type":"Decimal"},{"name":"expiresAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"Agency","kind":"object","type":"Agency","relationName":"AgencyToFeatureCreditBalance"}],"dbName":null},"FeatureCreditLedger":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"scope","kind":"enum","type":"MeteringScope"},{"name":"agencyId","kind":"scalar","type":"String"},{"name":"subAccountId","kind":"scalar","type":"String"},{"name":"featureKey","kind":"scalar","type":"String"},{"name":"type","kind":"enum","type":"CreditLedgerType"},{"name":"delta","kind":"scalar","type":"Decimal"},{"name":"reason","kind":"scalar","type":"String"},{"name":"periodStart","kind":"scalar","type":"DateTime"},{"name":"periodEnd","kind":"scalar","type":"DateTime"},{"name":"stripePaymentIntentId","kind":"scalar","type":"String"},{"name":"stripeInvoiceId","kind":"scalar","type":"String"},{"name":"idempotencyKey","kind":"scalar","type":"String"},{"name":"createdAt","kind":"scalar","type":"DateTime"}],"dbName":null},"Passkey":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"userId","kind":"scalar","type":"String"},{"name":"credentialId","kind":"scalar","type":"String"},{"name":"publicKey","kind":"scalar","type":"String"},{"name":"counter","kind":"scalar","type":"Int"},{"name":"name","kind":"scalar","type":"String"},{"name":"deviceName","kind":"scalar","type":"String"},{"name":"authenticatorType","kind":"scalar","type":"String"},{"name":"backupEligible","kind":"scalar","type":"Boolean"},{"name":"backupState","kind":"scalar","type":"Boolean"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"lastUsedAt","kind":"scalar","type":"DateTime"},{"name":"user","kind":"object","type":"User","relationName":"PasskeyToUser"}],"dbName":null},"MFAChallenge":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"userId","kind":"scalar","type":"String"},{"name":"code","kind":"scalar","type":"String"},{"name":"codeType","kind":"enum","type":"MFAMethodType"},{"name":"expiresAt","kind":"scalar","type":"DateTime"},{"name":"isUsed","kind":"scalar","type":"Boolean"},{"name":"usedAt","kind":"scalar","type":"DateTime"},{"name":"attempts","kind":"scalar","type":"Int"},{"name":"sessionToken","kind":"scalar","type":"String"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"user","kind":"object","type":"User","relationName":"MFAChallengeToUser"}],"dbName":null},"MFAMethod":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"userId","kind":"scalar","type":"String"},{"name":"type","kind":"enum","type":"MFAMethodType"},{"name":"isEnabled","kind":"scalar","type":"Boolean"},{"name":"isPrimary","kind":"scalar","type":"Boolean"},{"name":"secret","kind":"scalar","type":"String"},{"name":"phoneNumber","kind":"scalar","type":"String"},{"name":"backupCodes","kind":"scalar","type":"String"},{"name":"backupCodesUsed","kind":"scalar","type":"String"},{"name":"trustedDevices","kind":"scalar","type":"String"},{"name":"verifiedAt","kind":"scalar","type":"DateTime"},{"name":"lastUsedAt","kind":"scalar","type":"DateTime"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"user","kind":"object","type":"User","relationName":"MFAMethodToUser"}],"dbName":null},"SSOConnection":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"agencyId","kind":"scalar","type":"String"},{"name":"provider","kind":"enum","type":"SSOProvider"},{"name":"clientId","kind":"scalar","type":"String"},{"name":"clientSecret","kind":"scalar","type":"String"},{"name":"authorizationUrl","kind":"scalar","type":"String"},{"name":"tokenUrl","kind":"scalar","type":"String"},{"name":"userinfoUrl","kind":"scalar","type":"String"},{"name":"jwksUrl","kind":"scalar","type":"String"},{"name":"entityId","kind":"scalar","type":"String"},{"name":"acsUrl","kind":"scalar","type":"String"},{"name":"ssoUrl","kind":"scalar","type":"String"},{"name":"sloUrl","kind":"scalar","type":"String"},{"name":"x509Certificate","kind":"scalar","type":"String"},{"name":"allowedDomains","kind":"scalar","type":"String"},{"name":"autoProvisionUsers","kind":"scalar","type":"Boolean"},{"name":"autoProvisionRole","kind":"scalar","type":"String"},{"name":"requireSSO","kind":"scalar","type":"Boolean"},{"name":"isEnabled","kind":"scalar","type":"Boolean"},{"name":"testedAt","kind":"scalar","type":"DateTime"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"Agency","kind":"object","type":"Agency","relationName":"AgencyToSSOConnection"},{"name":"ssoAuditLogs","kind":"object","type":"SSOAuditLog","relationName":"SSOAuditLogToSSOConnection"},{"name":"ssouserMappings","kind":"object","type":"SSOUserMapping","relationName":"SSOConnectionToSSOUserMapping"}],"dbName":null},"SSOUserMapping":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"userId","kind":"scalar","type":"String"},{"name":"ssoConnectionId","kind":"scalar","type":"String"},{"name":"providerUserId","kind":"scalar","type":"String"},{"name":"providerEmail","kind":"scalar","type":"String"},{"name":"providerName","kind":"scalar","type":"String"},{"name":"providerPicture","kind":"scalar","type":"String"},{"name":"lastSyncedAt","kind":"scalar","type":"DateTime"},{"name":"syncStatus","kind":"enum","type":"SyncStatus"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"user","kind":"object","type":"User","relationName":"SSOUserMappingToUser"},{"name":"SsoConnection","kind":"object","type":"SSOConnection","relationName":"SSOConnectionToSSOUserMapping"}],"dbName":null},"SSOAuditLog":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"ssoConnectionId","kind":"scalar","type":"String"},{"name":"eventType","kind":"enum","type":"SSOEventType"},{"name":"email","kind":"scalar","type":"String"},{"name":"userId","kind":"scalar","type":"String"},{"name":"status","kind":"scalar","type":"String"},{"name":"errorMessage","kind":"scalar","type":"String"},{"name":"ipAddress","kind":"scalar","type":"String"},{"name":"userAgent","kind":"scalar","type":"String"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"SsoConnection","kind":"object","type":"SSOConnection","relationName":"SSOAuditLogToSSOConnection"}],"dbName":null},"GLConfiguration":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"agencyId","kind":"scalar","type":"String"},{"name":"Agency","kind":"object","type":"Agency","relationName":"AgencyToGLConfiguration"},{"name":"baseCurrency","kind":"scalar","type":"String"},{"name":"fiscalYearEnd","kind":"scalar","type":"String"},{"name":"fiscalYearStart","kind":"scalar","type":"String"},{"name":"useControlAccounts","kind":"scalar","type":"Boolean"},{"name":"requireApproval","kind":"scalar","type":"Boolean"},{"name":"approvalThreshold","kind":"scalar","type":"Decimal"},{"name":"autoPostingEnabled","kind":"scalar","type":"Boolean"},{"name":"allowFuturePeriodPost","kind":"scalar","type":"Boolean"},{"name":"allowClosedPeriodPost","kind":"scalar","type":"Boolean"},{"name":"consolidationEnabled","kind":"scalar","type":"Boolean"},{"name":"consolidationMethod","kind":"enum","type":"ConsolidationMethod"},{"name":"eliminateIntercompany","kind":"scalar","type":"Boolean"},{"name":"autoCreatePeriods","kind":"scalar","type":"Boolean"},{"name":"periodLockDays","kind":"scalar","type":"Int"},{"name":"accountCodeFormat","kind":"scalar","type":"String"},{"name":"accountCodeLength","kind":"scalar","type":"Int"},{"name":"accountCodeSeparator","kind":"scalar","type":"String"},{"name":"journalEntryPrefix","kind":"scalar","type":"String"},{"name":"reversalEntryPrefix","kind":"scalar","type":"String"},{"name":"adjustingEntryPrefix","kind":"scalar","type":"String"},{"name":"reconciliationPrefix","kind":"scalar","type":"String"},{"name":"consolidationPrefix","kind":"scalar","type":"String"},{"name":"revaluationPrefix","kind":"scalar","type":"String"},{"name":"closingEntryPrefix","kind":"scalar","type":"String"},{"name":"docNumAssetStart","kind":"scalar","type":"Int"},{"name":"docNumLiabilityStart","kind":"scalar","type":"Int"},{"name":"docNumEquityStart","kind":"scalar","type":"Int"},{"name":"docNumRevenueStart","kind":"scalar","type":"Int"},{"name":"docNumExpenseStart","kind":"scalar","type":"Int"},{"name":"docNumClearingStart","kind":"scalar","type":"Int"},{"name":"invoiceFormat","kind":"scalar","type":"String"},{"name":"paymentFormat","kind":"scalar","type":"String"},{"name":"creditNoteFormat","kind":"scalar","type":"String"},{"name":"debitNoteFormat","kind":"scalar","type":"String"},{"name":"receiptFormat","kind":"scalar","type":"String"},{"name":"documentNumberResetRule","kind":"scalar","type":"String"},{"name":"erpIntegrationEnabled","kind":"scalar","type":"Boolean"},{"name":"erpSystemType","kind":"scalar","type":"String"},{"name":"erpApiUrl","kind":"scalar","type":"String"},{"name":"erpApiKey","kind":"scalar","type":"String"},{"name":"retainAuditDays","kind":"scalar","type":"Int"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"updatedBy","kind":"scalar","type":"String"},{"name":"SubAccountConfigs","kind":"object","type":"GLConfigurationSubAccount","relationName":"GLConfigurationToGLConfigurationSubAccount"}],"dbName":null},"GLConfigurationSubAccount":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"subAccountId","kind":"scalar","type":"String"},{"name":"SubAccount","kind":"object","type":"SubAccount","relationName":"GLConfigurationSubAccountToSubAccount"},{"name":"agencyConfigId","kind":"scalar","type":"String"},{"name":"AgencyConfig","kind":"object","type":"GLConfiguration","relationName":"GLConfigurationToGLConfigurationSubAccount"},{"name":"isIndependent","kind":"scalar","type":"Boolean"},{"name":"baseCurrency","kind":"scalar","type":"String"},{"name":"fiscalYearEnd","kind":"scalar","type":"String"},{"name":"fiscalYearStart","kind":"scalar","type":"String"},{"name":"useControlAccounts","kind":"scalar","type":"Boolean"},{"name":"requireApproval","kind":"scalar","type":"Boolean"},{"name":"approvalThreshold","kind":"scalar","type":"Decimal"},{"name":"autoPostingEnabled","kind":"scalar","type":"Boolean"},{"name":"allowFuturePeriodPost","kind":"scalar","type":"Boolean"},{"name":"allowClosedPeriodPost","kind":"scalar","type":"Boolean"},{"name":"autoCreatePeriods","kind":"scalar","type":"Boolean"},{"name":"periodLockDays","kind":"scalar","type":"Int"},{"name":"accountCodeFormat","kind":"scalar","type":"String"},{"name":"accountCodeLength","kind":"scalar","type":"Int"},{"name":"accountCodeSeparator","kind":"scalar","type":"String"},{"name":"journalEntryPrefix","kind":"scalar","type":"String"},{"name":"reversalEntryPrefix","kind":"scalar","type":"String"},{"name":"adjustingEntryPrefix","kind":"scalar","type":"String"},{"name":"reconciliationPrefix","kind":"scalar","type":"String"},{"name":"consolidationPrefix","kind":"scalar","type":"String"},{"name":"revaluationPrefix","kind":"scalar","type":"String"},{"name":"closingEntryPrefix","kind":"scalar","type":"String"},{"name":"invoiceFormat","kind":"scalar","type":"String"},{"name":"paymentFormat","kind":"scalar","type":"String"},{"name":"creditNoteFormat","kind":"scalar","type":"String"},{"name":"debitNoteFormat","kind":"scalar","type":"String"},{"name":"receiptFormat","kind":"scalar","type":"String"},{"name":"consolidationAccountMapping","kind":"scalar","type":"Json"},{"name":"retainAuditDays","kind":"scalar","type":"Int"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"updatedBy","kind":"scalar","type":"String"}],"dbName":null},"ChartOfAccount":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"agencyId","kind":"scalar","type":"String"},{"name":"subAccountId","kind":"scalar","type":"String"},{"name":"Agency","kind":"object","type":"Agency","relationName":"AgencyToChartOfAccount"},{"name":"SubAccount","kind":"object","type":"SubAccount","relationName":"ChartOfAccountToSubAccount"},{"name":"code","kind":"scalar","type":"String"},{"name":"name","kind":"scalar","type":"String"},{"name":"description","kind":"scalar","type":"String"},{"name":"parentAccountId","kind":"scalar","type":"String"},{"name":"ParentAccount","kind":"object","type":"ChartOfAccount","relationName":"AccountHierarchy"},{"name":"ChildAccounts","kind":"object","type":"ChartOfAccount","relationName":"AccountHierarchy"},{"name":"path","kind":"scalar","type":"String"},{"name":"level","kind":"scalar","type":"Int"},{"name":"accountType","kind":"enum","type":"AccountType"},{"name":"category","kind":"enum","type":"AccountCategory"},{"name":"subcategory","kind":"scalar","type":"String"},{"name":"isControlAccount","kind":"scalar","type":"Boolean"},{"name":"subledgerType","kind":"enum","type":"SubledgerType"},{"name":"controlAccountId","kind":"scalar","type":"String"},{"name":"ControlAccount","kind":"object","type":"ChartOfAccount","relationName":"ControlAccountLink"},{"name":"SubledgerAccounts","kind":"object","type":"ChartOfAccount","relationName":"ControlAccountLink"},{"name":"isSystemAccount","kind":"scalar","type":"Boolean"},{"name":"isSystemManaged","kind":"scalar","type":"Boolean"},{"name":"systemAccountType","kind":"enum","type":"SystemAccountType"},{"name":"isClearingAccount","kind":"scalar","type":"Boolean"},{"name":"isSuspenseAccount","kind":"scalar","type":"Boolean"},{"name":"isRetainedEarnings","kind":"scalar","type":"Boolean"},{"name":"isOpeningBalControl","kind":"scalar","type":"Boolean"},{"name":"allowManualPosting","kind":"scalar","type":"Boolean"},{"name":"requireApproval","kind":"scalar","type":"Boolean"},{"name":"isPostingAccount","kind":"scalar","type":"Boolean"},{"name":"isConsolidationEnabled","kind":"scalar","type":"Boolean"},{"name":"consolidationAccountCode","kind":"scalar","type":"String"},{"name":"currencyCode","kind":"scalar","type":"String"},{"name":"isMultiCurrency","kind":"scalar","type":"Boolean"},{"name":"isActive","kind":"scalar","type":"Boolean"},{"name":"isArchived","kind":"scalar","type":"Boolean"},{"name":"archivedAt","kind":"scalar","type":"DateTime"},{"name":"archivedBy","kind":"scalar","type":"String"},{"name":"normalBalance","kind":"scalar","type":"String"},{"name":"sortOrder","kind":"scalar","type":"Int"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"createdBy","kind":"scalar","type":"String"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"updatedBy","kind":"scalar","type":"String"},{"name":"JournalEntryLines","kind":"object","type":"JournalEntryLine","relationName":"ChartOfAccountToJournalEntryLine"},{"name":"AccountBalances","kind":"object","type":"AccountBalance","relationName":"AccountBalanceToChartOfAccount"},{"name":"Reconciliations","kind":"object","type":"Reconciliation","relationName":"ChartOfAccountToReconciliation"},{"name":"PostingRuleDebits","kind":"object","type":"PostingRule","relationName":"PostingRuleDebit"},{"name":"PostingRuleCredits","kind":"object","type":"PostingRule","relationName":"PostingRuleCredit"},{"name":"OpenItems","kind":"object","type":"OpenItem","relationName":"OpenItemAccount"},{"name":"SubLedgers","kind":"object","type":"SubLedger","relationName":"SubLedgerControl"},{"name":"DebitMappings","kind":"object","type":"AutomationAccountMapping","relationName":"DebitMappings"},{"name":"CreditMappings","kind":"object","type":"AutomationAccountMapping","relationName":"CreditMappings"},{"name":"EInvoiceSettingsRevenue","kind":"object","type":"EInvoiceSettings","relationName":"EInvoiceRevenueAccount"},{"name":"EInvoiceSettingsReceivable","kind":"object","type":"EInvoiceSettings","relationName":"EInvoiceReceivableAccount"},{"name":"EInvoiceSettingsTaxOutput","kind":"object","type":"EInvoiceSettings","relationName":"EInvoiceTaxOutputAccount"},{"name":"EInvoiceLineItems","kind":"object","type":"EInvoiceLineItem","relationName":"ChartOfAccountToEInvoiceLineItem"}],"dbName":null},"AgencyGroupCOA":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"agencyId","kind":"scalar","type":"String"},{"name":"Agency","kind":"object","type":"Agency","relationName":"AgencyToAgencyGroupCOA"},{"name":"code","kind":"scalar","type":"String"},{"name":"name","kind":"scalar","type":"String"},{"name":"description","kind":"scalar","type":"String"},{"name":"accountType","kind":"enum","type":"AccountType"},{"name":"category","kind":"enum","type":"AccountCategory"},{"name":"parentId","kind":"scalar","type":"String"},{"name":"Parent","kind":"object","type":"AgencyGroupCOA","relationName":"GroupCOAHierarchy"},{"name":"Children","kind":"object","type":"AgencyGroupCOA","relationName":"GroupCOAHierarchy"},{"name":"path","kind":"scalar","type":"String"},{"name":"level","kind":"scalar","type":"Int"},{"name":"isActive","kind":"scalar","type":"Boolean"},{"name":"sortOrder","kind":"scalar","type":"Int"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"createdBy","kind":"scalar","type":"String"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"updatedBy","kind":"scalar","type":"String"},{"name":"ConsolidationMappings","kind":"object","type":"ConsolidationMapping","relationName":"AgencyGroupCOAToConsolidationMapping"},{"name":"ConsolidatedBalances","kind":"object","type":"ConsolidatedBalance","relationName":"AgencyGroupCOAToConsolidatedBalance"},{"name":"WorksheetLines","kind":"object","type":"ConsolidationWorksheetLine","relationName":"AgencyGroupCOAToConsolidationWorksheetLine"}],"dbName":null},"ConsolidationMapping":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"agencyId","kind":"scalar","type":"String"},{"name":"Agency","kind":"object","type":"Agency","relationName":"AgencyToConsolidationMapping"},{"name":"subAccountId","kind":"scalar","type":"String"},{"name":"SubAccount","kind":"object","type":"SubAccount","relationName":"ConsolidationMappingToSubAccount"},{"name":"subAccountCOACode","kind":"scalar","type":"String"},{"name":"groupCOAId","kind":"scalar","type":"String"},{"name":"GroupCOA","kind":"object","type":"AgencyGroupCOA","relationName":"AgencyGroupCOAToConsolidationMapping"},{"name":"mappingPercentage","kind":"scalar","type":"Decimal"},{"name":"isElimination","kind":"scalar","type":"Boolean"},{"name":"eliminationPairId","kind":"scalar","type":"String"},{"name":"isActive","kind":"scalar","type":"Boolean"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"createdBy","kind":"scalar","type":"String"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"updatedBy","kind":"scalar","type":"String"}],"dbName":null},"FinancialPeriod":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"agencyId","kind":"scalar","type":"String"},{"name":"subAccountId","kind":"scalar","type":"String"},{"name":"Agency","kind":"object","type":"Agency","relationName":"AgencyToFinancialPeriod"},{"name":"SubAccount","kind":"object","type":"SubAccount","relationName":"FinancialPeriodToSubAccount"},{"name":"name","kind":"scalar","type":"String"},{"name":"shortName","kind":"scalar","type":"String"},{"name":"periodType","kind":"enum","type":"PeriodType"},{"name":"fiscalYear","kind":"scalar","type":"Int"},{"name":"fiscalPeriod","kind":"scalar","type":"Int"},{"name":"startDate","kind":"scalar","type":"DateTime"},{"name":"endDate","kind":"scalar","type":"DateTime"},{"name":"status","kind":"enum","type":"PeriodStatus"},{"name":"openedAt","kind":"scalar","type":"DateTime"},{"name":"openedBy","kind":"scalar","type":"String"},{"name":"closedAt","kind":"scalar","type":"DateTime"},{"name":"closedBy","kind":"scalar","type":"String"},{"name":"lockedAt","kind":"scalar","type":"DateTime"},{"name":"lockedBy","kind":"scalar","type":"String"},{"name":"openingBalances","kind":"scalar","type":"Json"},{"name":"closingBalances","kind":"scalar","type":"Json"},{"name":"isYearEnd","kind":"scalar","type":"Boolean"},{"name":"yearEndProcessedAt","kind":"scalar","type":"DateTime"},{"name":"yearEndProcessedBy","kind":"scalar","type":"String"},{"name":"notes","kind":"scalar","type":"String"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"createdBy","kind":"scalar","type":"String"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"updatedBy","kind":"scalar","type":"String"},{"name":"JournalEntries","kind":"object","type":"JournalEntry","relationName":"FinancialPeriodToJournalEntry"},{"name":"AccountBalances","kind":"object","type":"AccountBalance","relationName":"AccountBalanceToFinancialPeriod"},{"name":"Reconciliations","kind":"object","type":"Reconciliation","relationName":"FinancialPeriodToReconciliation"},{"name":"ConsolidationSnapshots","kind":"object","type":"ConsolidationSnapshot","relationName":"ConsolidationSnapshotToFinancialPeriod"}],"dbName":null},"JournalEntry":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"agencyId","kind":"scalar","type":"String"},{"name":"subAccountId","kind":"scalar","type":"String"},{"name":"Agency","kind":"object","type":"Agency","relationName":"AgencyToJournalEntry"},{"name":"SubAccount","kind":"object","type":"SubAccount","relationName":"JournalEntryToSubAccount"},{"name":"entryNumber","kind":"scalar","type":"String"},{"name":"reference","kind":"scalar","type":"String"},{"name":"periodId","kind":"scalar","type":"String"},{"name":"Period","kind":"object","type":"FinancialPeriod","relationName":"FinancialPeriodToJournalEntry"},{"name":"entryDate","kind":"scalar","type":"DateTime"},{"name":"entryType","kind":"enum","type":"JournalEntryType"},{"name":"sourceModule","kind":"enum","type":"SourceModule"},{"name":"sourceId","kind":"scalar","type":"String"},{"name":"sourceReference","kind":"scalar","type":"String"},{"name":"postingRuleId","kind":"scalar","type":"String"},{"name":"PostingRule","kind":"object","type":"PostingRule","relationName":"JournalEntryToPostingRule"},{"name":"description","kind":"scalar","type":"String"},{"name":"notes","kind":"scalar","type":"String"},{"name":"currencyCode","kind":"scalar","type":"String"},{"name":"exchangeRate","kind":"scalar","type":"Decimal"},{"name":"totalDebit","kind":"scalar","type":"Decimal"},{"name":"totalCredit","kind":"scalar","type":"Decimal"},{"name":"totalDebitBase","kind":"scalar","type":"Decimal"},{"name":"totalCreditBase","kind":"scalar","type":"Decimal"},{"name":"status","kind":"enum","type":"JournalEntryStatus"},{"name":"isCarryForward","kind":"scalar","type":"Boolean"},{"name":"isBroughtForward","kind":"scalar","type":"Boolean"},{"name":"carryForwardFromId","kind":"scalar","type":"String"},{"name":"CarryForwardFrom","kind":"object","type":"JournalEntry","relationName":"CarryForwardLink"},{"name":"CarriedForwardTo","kind":"object","type":"JournalEntry","relationName":"CarryForwardLink"},{"name":"isReversal","kind":"scalar","type":"Boolean"},{"name":"reversalOfId","kind":"scalar","type":"String"},{"name":"ReversalOf","kind":"object","type":"JournalEntry","relationName":"ReversalLink"},{"name":"ReversedBy","kind":"object","type":"JournalEntry","relationName":"ReversalLink"},{"name":"submittedAt","kind":"scalar","type":"DateTime"},{"name":"submittedBy","kind":"scalar","type":"String"},{"name":"approvedAt","kind":"scalar","type":"DateTime"},{"name":"approvedBy","kind":"scalar","type":"String"},{"name":"rejectedAt","kind":"scalar","type":"DateTime"},{"name":"rejectedBy","kind":"scalar","type":"String"},{"name":"rejectionReason","kind":"scalar","type":"String"},{"name":"postedAt","kind":"scalar","type":"DateTime"},{"name":"postedBy","kind":"scalar","type":"String"},{"name":"reversedAt","kind":"scalar","type":"DateTime"},{"name":"reversedByUser","kind":"scalar","type":"String"},{"name":"reversalReason","kind":"scalar","type":"String"},{"name":"voidedAt","kind":"scalar","type":"DateTime"},{"name":"voidedBy","kind":"scalar","type":"String"},{"name":"voidReason","kind":"scalar","type":"String"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"createdBy","kind":"scalar","type":"String"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"updatedBy","kind":"scalar","type":"String"},{"name":"Lines","kind":"object","type":"JournalEntryLine","relationName":"JournalEntryToJournalEntryLine"},{"name":"EInvoices","kind":"object","type":"EInvoice","relationName":"EInvoiceToJournalEntry"}],"dbName":null},"JournalEntryLine":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"journalEntryId","kind":"scalar","type":"String"},{"name":"JournalEntry","kind":"object","type":"JournalEntry","relationName":"JournalEntryToJournalEntryLine"},{"name":"lineNumber","kind":"scalar","type":"Int"},{"name":"accountId","kind":"scalar","type":"String"},{"name":"Account","kind":"object","type":"ChartOfAccount","relationName":"ChartOfAccountToJournalEntryLine"},{"name":"description","kind":"scalar","type":"String"},{"name":"debitAmount","kind":"scalar","type":"Decimal"},{"name":"creditAmount","kind":"scalar","type":"Decimal"},{"name":"debitAmountBase","kind":"scalar","type":"Decimal"},{"name":"creditAmountBase","kind":"scalar","type":"Decimal"},{"name":"exchangeRate","kind":"scalar","type":"Decimal"},{"name":"subledgerType","kind":"enum","type":"SubledgerType"},{"name":"subledgerReference","kind":"scalar","type":"String"},{"name":"taxCode","kind":"scalar","type":"String"},{"name":"taxAmount","kind":"scalar","type":"Decimal"},{"name":"dimension1","kind":"scalar","type":"String"},{"name":"dimension2","kind":"scalar","type":"String"},{"name":"dimension3","kind":"scalar","type":"String"},{"name":"dimension4","kind":"scalar","type":"String"},{"name":"isIntercompany","kind":"scalar","type":"Boolean"},{"name":"intercompanySubAccountId","kind":"scalar","type":"String"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"}],"dbName":null},"AccountBalance":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"agencyId","kind":"scalar","type":"String"},{"name":"subAccountId","kind":"scalar","type":"String"},{"name":"Agency","kind":"object","type":"Agency","relationName":"AccountBalanceToAgency"},{"name":"SubAccount","kind":"object","type":"SubAccount","relationName":"AccountBalanceToSubAccount"},{"name":"accountId","kind":"scalar","type":"String"},{"name":"Account","kind":"object","type":"ChartOfAccount","relationName":"AccountBalanceToChartOfAccount"},{"name":"periodId","kind":"scalar","type":"String"},{"name":"Period","kind":"object","type":"FinancialPeriod","relationName":"AccountBalanceToFinancialPeriod"},{"name":"currencyCode","kind":"scalar","type":"String"},{"name":"openingBalance","kind":"scalar","type":"Decimal"},{"name":"debitMovement","kind":"scalar","type":"Decimal"},{"name":"creditMovement","kind":"scalar","type":"Decimal"},{"name":"closingBalance","kind":"scalar","type":"Decimal"},{"name":"openingBalanceBase","kind":"scalar","type":"Decimal"},{"name":"debitMovementBase","kind":"scalar","type":"Decimal"},{"name":"creditMovementBase","kind":"scalar","type":"Decimal"},{"name":"closingBalanceBase","kind":"scalar","type":"Decimal"},{"name":"balanceType","kind":"enum","type":"BalanceType"},{"name":"transactionCount","kind":"scalar","type":"Int"},{"name":"lastRecalculatedAt","kind":"scalar","type":"DateTime"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"}],"dbName":null},"Currency":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"code","kind":"scalar","type":"String"},{"name":"name","kind":"scalar","type":"String"},{"name":"symbol","kind":"scalar","type":"String"},{"name":"decimalPlaces","kind":"scalar","type":"Int"},{"name":"isActive","kind":"scalar","type":"Boolean"},{"name":"isBaseCurrency","kind":"scalar","type":"Boolean"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"ExchangeRatesFrom","kind":"object","type":"ExchangeRate","relationName":"FromCurrency"},{"name":"ExchangeRatesTo","kind":"object","type":"ExchangeRate","relationName":"ToCurrency"},{"name":"Revaluations","kind":"object","type":"CurrencyRevaluation","relationName":"CurrencyToCurrencyRevaluation"}],"dbName":null},"ExchangeRate":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"agencyId","kind":"scalar","type":"String"},{"name":"Agency","kind":"object","type":"Agency","relationName":"AgencyToExchangeRate"},{"name":"fromCurrencyCode","kind":"scalar","type":"String"},{"name":"FromCurrency","kind":"object","type":"Currency","relationName":"FromCurrency"},{"name":"toCurrencyCode","kind":"scalar","type":"String"},{"name":"ToCurrency","kind":"object","type":"Currency","relationName":"ToCurrency"},{"name":"rate","kind":"scalar","type":"Decimal"},{"name":"inverseRate","kind":"scalar","type":"Decimal"},{"name":"effectiveDate","kind":"scalar","type":"DateTime"},{"name":"expiryDate","kind":"scalar","type":"DateTime"},{"name":"rateType","kind":"scalar","type":"String"},{"name":"source","kind":"scalar","type":"String"},{"name":"isActive","kind":"scalar","type":"Boolean"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"createdBy","kind":"scalar","type":"String"},{"name":"updatedAt","kind":"scalar","type":"DateTime"}],"dbName":null},"CurrencyRevaluation":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"agencyId","kind":"scalar","type":"String"},{"name":"subAccountId","kind":"scalar","type":"String"},{"name":"Agency","kind":"object","type":"Agency","relationName":"AgencyToCurrencyRevaluation"},{"name":"SubAccount","kind":"object","type":"SubAccount","relationName":"CurrencyRevaluationToSubAccount"},{"name":"periodId","kind":"scalar","type":"String"},{"name":"currencyCode","kind":"scalar","type":"String"},{"name":"Currency","kind":"object","type":"Currency","relationName":"CurrencyToCurrencyRevaluation"},{"name":"revaluationDate","kind":"scalar","type":"DateTime"},{"name":"exchangeRate","kind":"scalar","type":"Decimal"},{"name":"previousRate","kind":"scalar","type":"Decimal"},{"name":"unrealizedGain","kind":"scalar","type":"Decimal"},{"name":"unrealizedLoss","kind":"scalar","type":"Decimal"},{"name":"netGainLoss","kind":"scalar","type":"Decimal"},{"name":"journalEntryId","kind":"scalar","type":"String"},{"name":"status","kind":"scalar","type":"String"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"createdBy","kind":"scalar","type":"String"},{"name":"postedAt","kind":"scalar","type":"DateTime"},{"name":"postedBy","kind":"scalar","type":"String"}],"dbName":null},"PostingRule":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"agencyId","kind":"scalar","type":"String"},{"name":"subAccountId","kind":"scalar","type":"String"},{"name":"Agency","kind":"object","type":"Agency","relationName":"AgencyToPostingRule"},{"name":"SubAccount","kind":"object","type":"SubAccount","relationName":"PostingRuleToSubAccount"},{"name":"code","kind":"scalar","type":"String"},{"name":"name","kind":"scalar","type":"String"},{"name":"description","kind":"scalar","type":"String"},{"name":"sourceModule","kind":"enum","type":"SourceModule"},{"name":"debitAccountId","kind":"scalar","type":"String"},{"name":"DebitAccount","kind":"object","type":"ChartOfAccount","relationName":"PostingRuleDebit"},{"name":"creditAccountId","kind":"scalar","type":"String"},{"name":"CreditAccount","kind":"object","type":"ChartOfAccount","relationName":"PostingRuleCredit"},{"name":"amountType","kind":"scalar","type":"String"},{"name":"percentage","kind":"scalar","type":"Decimal"},{"name":"fixedAmount","kind":"scalar","type":"Decimal"},{"name":"conditions","kind":"scalar","type":"Json"},{"name":"priority","kind":"scalar","type":"Int"},{"name":"isActive","kind":"scalar","type":"Boolean"},{"name":"autoPost","kind":"scalar","type":"Boolean"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"createdBy","kind":"scalar","type":"String"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"updatedBy","kind":"scalar","type":"String"},{"name":"activatedAt","kind":"scalar","type":"DateTime"},{"name":"activatedBy","kind":"scalar","type":"String"},{"name":"deactivatedAt","kind":"scalar","type":"DateTime"},{"name":"deactivatedBy","kind":"scalar","type":"String"},{"name":"JournalEntries","kind":"object","type":"JournalEntry","relationName":"JournalEntryToPostingRule"}],"dbName":null},"PostingTemplate":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"agencyId","kind":"scalar","type":"String"},{"name":"Agency","kind":"object","type":"Agency","relationName":"AgencyToPostingTemplate"},{"name":"name","kind":"scalar","type":"String"},{"name":"description","kind":"scalar","type":"String"},{"name":"template","kind":"scalar","type":"Json"},{"name":"defaultDescription","kind":"scalar","type":"String"},{"name":"defaultCurrency","kind":"scalar","type":"String"},{"name":"isActive","kind":"scalar","type":"Boolean"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"createdBy","kind":"scalar","type":"String"},{"name":"updatedAt","kind":"scalar","type":"DateTime"}],"dbName":null},"Reconciliation":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"agencyId","kind":"scalar","type":"String"},{"name":"subAccountId","kind":"scalar","type":"String"},{"name":"Agency","kind":"object","type":"Agency","relationName":"AgencyToReconciliation"},{"name":"SubAccount","kind":"object","type":"SubAccount","relationName":"ReconciliationToSubAccount"},{"name":"accountId","kind":"scalar","type":"String"},{"name":"Account","kind":"object","type":"ChartOfAccount","relationName":"ChartOfAccountToReconciliation"},{"name":"periodId","kind":"scalar","type":"String"},{"name":"Period","kind":"object","type":"FinancialPeriod","relationName":"FinancialPeriodToReconciliation"},{"name":"reconciliationNumber","kind":"scalar","type":"String"},{"name":"description","kind":"scalar","type":"String"},{"name":"bookBalance","kind":"scalar","type":"Decimal"},{"name":"statementBalance","kind":"scalar","type":"Decimal"},{"name":"statementDate","kind":"scalar","type":"DateTime"},{"name":"adjustedBookBalance","kind":"scalar","type":"Decimal"},{"name":"difference","kind":"scalar","type":"Decimal"},{"name":"status","kind":"enum","type":"ReconciliationStatus"},{"name":"submittedAt","kind":"scalar","type":"DateTime"},{"name":"submittedBy","kind":"scalar","type":"String"},{"name":"approvedAt","kind":"scalar","type":"DateTime"},{"name":"approvedBy","kind":"scalar","type":"String"},{"name":"rejectedAt","kind":"scalar","type":"DateTime"},{"name":"rejectedBy","kind":"scalar","type":"String"},{"name":"rejectionReason","kind":"scalar","type":"String"},{"name":"closedAt","kind":"scalar","type":"DateTime"},{"name":"closedBy","kind":"scalar","type":"String"},{"name":"notes","kind":"scalar","type":"String"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"createdBy","kind":"scalar","type":"String"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"updatedBy","kind":"scalar","type":"String"},{"name":"Items","kind":"object","type":"ReconciliationItem","relationName":"ReconciliationToReconciliationItem"}],"dbName":null},"ReconciliationItem":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"reconciliationId","kind":"scalar","type":"String"},{"name":"Reconciliation","kind":"object","type":"Reconciliation","relationName":"ReconciliationToReconciliationItem"},{"name":"itemType","kind":"scalar","type":"String"},{"name":"transactionDate","kind":"scalar","type":"DateTime"},{"name":"reference","kind":"scalar","type":"String"},{"name":"description","kind":"scalar","type":"String"},{"name":"amount","kind":"scalar","type":"Decimal"},{"name":"status","kind":"enum","type":"ReconciliationItemStatus"},{"name":"matchedItemId","kind":"scalar","type":"String"},{"name":"matchedAt","kind":"scalar","type":"DateTime"},{"name":"matchedBy","kind":"scalar","type":"String"},{"name":"notes","kind":"scalar","type":"String"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"}],"dbName":null},"ReconciliationRule":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"agencyId","kind":"scalar","type":"String"},{"name":"Agency","kind":"object","type":"Agency","relationName":"AgencyToReconciliationRule"},{"name":"name","kind":"scalar","type":"String"},{"name":"description","kind":"scalar","type":"String"},{"name":"ruleDefinition","kind":"scalar","type":"Json"},{"name":"priority","kind":"scalar","type":"Int"},{"name":"isActive","kind":"scalar","type":"Boolean"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"createdBy","kind":"scalar","type":"String"},{"name":"updatedAt","kind":"scalar","type":"DateTime"}],"dbName":null},"IntercompanyReconciliation":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"agencyId","kind":"scalar","type":"String"},{"name":"Agency","kind":"object","type":"Agency","relationName":"AgencyToIntercompanyReconciliation"},{"name":"periodId","kind":"scalar","type":"String"},{"name":"subAccountId1","kind":"scalar","type":"String"},{"name":"SubAccount1","kind":"object","type":"SubAccount","relationName":"ICRecon1"},{"name":"subAccountId2","kind":"scalar","type":"String"},{"name":"SubAccount2","kind":"object","type":"SubAccount","relationName":"ICRecon2"},{"name":"accountCode1","kind":"scalar","type":"String"},{"name":"accountCode2","kind":"scalar","type":"String"},{"name":"balance1","kind":"scalar","type":"Decimal"},{"name":"balance2","kind":"scalar","type":"Decimal"},{"name":"difference","kind":"scalar","type":"Decimal"},{"name":"status","kind":"enum","type":"ReconciliationStatus"},{"name":"notes","kind":"scalar","type":"String"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"createdBy","kind":"scalar","type":"String"},{"name":"updatedAt","kind":"scalar","type":"DateTime"}],"dbName":null},"ConsolidationSnapshot":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"agencyId","kind":"scalar","type":"String"},{"name":"Agency","kind":"object","type":"Agency","relationName":"AgencyToConsolidationSnapshot"},{"name":"periodId","kind":"scalar","type":"String"},{"name":"Period","kind":"object","type":"FinancialPeriod","relationName":"ConsolidationSnapshotToFinancialPeriod"},{"name":"snapshotNumber","kind":"scalar","type":"String"},{"name":"name","kind":"scalar","type":"String"},{"name":"description","kind":"scalar","type":"String"},{"name":"subAccountIds","kind":"scalar","type":"String"},{"name":"consolidationMethod","kind":"enum","type":"ConsolidationMethod"},{"name":"consolidatedBalances","kind":"scalar","type":"Json"},{"name":"balanceSheet","kind":"scalar","type":"Json"},{"name":"incomeStatement","kind":"scalar","type":"Json"},{"name":"cashFlowStatement","kind":"scalar","type":"Json"},{"name":"eliminationEntries","kind":"scalar","type":"Json"},{"name":"adjustmentEntries","kind":"scalar","type":"Json"},{"name":"totalEliminations","kind":"scalar","type":"Decimal"},{"name":"totalAdjustments","kind":"scalar","type":"Decimal"},{"name":"ownershipPercentages","kind":"scalar","type":"Json"},{"name":"version","kind":"scalar","type":"Int"},{"name":"previousVersionId","kind":"scalar","type":"String"},{"name":"status","kind":"enum","type":"ConsolidationStatus"},{"name":"validationResults","kind":"scalar","type":"Json"},{"name":"isValid","kind":"scalar","type":"Boolean"},{"name":"consolidatedAt","kind":"scalar","type":"DateTime"},{"name":"consolidatedBy","kind":"scalar","type":"String"},{"name":"submittedAt","kind":"scalar","type":"DateTime"},{"name":"submittedBy","kind":"scalar","type":"String"},{"name":"approvedAt","kind":"scalar","type":"DateTime"},{"name":"approvedBy","kind":"scalar","type":"String"},{"name":"rejectedAt","kind":"scalar","type":"DateTime"},{"name":"rejectedBy","kind":"scalar","type":"String"},{"name":"rejectionReason","kind":"scalar","type":"String"},{"name":"notes","kind":"scalar","type":"String"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"WorksheetLines","kind":"object","type":"ConsolidationWorksheetLine","relationName":"ConsolidationSnapshotToConsolidationWorksheetLine"},{"name":"Adjustments","kind":"object","type":"ConsolidationAdjustment","relationName":"ConsolidationAdjustmentToConsolidationSnapshot"},{"name":"Eliminations","kind":"object","type":"IntercompanyElimination","relationName":"ConsolidationSnapshotToIntercompanyElimination"},{"name":"consolidatedBalances_","kind":"object","type":"ConsolidatedBalance","relationName":"ConsolidatedBalanceToConsolidationSnapshot"}],"dbName":null},"ConsolidationWorksheetLine":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"snapshotId","kind":"scalar","type":"String"},{"name":"Snapshot","kind":"object","type":"ConsolidationSnapshot","relationName":"ConsolidationSnapshotToConsolidationWorksheetLine"},{"name":"groupCOAId","kind":"scalar","type":"String"},{"name":"GroupCOA","kind":"object","type":"AgencyGroupCOA","relationName":"AgencyGroupCOAToConsolidationWorksheetLine"},{"name":"accountCode","kind":"scalar","type":"String"},{"name":"accountName","kind":"scalar","type":"String"},{"name":"subAccountBalances","kind":"scalar","type":"Json"},{"name":"totalBeforeAdj","kind":"scalar","type":"Decimal"},{"name":"eliminations","kind":"scalar","type":"Decimal"},{"name":"adjustments","kind":"scalar","type":"Decimal"},{"name":"consolidatedBalance","kind":"scalar","type":"Decimal"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"}],"dbName":null},"ConsolidatedBalance":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"snapshotId","kind":"scalar","type":"String"},{"name":"Snapshot","kind":"object","type":"ConsolidationSnapshot","relationName":"ConsolidatedBalanceToConsolidationSnapshot"},{"name":"groupCOAId","kind":"scalar","type":"String"},{"name":"GroupCOA","kind":"object","type":"AgencyGroupCOA","relationName":"AgencyGroupCOAToConsolidatedBalance"},{"name":"balance","kind":"scalar","type":"Decimal"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"}],"dbName":null},"ConsolidationAdjustment":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"snapshotId","kind":"scalar","type":"String"},{"name":"Snapshot","kind":"object","type":"ConsolidationSnapshot","relationName":"ConsolidationAdjustmentToConsolidationSnapshot"},{"name":"adjustmentNumber","kind":"scalar","type":"String"},{"name":"description","kind":"scalar","type":"String"},{"name":"debitAccountCode","kind":"scalar","type":"String"},{"name":"creditAccountCode","kind":"scalar","type":"String"},{"name":"amount","kind":"scalar","type":"Decimal"},{"name":"adjustmentType","kind":"scalar","type":"String"},{"name":"status","kind":"scalar","type":"String"},{"name":"approvedAt","kind":"scalar","type":"DateTime"},{"name":"approvedBy","kind":"scalar","type":"String"},{"name":"notes","kind":"scalar","type":"String"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"createdBy","kind":"scalar","type":"String"},{"name":"updatedAt","kind":"scalar","type":"DateTime"}],"dbName":null},"IntercompanyElimination":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"snapshotId","kind":"scalar","type":"String"},{"name":"Snapshot","kind":"object","type":"ConsolidationSnapshot","relationName":"ConsolidationSnapshotToIntercompanyElimination"},{"name":"eliminationNumber","kind":"scalar","type":"String"},{"name":"description","kind":"scalar","type":"String"},{"name":"subAccountId1","kind":"scalar","type":"String"},{"name":"subAccountId2","kind":"scalar","type":"String"},{"name":"accountCode1","kind":"scalar","type":"String"},{"name":"accountCode2","kind":"scalar","type":"String"},{"name":"amount","kind":"scalar","type":"Decimal"},{"name":"eliminationType","kind":"scalar","type":"String"},{"name":"status","kind":"scalar","type":"String"},{"name":"approvedAt","kind":"scalar","type":"DateTime"},{"name":"approvedBy","kind":"scalar","type":"String"},{"name":"isAutoGenerated","kind":"scalar","type":"Boolean"},{"name":"notes","kind":"scalar","type":"String"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"createdBy","kind":"scalar","type":"String"},{"name":"updatedAt","kind":"scalar","type":"DateTime"}],"dbName":null},"SubAccountOwnership":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"agencyId","kind":"scalar","type":"String"},{"name":"Agency","kind":"object","type":"Agency","relationName":"AgencyToSubAccountOwnership"},{"name":"subAccountId","kind":"scalar","type":"String"},{"name":"SubAccount","kind":"object","type":"SubAccount","relationName":"SubAccountToSubAccountOwnership"},{"name":"ownershipPercentage","kind":"scalar","type":"Decimal"},{"name":"consolidationMethod","kind":"enum","type":"ConsolidationMethod"},{"name":"effectiveFrom","kind":"scalar","type":"DateTime"},{"name":"effectiveTo","kind":"scalar","type":"DateTime"},{"name":"minorityInterestAccountCode","kind":"scalar","type":"String"},{"name":"isActive","kind":"scalar","type":"Boolean"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"createdBy","kind":"scalar","type":"String"},{"name":"updatedAt","kind":"scalar","type":"DateTime"}],"dbName":null},"SavedReport":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"agencyId","kind":"scalar","type":"String"},{"name":"subAccountId","kind":"scalar","type":"String"},{"name":"Agency","kind":"object","type":"Agency","relationName":"AgencyToSavedReport"},{"name":"SubAccount","kind":"object","type":"SubAccount","relationName":"SavedReportToSubAccount"},{"name":"name","kind":"scalar","type":"String"},{"name":"description","kind":"scalar","type":"String"},{"name":"reportType","kind":"enum","type":"ReportType"},{"name":"parameters","kind":"scalar","type":"Json"},{"name":"isScheduled","kind":"scalar","type":"Boolean"},{"name":"schedule","kind":"scalar","type":"String"},{"name":"lastGeneratedAt","kind":"scalar","type":"DateTime"},{"name":"lastGeneratedBy","kind":"scalar","type":"String"},{"name":"isActive","kind":"scalar","type":"Boolean"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"createdBy","kind":"scalar","type":"String"},{"name":"updatedAt","kind":"scalar","type":"DateTime"}],"dbName":null},"ReportTemplate":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"name","kind":"scalar","type":"String"},{"name":"description","kind":"scalar","type":"String"},{"name":"reportType","kind":"enum","type":"ReportType"},{"name":"templateDefinition","kind":"scalar","type":"Json"},{"name":"defaultParameters","kind":"scalar","type":"Json"},{"name":"isSystem","kind":"scalar","type":"Boolean"},{"name":"isActive","kind":"scalar","type":"Boolean"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"}],"dbName":null},"COATemplate":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"name","kind":"scalar","type":"String"},{"name":"industry","kind":"enum","type":"Industry"},{"name":"description","kind":"scalar","type":"String"},{"name":"region","kind":"scalar","type":"String"},{"name":"accountingStandard","kind":"scalar","type":"String"},{"name":"template","kind":"scalar","type":"Json"},{"name":"version","kind":"scalar","type":"String"},{"name":"isActive","kind":"scalar","type":"Boolean"},{"name":"isDefault","kind":"scalar","type":"Boolean"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"}],"dbName":null},"GLAuditTrail":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"agencyId","kind":"scalar","type":"String"},{"name":"subAccountId","kind":"scalar","type":"String"},{"name":"entityType","kind":"scalar","type":"String"},{"name":"entityId","kind":"scalar","type":"String"},{"name":"action","kind":"enum","type":"AuditAction"},{"name":"userId","kind":"scalar","type":"String"},{"name":"userEmail","kind":"scalar","type":"String"},{"name":"userName","kind":"scalar","type":"String"},{"name":"timestamp","kind":"scalar","type":"DateTime"},{"name":"previousValues","kind":"scalar","type":"Json"},{"name":"newValues","kind":"scalar","type":"Json"},{"name":"ipAddress","kind":"scalar","type":"String"},{"name":"userAgent","kind":"scalar","type":"String"},{"name":"sessionId","kind":"scalar","type":"String"},{"name":"reason","kind":"scalar","type":"String"}],"dbName":null},"SubLedger":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"agencyId","kind":"scalar","type":"String"},{"name":"subAccountId","kind":"scalar","type":"String"},{"name":"Agency","kind":"object","type":"Agency","relationName":"AgencyToSubLedger"},{"name":"SubAccount","kind":"object","type":"SubAccount","relationName":"SubAccountToSubLedger"},{"name":"code","kind":"scalar","type":"String"},{"name":"name","kind":"scalar","type":"String"},{"name":"description","kind":"scalar","type":"String"},{"name":"type","kind":"enum","type":"SubledgerType"},{"name":"controlAccountId","kind":"scalar","type":"String"},{"name":"ControlAccount","kind":"object","type":"ChartOfAccount","relationName":"SubLedgerControl"},{"name":"isActive","kind":"scalar","type":"Boolean"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"createdBy","kind":"scalar","type":"String"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"updatedBy","kind":"scalar","type":"String"},{"name":"Vendors","kind":"object","type":"Vendor","relationName":"SubLedgerToVendor"},{"name":"Customers","kind":"object","type":"Customer","relationName":"CustomerToSubLedger"}],"dbName":null},"Vendor":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"agencyId","kind":"scalar","type":"String"},{"name":"subAccountId","kind":"scalar","type":"String"},{"name":"Agency","kind":"object","type":"Agency","relationName":"AgencyToVendor"},{"name":"SubAccount","kind":"object","type":"SubAccount","relationName":"SubAccountToVendor"},{"name":"code","kind":"scalar","type":"String"},{"name":"name","kind":"scalar","type":"String"},{"name":"taxId","kind":"scalar","type":"String"},{"name":"email","kind":"scalar","type":"String"},{"name":"phone","kind":"scalar","type":"String"},{"name":"address","kind":"scalar","type":"Json"},{"name":"subLedgerId","kind":"scalar","type":"String"},{"name":"SubLedger","kind":"object","type":"SubLedger","relationName":"SubLedgerToVendor"},{"name":"paymentTermDays","kind":"scalar","type":"Int"},{"name":"currency","kind":"scalar","type":"String"},{"name":"creditLimit","kind":"scalar","type":"Decimal"},{"name":"bankName","kind":"scalar","type":"String"},{"name":"bankAccount","kind":"scalar","type":"String"},{"name":"bankSwiftCode","kind":"scalar","type":"String"},{"name":"isActive","kind":"scalar","type":"Boolean"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"createdBy","kind":"scalar","type":"String"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"updatedBy","kind":"scalar","type":"String"},{"name":"OpenItems","kind":"object","type":"OpenItem","relationName":"VendorOpenItems"}],"dbName":null},"Customer":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"agencyId","kind":"scalar","type":"String"},{"name":"subAccountId","kind":"scalar","type":"String"},{"name":"Agency","kind":"object","type":"Agency","relationName":"AgencyToCustomer"},{"name":"SubAccount","kind":"object","type":"SubAccount","relationName":"CustomerToSubAccount"},{"name":"code","kind":"scalar","type":"String"},{"name":"name","kind":"scalar","type":"String"},{"name":"taxId","kind":"scalar","type":"String"},{"name":"email","kind":"scalar","type":"String"},{"name":"phone","kind":"scalar","type":"String"},{"name":"address","kind":"scalar","type":"Json"},{"name":"subLedgerId","kind":"scalar","type":"String"},{"name":"SubLedger","kind":"object","type":"SubLedger","relationName":"CustomerToSubLedger"},{"name":"paymentTermDays","kind":"scalar","type":"Int"},{"name":"currency","kind":"scalar","type":"String"},{"name":"creditLimit","kind":"scalar","type":"Decimal"},{"name":"isActive","kind":"scalar","type":"Boolean"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"createdBy","kind":"scalar","type":"String"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"updatedBy","kind":"scalar","type":"String"},{"name":"OpenItems","kind":"object","type":"OpenItem","relationName":"CustomerOpenItems"},{"name":"EInvoices","kind":"object","type":"EInvoice","relationName":"CustomerToEInvoice"}],"dbName":null},"GLConfigurationLock":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"agencyId","kind":"scalar","type":"String"},{"name":"subAccountId","kind":"scalar","type":"String"},{"name":"Agency","kind":"object","type":"Agency","relationName":"AgencyToGLConfigurationLock"},{"name":"SubAccount","kind":"object","type":"SubAccount","relationName":"GLConfigurationLockToSubAccount"},{"name":"settingKey","kind":"scalar","type":"String"},{"name":"lockedValue","kind":"scalar","type":"String"},{"name":"lockedReason","kind":"scalar","type":"String"},{"name":"lockedAt","kind":"scalar","type":"DateTime"},{"name":"lockedBy","kind":"scalar","type":"String"},{"name":"unlockConditions","kind":"scalar","type":"Json"},{"name":"isPermanent","kind":"scalar","type":"Boolean"}],"dbName":null},"OpenItem":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"agencyId","kind":"scalar","type":"String"},{"name":"subAccountId","kind":"scalar","type":"String"},{"name":"Agency","kind":"object","type":"Agency","relationName":"AgencyToOpenItem"},{"name":"SubAccount","kind":"object","type":"SubAccount","relationName":"OpenItemToSubAccount"},{"name":"accountId","kind":"scalar","type":"String"},{"name":"Account","kind":"object","type":"ChartOfAccount","relationName":"OpenItemAccount"},{"name":"journalEntryId","kind":"scalar","type":"String"},{"name":"journalLineId","kind":"scalar","type":"String"},{"name":"sourceModule","kind":"enum","type":"SourceModule"},{"name":"sourceId","kind":"scalar","type":"String"},{"name":"sourceReference","kind":"scalar","type":"String"},{"name":"reference","kind":"scalar","type":"String"},{"name":"assignment","kind":"scalar","type":"String"},{"name":"text","kind":"scalar","type":"String"},{"name":"itemDate","kind":"scalar","type":"DateTime"},{"name":"itemType","kind":"scalar","type":"String"},{"name":"dueDate","kind":"scalar","type":"DateTime"},{"name":"localCurrencyCode","kind":"scalar","type":"String"},{"name":"localAmount","kind":"scalar","type":"Decimal"},{"name":"localRemainingAmount","kind":"scalar","type":"Decimal"},{"name":"documentCurrencyCode","kind":"scalar","type":"String"},{"name":"documentAmount","kind":"scalar","type":"Decimal"},{"name":"documentRemainingAmount","kind":"scalar","type":"Decimal"},{"name":"documentNumber","kind":"scalar","type":"String"},{"name":"documentDate","kind":"scalar","type":"DateTime"},{"name":"exchangeRate","kind":"scalar","type":"Decimal"},{"name":"partnerType","kind":"enum","type":"PartnerType"},{"name":"customerId","kind":"scalar","type":"String"},{"name":"Customer","kind":"object","type":"Customer","relationName":"CustomerOpenItems"},{"name":"vendorId","kind":"scalar","type":"String"},{"name":"Vendor","kind":"object","type":"Vendor","relationName":"VendorOpenItems"},{"name":"status","kind":"enum","type":"OpenItemStatus"},{"name":"clearingDate","kind":"scalar","type":"DateTime"},{"name":"clearingDocumentId","kind":"scalar","type":"String"},{"name":"clearingReference","kind":"scalar","type":"String"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"createdBy","kind":"scalar","type":"String"},{"name":"enteredAt","kind":"scalar","type":"DateTime"},{"name":"postedAt","kind":"scalar","type":"DateTime"},{"name":"clearedAt","kind":"scalar","type":"DateTime"},{"name":"clearedBy","kind":"scalar","type":"String"},{"name":"Allocations","kind":"object","type":"OpenItemAllocation","relationName":"OpenItemToOpenItemAllocation"}],"dbName":null},"OpenItemAllocation":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"openItemId","kind":"scalar","type":"String"},{"name":"OpenItem","kind":"object","type":"OpenItem","relationName":"OpenItemToOpenItemAllocation"},{"name":"clearedById","kind":"scalar","type":"String"},{"name":"clearedByType","kind":"enum","type":"ClearingDocumentType"},{"name":"clearedByRef","kind":"scalar","type":"String"},{"name":"localAmount","kind":"scalar","type":"Decimal"},{"name":"documentAmount","kind":"scalar","type":"Decimal"},{"name":"exchangeDifference","kind":"scalar","type":"Decimal"},{"name":"allocatedAt","kind":"scalar","type":"DateTime"},{"name":"allocatedBy","kind":"scalar","type":"String"},{"name":"notes","kind":"scalar","type":"String"}],"dbName":null},"IntegrationApiKey":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"name","kind":"scalar","type":"String"},{"name":"keyPrefix","kind":"scalar","type":"String"},{"name":"keyHash","kind":"scalar","type":"String"},{"name":"agencyId","kind":"scalar","type":"String"},{"name":"subAccountId","kind":"scalar","type":"String"},{"name":"createdByUserId","kind":"scalar","type":"String"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"revokedAt","kind":"scalar","type":"DateTime"},{"name":"lastUsedAt","kind":"scalar","type":"DateTime"},{"name":"Agency","kind":"object","type":"Agency","relationName":"AgencyToIntegrationApiKey"},{"name":"SubAccount","kind":"object","type":"SubAccount","relationName":"IntegrationApiKeyToSubAccount"},{"name":"CreatedBy","kind":"object","type":"User","relationName":"IntegrationApiKeyToUser"}],"dbName":null},"IntegrationConnection":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"provider","kind":"scalar","type":"String"},{"name":"status","kind":"scalar","type":"String"},{"name":"agencyId","kind":"scalar","type":"String"},{"name":"subAccountId","kind":"scalar","type":"String"},{"name":"credentials","kind":"scalar","type":"Json"},{"name":"config","kind":"scalar","type":"Json"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"deletedAt","kind":"scalar","type":"DateTime"},{"name":"Agency","kind":"object","type":"Agency","relationName":"AgencyToIntegrationConnection"},{"name":"SubAccount","kind":"object","type":"SubAccount","relationName":"IntegrationConnectionToSubAccount"},{"name":"WebhookSubscriptions","kind":"object","type":"IntegrationWebhookSubscription","relationName":"IntegrationConnectionToIntegrationWebhookSubscription"},{"name":"ProviderEvents","kind":"object","type":"IntegrationProviderEvent","relationName":"IntegrationConnectionToIntegrationProviderEvent"}],"dbName":null},"IntegrationWebhookSubscription":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"connectionId","kind":"scalar","type":"String"},{"name":"url","kind":"scalar","type":"String"},{"name":"secretHash","kind":"scalar","type":"String"},{"name":"secretEnc","kind":"scalar","type":"String"},{"name":"events","kind":"scalar","type":"String"},{"name":"isActive","kind":"scalar","type":"Boolean"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"Connection","kind":"object","type":"IntegrationConnection","relationName":"IntegrationConnectionToIntegrationWebhookSubscription"},{"name":"Deliveries","kind":"object","type":"IntegrationWebhookDelivery","relationName":"IntegrationWebhookDeliveryToIntegrationWebhookSubscription"}],"dbName":null},"IntegrationProviderEvent":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"provider","kind":"scalar","type":"String"},{"name":"connectionId","kind":"scalar","type":"String"},{"name":"externalEventId","kind":"scalar","type":"String"},{"name":"headers","kind":"scalar","type":"Json"},{"name":"payload","kind":"scalar","type":"Json"},{"name":"receivedAt","kind":"scalar","type":"DateTime"},{"name":"processedAt","kind":"scalar","type":"DateTime"},{"name":"Connection","kind":"object","type":"IntegrationConnection","relationName":"IntegrationConnectionToIntegrationProviderEvent"},{"name":"Deliveries","kind":"object","type":"IntegrationWebhookDelivery","relationName":"IntegrationProviderEventToIntegrationWebhookDelivery"}],"dbName":null},"IntegrationWebhookDelivery":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"subscriptionId","kind":"scalar","type":"String"},{"name":"providerEventId","kind":"scalar","type":"String"},{"name":"status","kind":"scalar","type":"String"},{"name":"attemptCount","kind":"scalar","type":"Int"},{"name":"nextAttemptAt","kind":"scalar","type":"DateTime"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"Subscription","kind":"object","type":"IntegrationWebhookSubscription","relationName":"IntegrationWebhookDeliveryToIntegrationWebhookSubscription"},{"name":"ProviderEvent","kind":"object","type":"IntegrationProviderEvent","relationName":"IntegrationProviderEventToIntegrationWebhookDelivery"},{"name":"Attempts","kind":"object","type":"IntegrationWebhookDeliveryAttempt","relationName":"IntegrationWebhookDeliveryToIntegrationWebhookDeliveryAttempt"}],"dbName":null},"IntegrationWebhookDeliveryAttempt":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"deliveryId","kind":"scalar","type":"String"},{"name":"statusCode","kind":"scalar","type":"Int"},{"name":"responseBody","kind":"scalar","type":"String"},{"name":"error","kind":"scalar","type":"String"},{"name":"durationMs","kind":"scalar","type":"Int"},{"name":"attemptedAt","kind":"scalar","type":"DateTime"},{"name":"Delivery","kind":"object","type":"IntegrationWebhookDelivery","relationName":"IntegrationWebhookDeliveryToIntegrationWebhookDeliveryAttempt"}],"dbName":null},"AppInstallation":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"appKey","kind":"scalar","type":"String"},{"name":"agencyId","kind":"scalar","type":"String"},{"name":"subAccountId","kind":"scalar","type":"String"},{"name":"status","kind":"enum","type":"AppInstallationStatus"},{"name":"installedAt","kind":"scalar","type":"DateTime"},{"name":"uninstalledAt","kind":"scalar","type":"DateTime"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"Agency","kind":"object","type":"Agency","relationName":"AgencyToAppInstallation"},{"name":"SubAccount","kind":"object","type":"SubAccount","relationName":"AppInstallationToSubAccount"}],"dbName":null},"SupportTicket":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"scope","kind":"enum","type":"MeteringScope"},{"name":"status","kind":"enum","type":"SupportTicketStatus"},{"name":"category","kind":"scalar","type":"String"},{"name":"title","kind":"scalar","type":"String"},{"name":"description","kind":"scalar","type":"String"},{"name":"diagnostics","kind":"scalar","type":"Json"},{"name":"agencyId","kind":"scalar","type":"String"},{"name":"subAccountId","kind":"scalar","type":"String"},{"name":"createdByUserId","kind":"scalar","type":"String"},{"name":"Agency","kind":"object","type":"Agency","relationName":"AgencyToSupportTicket"},{"name":"SubAccount","kind":"object","type":"SubAccount","relationName":"SubAccountToSupportTicket"},{"name":"CreatedByUser","kind":"object","type":"User","relationName":"SupportTicketToUser"}],"dbName":null},"IndustryClassification":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"taxIdentityId","kind":"scalar","type":"String"},{"name":"TaxIdentity","kind":"object","type":"TaxIdentity","relationName":"IndustryClassificationToTaxIdentity"},{"name":"scheme","kind":"enum","type":"IndustryClassificationScheme"},{"name":"code","kind":"scalar","type":"String"},{"name":"description","kind":"scalar","type":"String"},{"name":"version","kind":"scalar","type":"String"},{"name":"parentCode","kind":"scalar","type":"String"},{"name":"level","kind":"scalar","type":"Int"},{"name":"isPrimary","kind":"scalar","type":"Boolean"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"}],"dbName":null},"TaxExemptionCertificate":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"taxIdentityId","kind":"scalar","type":"String"},{"name":"TaxIdentity","kind":"object","type":"TaxIdentity","relationName":"TaxExemptionCertificateToTaxIdentity"},{"name":"certificateId","kind":"scalar","type":"String"},{"name":"exemptionType","kind":"scalar","type":"String"},{"name":"issuingAuthority","kind":"scalar","type":"String"},{"name":"countryCode","kind":"scalar","type":"String"},{"name":"issueDate","kind":"scalar","type":"DateTime"},{"name":"expiryDate","kind":"scalar","type":"DateTime"},{"name":"coveredTaxTypes","kind":"scalar","type":"String"},{"name":"exemptionPercentage","kind":"scalar","type":"Decimal"},{"name":"documentUrl","kind":"scalar","type":"String"},{"name":"documentHash","kind":"scalar","type":"String"},{"name":"verificationStatus","kind":"enum","type":"TaxExemptionVerificationStatus"},{"name":"verifiedBy","kind":"scalar","type":"String"},{"name":"verifiedAt","kind":"scalar","type":"DateTime"},{"name":"notes","kind":"scalar","type":"String"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"}],"dbName":null},"EInvoiceSettings":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"agencyId","kind":"scalar","type":"String"},{"name":"subAccountId","kind":"scalar","type":"String"},{"name":"defaultFormat","kind":"enum","type":"EInvoiceFormat"},{"name":"countryCode","kind":"scalar","type":"String"},{"name":"authorityClientId","kind":"scalar","type":"String"},{"name":"authorityClientSecret","kind":"scalar","type":"String"},{"name":"authorityEndpoint","kind":"scalar","type":"String"},{"name":"defaultRevenueAccountId","kind":"scalar","type":"String"},{"name":"defaultReceivableAccountId","kind":"scalar","type":"String"},{"name":"defaultTaxOutputAccountId","kind":"scalar","type":"String"},{"name":"invoicePrefix","kind":"scalar","type":"String"},{"name":"invoiceNextSeq","kind":"scalar","type":"Int"},{"name":"creditNotePrefix","kind":"scalar","type":"String"},{"name":"creditNoteNextSeq","kind":"scalar","type":"Int"},{"name":"autoSubmit","kind":"scalar","type":"Boolean"},{"name":"autoSubmitDelay","kind":"scalar","type":"Int"},{"name":"signInvoices","kind":"scalar","type":"Boolean"},{"name":"signingCertUrl","kind":"scalar","type":"String"},{"name":"isActive","kind":"scalar","type":"Boolean"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"DefaultRevenueAccount","kind":"object","type":"ChartOfAccount","relationName":"EInvoiceRevenueAccount"},{"name":"DefaultReceivableAccount","kind":"object","type":"ChartOfAccount","relationName":"EInvoiceReceivableAccount"},{"name":"DefaultTaxOutputAccount","kind":"object","type":"ChartOfAccount","relationName":"EInvoiceTaxOutputAccount"},{"name":"EInvoices","kind":"object","type":"EInvoice","relationName":"EInvoiceToEInvoiceSettings"}],"dbName":null},"EInvoice":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"settingsId","kind":"scalar","type":"String"},{"name":"Settings","kind":"object","type":"EInvoiceSettings","relationName":"EInvoiceToEInvoiceSettings"},{"name":"invoiceNumber","kind":"scalar","type":"String"},{"name":"documentType","kind":"enum","type":"EInvoiceDocType"},{"name":"format","kind":"enum","type":"EInvoiceFormat"},{"name":"issueDate","kind":"scalar","type":"DateTime"},{"name":"dueDate","kind":"scalar","type":"DateTime"},{"name":"documentCurrency","kind":"scalar","type":"String"},{"name":"taxCurrency","kind":"scalar","type":"String"},{"name":"status","kind":"enum","type":"EInvoiceStatus"},{"name":"buyerReference","kind":"scalar","type":"String"},{"name":"orderReference","kind":"scalar","type":"String"},{"name":"contractReference","kind":"scalar","type":"String"},{"name":"periodStart","kind":"scalar","type":"DateTime"},{"name":"periodEnd","kind":"scalar","type":"DateTime"},{"name":"supplierTaxIdentityId","kind":"scalar","type":"String"},{"name":"customerId","kind":"scalar","type":"String"},{"name":"customerName","kind":"scalar","type":"String"},{"name":"customerTaxId","kind":"scalar","type":"String"},{"name":"customerAddress","kind":"scalar","type":"Json"},{"name":"customerContact","kind":"scalar","type":"Json"},{"name":"lineExtensionAmount","kind":"scalar","type":"Decimal"},{"name":"taxExclusiveAmount","kind":"scalar","type":"Decimal"},{"name":"taxInclusiveAmount","kind":"scalar","type":"Decimal"},{"name":"allowanceTotalAmount","kind":"scalar","type":"Decimal"},{"name":"chargeTotalAmount","kind":"scalar","type":"Decimal"},{"name":"prepaidAmount","kind":"scalar","type":"Decimal"},{"name":"payableRoundingAmount","kind":"scalar","type":"Decimal"},{"name":"payableAmount","kind":"scalar","type":"Decimal"},{"name":"taxBreakdown","kind":"scalar","type":"Json"},{"name":"paymentMeansCode","kind":"scalar","type":"String"},{"name":"paymentTermsNote","kind":"scalar","type":"String"},{"name":"bankAccountId","kind":"scalar","type":"String"},{"name":"bankAccountName","kind":"scalar","type":"String"},{"name":"allowanceCharges","kind":"scalar","type":"Json"},{"name":"deliveryDate","kind":"scalar","type":"DateTime"},{"name":"deliveryAddress","kind":"scalar","type":"Json"},{"name":"notes","kind":"scalar","type":"String"},{"name":"submittedAt","kind":"scalar","type":"DateTime"},{"name":"authorityResponseId","kind":"scalar","type":"String"},{"name":"validationId","kind":"scalar","type":"String"},{"name":"qrCodeData","kind":"scalar","type":"String"},{"name":"signedAt","kind":"scalar","type":"DateTime"},{"name":"signatureValue","kind":"scalar","type":"String"},{"name":"certificateInfo","kind":"scalar","type":"String"},{"name":"validationErrors","kind":"scalar","type":"Json"},{"name":"rawDocument","kind":"scalar","type":"String"},{"name":"rawDocumentFormat","kind":"scalar","type":"String"},{"name":"journalEntryId","kind":"scalar","type":"String"},{"name":"JournalEntry","kind":"object","type":"JournalEntry","relationName":"EInvoiceToJournalEntry"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"createdById","kind":"scalar","type":"String"},{"name":"Customer","kind":"object","type":"Customer","relationName":"CustomerToEInvoice"},{"name":"SupplierTaxIdentity","kind":"object","type":"TaxIdentity","relationName":"EInvoiceToTaxIdentity"},{"name":"LineItems","kind":"object","type":"EInvoiceLineItem","relationName":"EInvoiceToEInvoiceLineItem"},{"name":"Submissions","kind":"object","type":"EInvoiceSubmission","relationName":"EInvoiceToEInvoiceSubmission"}],"dbName":null},"EInvoiceLineItem":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"invoiceId","kind":"scalar","type":"String"},{"name":"Invoice","kind":"object","type":"EInvoice","relationName":"EInvoiceToEInvoiceLineItem"},{"name":"lineNumber","kind":"scalar","type":"Int"},{"name":"quantity","kind":"scalar","type":"Decimal"},{"name":"unitCode","kind":"scalar","type":"String"},{"name":"itemName","kind":"scalar","type":"String"},{"name":"itemDescription","kind":"scalar","type":"String"},{"name":"sellersItemId","kind":"scalar","type":"String"},{"name":"standardItemId","kind":"scalar","type":"String"},{"name":"standardItemScheme","kind":"scalar","type":"String"},{"name":"classificationCode","kind":"scalar","type":"String"},{"name":"classificationScheme","kind":"scalar","type":"String"},{"name":"unitPrice","kind":"scalar","type":"Decimal"},{"name":"priceBaseQuantity","kind":"scalar","type":"Decimal"},{"name":"lineExtensionAmount","kind":"scalar","type":"Decimal"},{"name":"taxCategoryCode","kind":"scalar","type":"String"},{"name":"taxRate","kind":"scalar","type":"Decimal"},{"name":"taxScheme","kind":"scalar","type":"String"},{"name":"taxAmount","kind":"scalar","type":"Decimal"},{"name":"exemptionReasonCode","kind":"scalar","type":"String"},{"name":"exemptionReason","kind":"scalar","type":"String"},{"name":"allowanceCharges","kind":"scalar","type":"Json"},{"name":"orderLineReference","kind":"scalar","type":"String"},{"name":"revenueAccountId","kind":"scalar","type":"String"},{"name":"RevenueAccount","kind":"object","type":"ChartOfAccount","relationName":"ChartOfAccountToEInvoiceLineItem"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"}],"dbName":null},"EInvoiceSubmission":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"invoiceId","kind":"scalar","type":"String"},{"name":"Invoice","kind":"object","type":"EInvoice","relationName":"EInvoiceToEInvoiceSubmission"},{"name":"submittedAt","kind":"scalar","type":"DateTime"},{"name":"format","kind":"enum","type":"EInvoiceFormat"},{"name":"endpoint","kind":"scalar","type":"String"},{"name":"requestPayload","kind":"scalar","type":"String"},{"name":"responseStatus","kind":"scalar","type":"Int"},{"name":"responsePayload","kind":"scalar","type":"String"},{"name":"success","kind":"scalar","type":"Boolean"},{"name":"authorityId","kind":"scalar","type":"String"},{"name":"validationId","kind":"scalar","type":"String"},{"name":"errorCode","kind":"scalar","type":"String"},{"name":"errorMessage","kind":"scalar","type":"String"},{"name":"attemptNumber","kind":"scalar","type":"Int"},{"name":"willRetry","kind":"scalar","type":"Boolean"},{"name":"nextRetryAt","kind":"scalar","type":"DateTime"}],"dbName":null},"Discount":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"agencyId","kind":"scalar","type":"String"},{"name":"code","kind":"scalar","type":"String"},{"name":"name","kind":"scalar","type":"String"},{"name":"description","kind":"scalar","type":"String"},{"name":"discountType","kind":"enum","type":"DiscountType"},{"name":"percentOff","kind":"scalar","type":"Decimal"},{"name":"amountOff","kind":"scalar","type":"Decimal"},{"name":"currency","kind":"scalar","type":"String"},{"name":"scope","kind":"enum","type":"DiscountScope"},{"name":"duration","kind":"enum","type":"DiscountDuration"},{"name":"durationInMonths","kind":"scalar","type":"Int"},{"name":"maxRedemptions","kind":"scalar","type":"Int"},{"name":"timesRedeemed","kind":"scalar","type":"Int"},{"name":"validFrom","kind":"scalar","type":"DateTime"},{"name":"expiresAt","kind":"scalar","type":"DateTime"},{"name":"minimumAmount","kind":"scalar","type":"Decimal"},{"name":"applicablePlans","kind":"scalar","type":"String"},{"name":"applicableProducts","kind":"scalar","type":"String"},{"name":"stripeCouponId","kind":"scalar","type":"String"},{"name":"stripePromoCode","kind":"scalar","type":"String"},{"name":"isActive","kind":"scalar","type":"Boolean"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"AppliedDiscounts","kind":"object","type":"AppliedDiscount","relationName":"AppliedDiscountToDiscount"}],"dbName":null},"AppliedDiscount":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"discountId","kind":"scalar","type":"String"},{"name":"Discount","kind":"object","type":"Discount","relationName":"AppliedDiscountToDiscount"},{"name":"invoiceId","kind":"scalar","type":"String"},{"name":"subscriptionId","kind":"scalar","type":"String"},{"name":"originalAmount","kind":"scalar","type":"Decimal"},{"name":"discountAmount","kind":"scalar","type":"Decimal"},{"name":"finalAmount","kind":"scalar","type":"Decimal"},{"name":"source","kind":"scalar","type":"String"},{"name":"appliedAt","kind":"scalar","type":"DateTime"},{"name":"appliedById","kind":"scalar","type":"String"}],"dbName":null},"AutomationAccountMapping":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"agencyId","kind":"scalar","type":"String"},{"name":"subAccountId","kind":"scalar","type":"String"},{"name":"category","kind":"enum","type":"AutomationCategory"},{"name":"subcategory","kind":"scalar","type":"String"},{"name":"debitAccountId","kind":"scalar","type":"String"},{"name":"creditAccountId","kind":"scalar","type":"String"},{"name":"tolerance","kind":"scalar","type":"Decimal"},{"name":"isActive","kind":"scalar","type":"Boolean"},{"name":"templateId","kind":"scalar","type":"String"},{"name":"isCustom","kind":"scalar","type":"Boolean"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"createdBy","kind":"scalar","type":"String"},{"name":"Agency","kind":"object","type":"Agency","relationName":"AgencyToAutomationAccountMapping"},{"name":"SubAccount","kind":"object","type":"SubAccount","relationName":"AutomationAccountMappingToSubAccount"},{"name":"DebitAccount","kind":"object","type":"ChartOfAccount","relationName":"DebitMappings"},{"name":"CreditAccount","kind":"object","type":"ChartOfAccount","relationName":"CreditMappings"}],"dbName":"AutomationAccountMapping"},"IntegrationConnector":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"agencyId","kind":"scalar","type":"String"},{"name":"connectorId","kind":"scalar","type":"String"},{"name":"connectorType","kind":"enum","type":"ConnectorType"},{"name":"name","kind":"scalar","type":"String"},{"name":"isEnabled","kind":"scalar","type":"Boolean"},{"name":"settings","kind":"scalar","type":"Json"},{"name":"credentials","kind":"scalar","type":"String"},{"name":"fieldMappings","kind":"scalar","type":"Json"},{"name":"lastSync","kind":"scalar","type":"DateTime"},{"name":"lastError","kind":"scalar","type":"String"},{"name":"healthStatus","kind":"enum","type":"ConnectorHealth"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"createdBy","kind":"scalar","type":"String"},{"name":"Agency","kind":"object","type":"Agency","relationName":"AgencyToIntegrationConnector"},{"name":"FanoutLogs","kind":"object","type":"FanoutLog","relationName":"FanoutLogToIntegrationConnector"}],"dbName":"IntegrationConnector"},"FanoutLog":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"agencyId","kind":"scalar","type":"String"},{"name":"connectorId","kind":"scalar","type":"String"},{"name":"eventId","kind":"scalar","type":"String"},{"name":"eventType","kind":"scalar","type":"String"},{"name":"sourceModule","kind":"scalar","type":"String"},{"name":"entityType","kind":"scalar","type":"String"},{"name":"entityId","kind":"scalar","type":"String"},{"name":"status","kind":"enum","type":"FanoutStatus"},{"name":"entriesCreated","kind":"scalar","type":"Int"},{"name":"journalEntryIds","kind":"scalar","type":"String"},{"name":"errorMessage","kind":"scalar","type":"String"},{"name":"errorDetails","kind":"scalar","type":"Json"},{"name":"retryCount","kind":"scalar","type":"Int"},{"name":"lastRetry","kind":"scalar","type":"DateTime"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"processedAt","kind":"scalar","type":"DateTime"},{"name":"Agency","kind":"object","type":"Agency","relationName":"AgencyToFanoutLog"},{"name":"Connector","kind":"object","type":"IntegrationConnector","relationName":"FanoutLogToIntegrationConnector"}],"dbName":"FanoutLog"},"Template":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"agencyId","kind":"scalar","type":"String"},{"name":"category","kind":"enum","type":"TemplateCategory"},{"name":"name","kind":"scalar","type":"String"},{"name":"description","kind":"scalar","type":"String"},{"name":"version","kind":"scalar","type":"String"},{"name":"source","kind":"enum","type":"TemplateSource"},{"name":"schema","kind":"scalar","type":"Json"},{"name":"data","kind":"scalar","type":"Json"},{"name":"requiredEntitlements","kind":"scalar","type":"String"},{"name":"usageCount","kind":"scalar","type":"Int"},{"name":"lastUsed","kind":"scalar","type":"DateTime"},{"name":"isActive","kind":"scalar","type":"Boolean"},{"name":"isPublic","kind":"scalar","type":"Boolean"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"createdBy","kind":"scalar","type":"String"},{"name":"Agency","kind":"object","type":"Agency","relationName":"AgencyToTemplate"}],"dbName":"Template"},"JournalUploadBatch":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"agencyId","kind":"scalar","type":"String"},{"name":"subAccountId","kind":"scalar","type":"String"},{"name":"filename","kind":"scalar","type":"String"},{"name":"fileSize","kind":"scalar","type":"Int"},{"name":"rowCount","kind":"scalar","type":"Int"},{"name":"templateId","kind":"scalar","type":"String"},{"name":"status","kind":"enum","type":"UploadStatus"},{"name":"validRows","kind":"scalar","type":"Int"},{"name":"errorRows","kind":"scalar","type":"Int"},{"name":"validationErrors","kind":"scalar","type":"Json"},{"name":"journalEntryIds","kind":"scalar","type":"String"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"processedAt","kind":"scalar","type":"DateTime"},{"name":"createdBy","kind":"scalar","type":"String"},{"name":"Agency","kind":"object","type":"Agency","relationName":"AgencyToJournalUploadBatch"},{"name":"SubAccount","kind":"object","type":"SubAccount","relationName":"JournalUploadBatchToSubAccount"}],"dbName":"JournalUploadBatch"},"ExchangeRateCache":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"baseCurrency","kind":"scalar","type":"String"},{"name":"targetCurrency","kind":"scalar","type":"String"},{"name":"rateDate","kind":"scalar","type":"DateTime"},{"name":"rate","kind":"scalar","type":"Decimal"},{"name":"inverseRate","kind":"scalar","type":"Decimal"},{"name":"provider","kind":"scalar","type":"String"},{"name":"fetchedAt","kind":"scalar","type":"DateTime"},{"name":"expiresAt","kind":"scalar","type":"DateTime"}],"dbName":"ExchangeRateCache"}},"enums":{},"types":{}}'),r.compilerWasm={getRuntime:async()=>await e.A(918707),getQueryCompilerWasmModule:async()=>{let{wasm:n}=await e.A(480599);return await d(n)},importName:"./query_compiler_fast_bg.js"};let c=i.PrismaClientKnownRequestError,o=i.PrismaClientUnknownRequestError,s=i.PrismaClientRustPanicError,l=i.PrismaClientInitializationError,u=i.PrismaClientValidationError,m=i.sqltag,p=i.empty,y=i.join,g=i.raw,A=i.Sql,S=i.Decimal,I=i.Extensions.getExtensionContext,k={DbNull:i.NullTypes.DbNull,JsonNull:i.NullTypes.JsonNull,AnyNull:i.NullTypes.AnyNull},b=i.DbNull,f=i.JsonNull,T=i.AnyNull,D=i.makeStrictEnum({ReadUncommitted:"ReadUncommitted",ReadCommitted:"ReadCommitted",RepeatableRead:"RepeatableRead",Serializable:"Serializable"}),C=i.Extensions.defineExtension;e.s(["AccountBalanceScalarFieldEnum",0,{id:"id",agencyId:"agencyId",subAccountId:"subAccountId",accountId:"accountId",periodId:"periodId",currencyCode:"currencyCode",openingBalance:"openingBalance",debitMovement:"debitMovement",creditMovement:"creditMovement",closingBalance:"closingBalance",openingBalanceBase:"openingBalanceBase",debitMovementBase:"debitMovementBase",creditMovementBase:"creditMovementBase",closingBalanceBase:"closingBalanceBase",balanceType:"balanceType",transactionCount:"transactionCount",lastRecalculatedAt:"lastRecalculatedAt",createdAt:"createdAt",updatedAt:"updatedAt"},"AccountScalarFieldEnum",0,{id:"id",userId:"userId",type:"type",provider:"provider",providerAccountId:"providerAccountId",refresh_token:"refresh_token",access_token:"access_token",expires_at:"expires_at",token_type:"token_type",scope:"scope",id_token:"id_token",session_state:"session_state"},"ActionScalarFieldEnum",0,{id:"id",name:"name",type:"type",createdAt:"createdAt",updatedAt:"updatedAt",automationId:"automationId",order:"order",laneId:"laneId"},"AddOnsScalarFieldEnum",0,{id:"id",createdAt:"createdAt",updatedAt:"updatedAt",name:"name",active:"active",priceId:"priceId",agencyId:"agencyId"},"AgencyGroupCOAScalarFieldEnum",0,{id:"id",agencyId:"agencyId",code:"code",name:"name",description:"description",accountType:"accountType",category:"category",parentId:"parentId",path:"path",level:"level",isActive:"isActive",sortOrder:"sortOrder",createdAt:"createdAt",createdBy:"createdBy",updatedAt:"updatedAt",updatedBy:"updatedBy"},"AgencyMembershipScalarFieldEnum",0,{id:"id",userId:"userId",agencyId:"agencyId",roleId:"roleId",isActive:"isActive",isPrimary:"isPrimary",joinedAt:"joinedAt",createdAt:"createdAt",updatedAt:"updatedAt"},"AgencyScalarFieldEnum",0,{id:"id",connectAccountId:"connectAccountId",customerId:"customerId",taxIdentityId:"taxIdentityId",name:"name",agencyLogo:"agencyLogo",companyEmail:"companyEmail",companyPhone:"companyPhone",whiteLabel:"whiteLabel",line1:"line1",line2:"line2",city:"city",postalCode:"postalCode",state:"state",country:"country",goal:"goal",createdAt:"createdAt",updatedAt:"updatedAt"},"AgencySettingsScalarFieldEnum",0,{id:"id",agencyId:"agencyId",entitlementsInheritToSubaccounts:"entitlementsInheritToSubaccounts",createdAt:"createdAt",updatedAt:"updatedAt"},"AgencySidebarOptionScalarFieldEnum",0,{id:"id",name:"name",link:"link",icon:"icon",agencyId:"agencyId",createdAt:"createdAt",updatedAt:"updatedAt"},"AnyNull",0,T,"ApiKeyScalarFieldEnum",0,{id:"id",kind:"kind",name:"name",prefix:"prefix",secretHash:"secretHash",ownerUserId:"ownerUserId",agencyId:"agencyId",subAccountId:"subAccountId",permissionKeys:"permissionKeys",allowedSubAccountIds:"allowedSubAccountIds",createdAt:"createdAt",updatedAt:"updatedAt",lastUsedAt:"lastUsedAt",expiresAt:"expiresAt",revokedAt:"revokedAt"},"AppInstallationScalarFieldEnum",0,{id:"id",appKey:"appKey",agencyId:"agencyId",subAccountId:"subAccountId",status:"status",installedAt:"installedAt",uninstalledAt:"uninstalledAt",createdAt:"createdAt",updatedAt:"updatedAt"},"AppliedDiscountScalarFieldEnum",0,{id:"id",discountId:"discountId",invoiceId:"invoiceId",subscriptionId:"subscriptionId",originalAmount:"originalAmount",discountAmount:"discountAmount",finalAmount:"finalAmount",source:"source",appliedAt:"appliedAt",appliedById:"appliedById"},"AuthenticatorScalarFieldEnum",0,{credentialID:"credentialID",userId:"userId",providerAccountId:"providerAccountId",credentialPublicKey:"credentialPublicKey",counter:"counter",credentialDeviceType:"credentialDeviceType",credentialBackedUp:"credentialBackedUp",transports:"transports"},"AutomationAccountMappingScalarFieldEnum",0,{id:"id",agencyId:"agencyId",subAccountId:"subAccountId",category:"category",subcategory:"subcategory",debitAccountId:"debitAccountId",creditAccountId:"creditAccountId",tolerance:"tolerance",isActive:"isActive",templateId:"templateId",isCustom:"isCustom",createdAt:"createdAt",updatedAt:"updatedAt",createdBy:"createdBy"},"AutomationInstanceScalarFieldEnum",0,{id:"id",createdAt:"createdAt",updatedAt:"updatedAt",automationId:"automationId",active:"active"},"AutomationScalarFieldEnum",0,{id:"id",name:"name",createdAt:"createdAt",updatedAt:"updatedAt",triggerId:"triggerId",published:"published",subAccountId:"subAccountId"},"COATemplateScalarFieldEnum",0,{id:"id",name:"name",industry:"industry",description:"description",region:"region",accountingStandard:"accountingStandard",template:"template",version:"version",isActive:"isActive",isDefault:"isDefault",createdAt:"createdAt",updatedAt:"updatedAt"},"ChartOfAccountScalarFieldEnum",0,{id:"id",agencyId:"agencyId",subAccountId:"subAccountId",code:"code",name:"name",description:"description",parentAccountId:"parentAccountId",path:"path",level:"level",accountType:"accountType",category:"category",subcategory:"subcategory",isControlAccount:"isControlAccount",subledgerType:"subledgerType",controlAccountId:"controlAccountId",isSystemAccount:"isSystemAccount",isSystemManaged:"isSystemManaged",systemAccountType:"systemAccountType",isClearingAccount:"isClearingAccount",isSuspenseAccount:"isSuspenseAccount",isRetainedEarnings:"isRetainedEarnings",isOpeningBalControl:"isOpeningBalControl",allowManualPosting:"allowManualPosting",requireApproval:"requireApproval",isPostingAccount:"isPostingAccount",isConsolidationEnabled:"isConsolidationEnabled",consolidationAccountCode:"consolidationAccountCode",currencyCode:"currencyCode",isMultiCurrency:"isMultiCurrency",isActive:"isActive",isArchived:"isArchived",archivedAt:"archivedAt",archivedBy:"archivedBy",normalBalance:"normalBalance",sortOrder:"sortOrder",createdAt:"createdAt",createdBy:"createdBy",updatedAt:"updatedAt",updatedBy:"updatedBy"},"ClassNameScalarFieldEnum",0,{id:"id",name:"name",color:"color",createdAt:"createdAt",updatedAt:"updatedAt",funnelId:"funnelId",customData:"customData"},"ConsolidatedBalanceScalarFieldEnum",0,{id:"id",snapshotId:"snapshotId",groupCOAId:"groupCOAId",balance:"balance",createdAt:"createdAt",updatedAt:"updatedAt"},"ConsolidationAdjustmentScalarFieldEnum",0,{id:"id",snapshotId:"snapshotId",adjustmentNumber:"adjustmentNumber",description:"description",debitAccountCode:"debitAccountCode",creditAccountCode:"creditAccountCode",amount:"amount",adjustmentType:"adjustmentType",status:"status",approvedAt:"approvedAt",approvedBy:"approvedBy",notes:"notes",createdAt:"createdAt",createdBy:"createdBy",updatedAt:"updatedAt"},"ConsolidationMappingScalarFieldEnum",0,{id:"id",agencyId:"agencyId",subAccountId:"subAccountId",subAccountCOACode:"subAccountCOACode",groupCOAId:"groupCOAId",mappingPercentage:"mappingPercentage",isElimination:"isElimination",eliminationPairId:"eliminationPairId",isActive:"isActive",createdAt:"createdAt",createdBy:"createdBy",updatedAt:"updatedAt",updatedBy:"updatedBy"},"ConsolidationSnapshotScalarFieldEnum",0,{id:"id",agencyId:"agencyId",periodId:"periodId",snapshotNumber:"snapshotNumber",name:"name",description:"description",subAccountIds:"subAccountIds",consolidationMethod:"consolidationMethod",consolidatedBalances:"consolidatedBalances",balanceSheet:"balanceSheet",incomeStatement:"incomeStatement",cashFlowStatement:"cashFlowStatement",eliminationEntries:"eliminationEntries",adjustmentEntries:"adjustmentEntries",totalEliminations:"totalEliminations",totalAdjustments:"totalAdjustments",ownershipPercentages:"ownershipPercentages",version:"version",previousVersionId:"previousVersionId",status:"status",validationResults:"validationResults",isValid:"isValid",consolidatedAt:"consolidatedAt",consolidatedBy:"consolidatedBy",submittedAt:"submittedAt",submittedBy:"submittedBy",approvedAt:"approvedAt",approvedBy:"approvedBy",rejectedAt:"rejectedAt",rejectedBy:"rejectedBy",rejectionReason:"rejectionReason",notes:"notes",createdAt:"createdAt",updatedAt:"updatedAt"},"ConsolidationWorksheetLineScalarFieldEnum",0,{id:"id",snapshotId:"snapshotId",groupCOAId:"groupCOAId",accountCode:"accountCode",accountName:"accountName",subAccountBalances:"subAccountBalances",totalBeforeAdj:"totalBeforeAdj",eliminations:"eliminations",adjustments:"adjustments",consolidatedBalance:"consolidatedBalance",createdAt:"createdAt",updatedAt:"updatedAt"},"ContactScalarFieldEnum",0,{id:"id",name:"name",email:"email",createdAt:"createdAt",updatedAt:"updatedAt",subAccountId:"subAccountId"},"CurrencyRevaluationScalarFieldEnum",0,{id:"id",agencyId:"agencyId",subAccountId:"subAccountId",periodId:"periodId",currencyCode:"currencyCode",revaluationDate:"revaluationDate",exchangeRate:"exchangeRate",previousRate:"previousRate",unrealizedGain:"unrealizedGain",unrealizedLoss:"unrealizedLoss",netGainLoss:"netGainLoss",journalEntryId:"journalEntryId",status:"status",createdAt:"createdAt",createdBy:"createdBy",postedAt:"postedAt",postedBy:"postedBy"},"CurrencyScalarFieldEnum",0,{id:"id",code:"code",name:"name",symbol:"symbol",decimalPlaces:"decimalPlaces",isActive:"isActive",isBaseCurrency:"isBaseCurrency",createdAt:"createdAt",updatedAt:"updatedAt"},"CustomerScalarFieldEnum",0,{id:"id",agencyId:"agencyId",subAccountId:"subAccountId",code:"code",name:"name",taxId:"taxId",email:"email",phone:"phone",address:"address",subLedgerId:"subLedgerId",paymentTermDays:"paymentTermDays",currency:"currency",creditLimit:"creditLimit",isActive:"isActive",createdAt:"createdAt",createdBy:"createdBy",updatedAt:"updatedAt",updatedBy:"updatedBy"},"DbNull",0,b,"Decimal",0,S,"DiscountScalarFieldEnum",0,{id:"id",agencyId:"agencyId",code:"code",name:"name",description:"description",discountType:"discountType",percentOff:"percentOff",amountOff:"amountOff",currency:"currency",scope:"scope",duration:"duration",durationInMonths:"durationInMonths",maxRedemptions:"maxRedemptions",timesRedeemed:"timesRedeemed",validFrom:"validFrom",expiresAt:"expiresAt",minimumAmount:"minimumAmount",applicablePlans:"applicablePlans",applicableProducts:"applicableProducts",stripeCouponId:"stripeCouponId",stripePromoCode:"stripePromoCode",isActive:"isActive",createdAt:"createdAt",updatedAt:"updatedAt"},"EInvoiceLineItemScalarFieldEnum",0,{id:"id",invoiceId:"invoiceId",lineNumber:"lineNumber",quantity:"quantity",unitCode:"unitCode",itemName:"itemName",itemDescription:"itemDescription",sellersItemId:"sellersItemId",standardItemId:"standardItemId",standardItemScheme:"standardItemScheme",classificationCode:"classificationCode",classificationScheme:"classificationScheme",unitPrice:"unitPrice",priceBaseQuantity:"priceBaseQuantity",lineExtensionAmount:"lineExtensionAmount",taxCategoryCode:"taxCategoryCode",taxRate:"taxRate",taxScheme:"taxScheme",taxAmount:"taxAmount",exemptionReasonCode:"exemptionReasonCode",exemptionReason:"exemptionReason",allowanceCharges:"allowanceCharges",orderLineReference:"orderLineReference",revenueAccountId:"revenueAccountId",createdAt:"createdAt",updatedAt:"updatedAt"},"EInvoiceScalarFieldEnum",0,{id:"id",settingsId:"settingsId",invoiceNumber:"invoiceNumber",documentType:"documentType",format:"format",issueDate:"issueDate",dueDate:"dueDate",documentCurrency:"documentCurrency",taxCurrency:"taxCurrency",status:"status",buyerReference:"buyerReference",orderReference:"orderReference",contractReference:"contractReference",periodStart:"periodStart",periodEnd:"periodEnd",supplierTaxIdentityId:"supplierTaxIdentityId",customerId:"customerId",customerName:"customerName",customerTaxId:"customerTaxId",customerAddress:"customerAddress",customerContact:"customerContact",lineExtensionAmount:"lineExtensionAmount",taxExclusiveAmount:"taxExclusiveAmount",taxInclusiveAmount:"taxInclusiveAmount",allowanceTotalAmount:"allowanceTotalAmount",chargeTotalAmount:"chargeTotalAmount",prepaidAmount:"prepaidAmount",payableRoundingAmount:"payableRoundingAmount",payableAmount:"payableAmount",taxBreakdown:"taxBreakdown",paymentMeansCode:"paymentMeansCode",paymentTermsNote:"paymentTermsNote",bankAccountId:"bankAccountId",bankAccountName:"bankAccountName",allowanceCharges:"allowanceCharges",deliveryDate:"deliveryDate",deliveryAddress:"deliveryAddress",notes:"notes",submittedAt:"submittedAt",authorityResponseId:"authorityResponseId",validationId:"validationId",qrCodeData:"qrCodeData",signedAt:"signedAt",signatureValue:"signatureValue",certificateInfo:"certificateInfo",validationErrors:"validationErrors",rawDocument:"rawDocument",rawDocumentFormat:"rawDocumentFormat",journalEntryId:"journalEntryId",createdAt:"createdAt",updatedAt:"updatedAt",createdById:"createdById"},"EInvoiceSettingsScalarFieldEnum",0,{id:"id",agencyId:"agencyId",subAccountId:"subAccountId",defaultFormat:"defaultFormat",countryCode:"countryCode",authorityClientId:"authorityClientId",authorityClientSecret:"authorityClientSecret",authorityEndpoint:"authorityEndpoint",defaultRevenueAccountId:"defaultRevenueAccountId",defaultReceivableAccountId:"defaultReceivableAccountId",defaultTaxOutputAccountId:"defaultTaxOutputAccountId",invoicePrefix:"invoicePrefix",invoiceNextSeq:"invoiceNextSeq",creditNotePrefix:"creditNotePrefix",creditNoteNextSeq:"creditNoteNextSeq",autoSubmit:"autoSubmit",autoSubmitDelay:"autoSubmitDelay",signInvoices:"signInvoices",signingCertUrl:"signingCertUrl",isActive:"isActive",createdAt:"createdAt",updatedAt:"updatedAt"},"EInvoiceSubmissionScalarFieldEnum",0,{id:"id",invoiceId:"invoiceId",submittedAt:"submittedAt",format:"format",endpoint:"endpoint",requestPayload:"requestPayload",responseStatus:"responseStatus",responsePayload:"responsePayload",success:"success",authorityId:"authorityId",validationId:"validationId",errorCode:"errorCode",errorMessage:"errorMessage",attemptNumber:"attemptNumber",willRetry:"willRetry",nextRetryAt:"nextRetryAt"},"EntitlementFeatureScalarFieldEnum",0,{id:"id",key:"key",name:"name",description:"description",category:"category",valueType:"valueType",unit:"unit",metering:"metering",aggregation:"aggregation",scope:"scope",period:"period",isToggleable:"isToggleable",defaultEnabled:"defaultEnabled",requiresRestart:"requiresRestart",displayOrder:"displayOrder",displayName:"displayName",icon:"icon",helpText:"helpText",creditEnabled:"creditEnabled",creditUnit:"creditUnit",creditExpires:"creditExpires",creditPriority:"creditPriority",stripeMeterId:"stripeMeterId",stripeMeterEventName:"stripeMeterEventName",stripeUsagePriceId:"stripeUsagePriceId",stripeTopUpPriceId:"stripeTopUpPriceId",createdAt:"createdAt",updatedAt:"updatedAt"},"EntitlementOverrideScalarFieldEnum",0,{id:"id",scope:"scope",agencyId:"agencyId",subAccountId:"subAccountId",featureKey:"featureKey",isEnabled:"isEnabled",isUnlimited:"isUnlimited",maxDeltaInt:"maxDeltaInt",maxDeltaDec:"maxDeltaDec",maxOverrideInt:"maxOverrideInt",maxOverrideDec:"maxOverrideDec",startsAt:"startsAt",endsAt:"endsAt",reason:"reason",createdAt:"createdAt",updatedAt:"updatedAt"},"ExchangeRateCacheScalarFieldEnum",0,{id:"id",baseCurrency:"baseCurrency",targetCurrency:"targetCurrency",rateDate:"rateDate",rate:"rate",inverseRate:"inverseRate",provider:"provider",fetchedAt:"fetchedAt",expiresAt:"expiresAt"},"ExchangeRateScalarFieldEnum",0,{id:"id",agencyId:"agencyId",fromCurrencyCode:"fromCurrencyCode",toCurrencyCode:"toCurrencyCode",rate:"rate",inverseRate:"inverseRate",effectiveDate:"effectiveDate",expiryDate:"expiryDate",rateType:"rateType",source:"source",isActive:"isActive",createdAt:"createdAt",createdBy:"createdBy",updatedAt:"updatedAt"},"FanoutLogScalarFieldEnum",0,{id:"id",agencyId:"agencyId",connectorId:"connectorId",eventId:"eventId",eventType:"eventType",sourceModule:"sourceModule",entityType:"entityType",entityId:"entityId",status:"status",entriesCreated:"entriesCreated",journalEntryIds:"journalEntryIds",errorMessage:"errorMessage",errorDetails:"errorDetails",retryCount:"retryCount",lastRetry:"lastRetry",createdAt:"createdAt",processedAt:"processedAt"},"FeatureCreditBalanceScalarFieldEnum",0,{id:"id",scope:"scope",agencyId:"agencyId",subAccountId:"subAccountId",featureKey:"featureKey",balance:"balance",expiresAt:"expiresAt",updatedAt:"updatedAt"},"FeatureCreditLedgerScalarFieldEnum",0,{id:"id",scope:"scope",agencyId:"agencyId",subAccountId:"subAccountId",featureKey:"featureKey",type:"type",delta:"delta",reason:"reason",periodStart:"periodStart",periodEnd:"periodEnd",stripePaymentIntentId:"stripePaymentIntentId",stripeInvoiceId:"stripeInvoiceId",idempotencyKey:"idempotencyKey",createdAt:"createdAt"},"FeaturePreferenceScalarFieldEnum",0,{id:"id",userId:"userId",featureKey:"featureKey",scope:"scope",agencyId:"agencyId",subAccountId:"subAccountId",isEnabled:"isEnabled",createdAt:"createdAt",updatedAt:"updatedAt"},"FinancialPeriodScalarFieldEnum",0,{id:"id",agencyId:"agencyId",subAccountId:"subAccountId",name:"name",shortName:"shortName",periodType:"periodType",fiscalYear:"fiscalYear",fiscalPeriod:"fiscalPeriod",startDate:"startDate",endDate:"endDate",status:"status",openedAt:"openedAt",openedBy:"openedBy",closedAt:"closedAt",closedBy:"closedBy",lockedAt:"lockedAt",lockedBy:"lockedBy",openingBalances:"openingBalances",closingBalances:"closingBalances",isYearEnd:"isYearEnd",yearEndProcessedAt:"yearEndProcessedAt",yearEndProcessedBy:"yearEndProcessedBy",notes:"notes",createdAt:"createdAt",createdBy:"createdBy",updatedAt:"updatedAt",updatedBy:"updatedBy"},"FunnelPageScalarFieldEnum",0,{id:"id",name:"name",pathName:"pathName",createdAt:"createdAt",updatedAt:"updatedAt",visits:"visits",content:"content",order:"order",previewImage:"previewImage",funnelId:"funnelId"},"FunnelScalarFieldEnum",0,{id:"id",name:"name",createdAt:"createdAt",updatedAt:"updatedAt",description:"description",published:"published",subDomainName:"subDomainName",favicon:"favicon",subAccountId:"subAccountId",liveProducts:"liveProducts"},"GLAuditTrailScalarFieldEnum",0,{id:"id",agencyId:"agencyId",subAccountId:"subAccountId",entityType:"entityType",entityId:"entityId",action:"action",userId:"userId",userEmail:"userEmail",userName:"userName",timestamp:"timestamp",previousValues:"previousValues",newValues:"newValues",ipAddress:"ipAddress",userAgent:"userAgent",sessionId:"sessionId",reason:"reason"},"GLConfigurationLockScalarFieldEnum",0,{id:"id",agencyId:"agencyId",subAccountId:"subAccountId",settingKey:"settingKey",lockedValue:"lockedValue",lockedReason:"lockedReason",lockedAt:"lockedAt",lockedBy:"lockedBy",unlockConditions:"unlockConditions",isPermanent:"isPermanent"},"GLConfigurationScalarFieldEnum",0,{id:"id",agencyId:"agencyId",baseCurrency:"baseCurrency",fiscalYearEnd:"fiscalYearEnd",fiscalYearStart:"fiscalYearStart",useControlAccounts:"useControlAccounts",requireApproval:"requireApproval",approvalThreshold:"approvalThreshold",autoPostingEnabled:"autoPostingEnabled",allowFuturePeriodPost:"allowFuturePeriodPost",allowClosedPeriodPost:"allowClosedPeriodPost",consolidationEnabled:"consolidationEnabled",consolidationMethod:"consolidationMethod",eliminateIntercompany:"eliminateIntercompany",autoCreatePeriods:"autoCreatePeriods",periodLockDays:"periodLockDays",accountCodeFormat:"accountCodeFormat",accountCodeLength:"accountCodeLength",accountCodeSeparator:"accountCodeSeparator",journalEntryPrefix:"journalEntryPrefix",reversalEntryPrefix:"reversalEntryPrefix",adjustingEntryPrefix:"adjustingEntryPrefix",reconciliationPrefix:"reconciliationPrefix",consolidationPrefix:"consolidationPrefix",revaluationPrefix:"revaluationPrefix",closingEntryPrefix:"closingEntryPrefix",docNumAssetStart:"docNumAssetStart",docNumLiabilityStart:"docNumLiabilityStart",docNumEquityStart:"docNumEquityStart",docNumRevenueStart:"docNumRevenueStart",docNumExpenseStart:"docNumExpenseStart",docNumClearingStart:"docNumClearingStart",invoiceFormat:"invoiceFormat",paymentFormat:"paymentFormat",creditNoteFormat:"creditNoteFormat",debitNoteFormat:"debitNoteFormat",receiptFormat:"receiptFormat",documentNumberResetRule:"documentNumberResetRule",erpIntegrationEnabled:"erpIntegrationEnabled",erpSystemType:"erpSystemType",erpApiUrl:"erpApiUrl",erpApiKey:"erpApiKey",retainAuditDays:"retainAuditDays",createdAt:"createdAt",updatedAt:"updatedAt",updatedBy:"updatedBy"},"GLConfigurationSubAccountScalarFieldEnum",0,{id:"id",subAccountId:"subAccountId",agencyConfigId:"agencyConfigId",isIndependent:"isIndependent",baseCurrency:"baseCurrency",fiscalYearEnd:"fiscalYearEnd",fiscalYearStart:"fiscalYearStart",useControlAccounts:"useControlAccounts",requireApproval:"requireApproval",approvalThreshold:"approvalThreshold",autoPostingEnabled:"autoPostingEnabled",allowFuturePeriodPost:"allowFuturePeriodPost",allowClosedPeriodPost:"allowClosedPeriodPost",autoCreatePeriods:"autoCreatePeriods",periodLockDays:"periodLockDays",accountCodeFormat:"accountCodeFormat",accountCodeLength:"accountCodeLength",accountCodeSeparator:"accountCodeSeparator",journalEntryPrefix:"journalEntryPrefix",reversalEntryPrefix:"reversalEntryPrefix",adjustingEntryPrefix:"adjustingEntryPrefix",reconciliationPrefix:"reconciliationPrefix",consolidationPrefix:"consolidationPrefix",revaluationPrefix:"revaluationPrefix",closingEntryPrefix:"closingEntryPrefix",invoiceFormat:"invoiceFormat",paymentFormat:"paymentFormat",creditNoteFormat:"creditNoteFormat",debitNoteFormat:"debitNoteFormat",receiptFormat:"receiptFormat",consolidationAccountMapping:"consolidationAccountMapping",retainAuditDays:"retainAuditDays",createdAt:"createdAt",updatedAt:"updatedAt",updatedBy:"updatedBy"},"IndustryClassificationScalarFieldEnum",0,{id:"id",taxIdentityId:"taxIdentityId",scheme:"scheme",code:"code",description:"description",version:"version",parentCode:"parentCode",level:"level",isPrimary:"isPrimary",createdAt:"createdAt",updatedAt:"updatedAt"},"IntegrationApiKeyScalarFieldEnum",0,{id:"id",name:"name",keyPrefix:"keyPrefix",keyHash:"keyHash",agencyId:"agencyId",subAccountId:"subAccountId",createdByUserId:"createdByUserId",createdAt:"createdAt",revokedAt:"revokedAt",lastUsedAt:"lastUsedAt"},"IntegrationConnectionScalarFieldEnum",0,{id:"id",provider:"provider",status:"status",agencyId:"agencyId",subAccountId:"subAccountId",credentials:"credentials",config:"config",createdAt:"createdAt",updatedAt:"updatedAt",deletedAt:"deletedAt"},"IntegrationConnectorScalarFieldEnum",0,{id:"id",agencyId:"agencyId",connectorId:"connectorId",connectorType:"connectorType",name:"name",isEnabled:"isEnabled",settings:"settings",credentials:"credentials",fieldMappings:"fieldMappings",lastSync:"lastSync",lastError:"lastError",healthStatus:"healthStatus",createdAt:"createdAt",updatedAt:"updatedAt",createdBy:"createdBy"},"IntegrationProviderEventScalarFieldEnum",0,{id:"id",provider:"provider",connectionId:"connectionId",externalEventId:"externalEventId",headers:"headers",payload:"payload",receivedAt:"receivedAt",processedAt:"processedAt"},"IntegrationWebhookDeliveryAttemptScalarFieldEnum",0,{id:"id",deliveryId:"deliveryId",statusCode:"statusCode",responseBody:"responseBody",error:"error",durationMs:"durationMs",attemptedAt:"attemptedAt"},"IntegrationWebhookDeliveryScalarFieldEnum",0,{id:"id",subscriptionId:"subscriptionId",providerEventId:"providerEventId",status:"status",attemptCount:"attemptCount",nextAttemptAt:"nextAttemptAt",createdAt:"createdAt",updatedAt:"updatedAt"},"IntegrationWebhookSubscriptionScalarFieldEnum",0,{id:"id",connectionId:"connectionId",url:"url",secretHash:"secretHash",secretEnc:"secretEnc",events:"events",isActive:"isActive",createdAt:"createdAt",updatedAt:"updatedAt"},"IntercompanyEliminationScalarFieldEnum",0,{id:"id",snapshotId:"snapshotId",eliminationNumber:"eliminationNumber",description:"description",subAccountId1:"subAccountId1",subAccountId2:"subAccountId2",accountCode1:"accountCode1",accountCode2:"accountCode2",amount:"amount",eliminationType:"eliminationType",status:"status",approvedAt:"approvedAt",approvedBy:"approvedBy",isAutoGenerated:"isAutoGenerated",notes:"notes",createdAt:"createdAt",createdBy:"createdBy",updatedAt:"updatedAt"},"IntercompanyReconciliationScalarFieldEnum",0,{id:"id",agencyId:"agencyId",periodId:"periodId",subAccountId1:"subAccountId1",subAccountId2:"subAccountId2",accountCode1:"accountCode1",accountCode2:"accountCode2",balance1:"balance1",balance2:"balance2",difference:"difference",status:"status",notes:"notes",createdAt:"createdAt",createdBy:"createdBy",updatedAt:"updatedAt"},"InvitationScalarFieldEnum",0,{id:"id",email:"email",agencyId:"agencyId",status:"status",role:"role"},"JournalEntryLineScalarFieldEnum",0,{id:"id",journalEntryId:"journalEntryId",lineNumber:"lineNumber",accountId:"accountId",description:"description",debitAmount:"debitAmount",creditAmount:"creditAmount",debitAmountBase:"debitAmountBase",creditAmountBase:"creditAmountBase",exchangeRate:"exchangeRate",subledgerType:"subledgerType",subledgerReference:"subledgerReference",taxCode:"taxCode",taxAmount:"taxAmount",dimension1:"dimension1",dimension2:"dimension2",dimension3:"dimension3",dimension4:"dimension4",isIntercompany:"isIntercompany",intercompanySubAccountId:"intercompanySubAccountId",createdAt:"createdAt",updatedAt:"updatedAt"},"JournalEntryScalarFieldEnum",0,{id:"id",agencyId:"agencyId",subAccountId:"subAccountId",entryNumber:"entryNumber",reference:"reference",periodId:"periodId",entryDate:"entryDate",entryType:"entryType",sourceModule:"sourceModule",sourceId:"sourceId",sourceReference:"sourceReference",postingRuleId:"postingRuleId",description:"description",notes:"notes",currencyCode:"currencyCode",exchangeRate:"exchangeRate",totalDebit:"totalDebit",totalCredit:"totalCredit",totalDebitBase:"totalDebitBase",totalCreditBase:"totalCreditBase",status:"status",isCarryForward:"isCarryForward",isBroughtForward:"isBroughtForward",carryForwardFromId:"carryForwardFromId",isReversal:"isReversal",reversalOfId:"reversalOfId",submittedAt:"submittedAt",submittedBy:"submittedBy",approvedAt:"approvedAt",approvedBy:"approvedBy",rejectedAt:"rejectedAt",rejectedBy:"rejectedBy",rejectionReason:"rejectionReason",postedAt:"postedAt",postedBy:"postedBy",reversedAt:"reversedAt",reversedByUser:"reversedByUser",reversalReason:"reversalReason",voidedAt:"voidedAt",voidedBy:"voidedBy",voidReason:"voidReason",createdAt:"createdAt",createdBy:"createdBy",updatedAt:"updatedAt",updatedBy:"updatedBy"},"JournalUploadBatchScalarFieldEnum",0,{id:"id",agencyId:"agencyId",subAccountId:"subAccountId",filename:"filename",fileSize:"fileSize",rowCount:"rowCount",templateId:"templateId",status:"status",validRows:"validRows",errorRows:"errorRows",validationErrors:"validationErrors",journalEntryIds:"journalEntryIds",createdAt:"createdAt",processedAt:"processedAt",createdBy:"createdBy"},"JsonNull",0,f,"JsonNullValueFilter",0,{DbNull:b,JsonNull:f,AnyNull:T},"JsonNullValueInput",0,{JsonNull:f},"LaneScalarFieldEnum",0,{id:"id",name:"name",createdAt:"createdAt",updatedAt:"updatedAt",pipelineId:"pipelineId",order:"order"},"MFAChallengeScalarFieldEnum",0,{id:"id",userId:"userId",code:"code",codeType:"codeType",expiresAt:"expiresAt",isUsed:"isUsed",usedAt:"usedAt",attempts:"attempts",sessionToken:"sessionToken",createdAt:"createdAt"},"MFAMethodScalarFieldEnum",0,{id:"id",userId:"userId",type:"type",isEnabled:"isEnabled",isPrimary:"isPrimary",secret:"secret",phoneNumber:"phoneNumber",backupCodes:"backupCodes",backupCodesUsed:"backupCodesUsed",trustedDevices:"trustedDevices",verifiedAt:"verifiedAt",lastUsedAt:"lastUsedAt",createdAt:"createdAt",updatedAt:"updatedAt"},"MediaScalarFieldEnum",0,{id:"id",type:"type",name:"name",link:"link",subAccountId:"subAccountId",createdAt:"createdAt",updatedAt:"updatedAt"},"ModelName",0,{User:"User",TermsAgreement:"TermsAgreement",Authenticator:"Authenticator",Account:"Account",Session:"Session",ApiKey:"ApiKey",VerificationToken:"VerificationToken",TaxIdentity:"TaxIdentity",TaxObligation:"TaxObligation",Agency:"Agency",SubAccount:"SubAccount",AgencySettings:"AgencySettings",SubAccountSettings:"SubAccountSettings",Tag:"Tag",Pipeline:"Pipeline",Lane:"Lane",Ticket:"Ticket",Trigger:"Trigger",Automation:"Automation",AutomationInstance:"AutomationInstance",Action:"Action",Contact:"Contact",Media:"Media",Funnel:"Funnel",ClassName:"ClassName",FunnelPage:"FunnelPage",AgencySidebarOption:"AgencySidebarOption",SubAccountSidebarOption:"SubAccountSidebarOption",SidebarOption:"SidebarOption",SidebarOptionLink:"SidebarOptionLink",Invitation:"Invitation",Notification:"Notification",Subscription:"Subscription",AddOns:"AddOns",Permission:"Permission",RolePermission:"RolePermission",Role:"Role",AgencyMembership:"AgencyMembership",SubAccountMembership:"SubAccountMembership",EntitlementFeature:"EntitlementFeature",EntitlementOverride:"EntitlementOverride",PlanFeature:"PlanFeature",FeaturePreference:"FeaturePreference",UsageTracking:"UsageTracking",UsageEvent:"UsageEvent",FeatureCreditBalance:"FeatureCreditBalance",FeatureCreditLedger:"FeatureCreditLedger",Passkey:"Passkey",MFAChallenge:"MFAChallenge",MFAMethod:"MFAMethod",SSOConnection:"SSOConnection",SSOUserMapping:"SSOUserMapping",SSOAuditLog:"SSOAuditLog",GLConfiguration:"GLConfiguration",GLConfigurationSubAccount:"GLConfigurationSubAccount",ChartOfAccount:"ChartOfAccount",AgencyGroupCOA:"AgencyGroupCOA",ConsolidationMapping:"ConsolidationMapping",FinancialPeriod:"FinancialPeriod",JournalEntry:"JournalEntry",JournalEntryLine:"JournalEntryLine",AccountBalance:"AccountBalance",Currency:"Currency",ExchangeRate:"ExchangeRate",CurrencyRevaluation:"CurrencyRevaluation",PostingRule:"PostingRule",PostingTemplate:"PostingTemplate",Reconciliation:"Reconciliation",ReconciliationItem:"ReconciliationItem",ReconciliationRule:"ReconciliationRule",IntercompanyReconciliation:"IntercompanyReconciliation",ConsolidationSnapshot:"ConsolidationSnapshot",ConsolidationWorksheetLine:"ConsolidationWorksheetLine",ConsolidatedBalance:"ConsolidatedBalance",ConsolidationAdjustment:"ConsolidationAdjustment",IntercompanyElimination:"IntercompanyElimination",SubAccountOwnership:"SubAccountOwnership",SavedReport:"SavedReport",ReportTemplate:"ReportTemplate",COATemplate:"COATemplate",GLAuditTrail:"GLAuditTrail",SubLedger:"SubLedger",Vendor:"Vendor",Customer:"Customer",GLConfigurationLock:"GLConfigurationLock",OpenItem:"OpenItem",OpenItemAllocation:"OpenItemAllocation",IntegrationApiKey:"IntegrationApiKey",IntegrationConnection:"IntegrationConnection",IntegrationWebhookSubscription:"IntegrationWebhookSubscription",IntegrationProviderEvent:"IntegrationProviderEvent",IntegrationWebhookDelivery:"IntegrationWebhookDelivery",IntegrationWebhookDeliveryAttempt:"IntegrationWebhookDeliveryAttempt",AppInstallation:"AppInstallation",SupportTicket:"SupportTicket",IndustryClassification:"IndustryClassification",TaxExemptionCertificate:"TaxExemptionCertificate",EInvoiceSettings:"EInvoiceSettings",EInvoice:"EInvoice",EInvoiceLineItem:"EInvoiceLineItem",EInvoiceSubmission:"EInvoiceSubmission",Discount:"Discount",AppliedDiscount:"AppliedDiscount",AutomationAccountMapping:"AutomationAccountMapping",IntegrationConnector:"IntegrationConnector",FanoutLog:"FanoutLog",Template:"Template",JournalUploadBatch:"JournalUploadBatch",ExchangeRateCache:"ExchangeRateCache"},"NotificationScalarFieldEnum",0,{id:"id",notification:"notification",agencyId:"agencyId",subAccountId:"subAccountId",userId:"userId",createdAt:"createdAt",updatedAt:"updatedAt"},"NullTypes",0,k,"NullableJsonNullValueInput",0,{DbNull:b,JsonNull:f},"NullsOrder",0,{first:"first",last:"last"},"OpenItemAllocationScalarFieldEnum",0,{id:"id",openItemId:"openItemId",clearedById:"clearedById",clearedByType:"clearedByType",clearedByRef:"clearedByRef",localAmount:"localAmount",documentAmount:"documentAmount",exchangeDifference:"exchangeDifference",allocatedAt:"allocatedAt",allocatedBy:"allocatedBy",notes:"notes"},"OpenItemScalarFieldEnum",0,{id:"id",agencyId:"agencyId",subAccountId:"subAccountId",accountId:"accountId",journalEntryId:"journalEntryId",journalLineId:"journalLineId",sourceModule:"sourceModule",sourceId:"sourceId",sourceReference:"sourceReference",reference:"reference",assignment:"assignment",text:"text",itemDate:"itemDate",itemType:"itemType",dueDate:"dueDate",localCurrencyCode:"localCurrencyCode",localAmount:"localAmount",localRemainingAmount:"localRemainingAmount",documentCurrencyCode:"documentCurrencyCode",documentAmount:"documentAmount",documentRemainingAmount:"documentRemainingAmount",documentNumber:"documentNumber",documentDate:"documentDate",exchangeRate:"exchangeRate",partnerType:"partnerType",customerId:"customerId",vendorId:"vendorId",status:"status",clearingDate:"clearingDate",clearingDocumentId:"clearingDocumentId",clearingReference:"clearingReference",createdAt:"createdAt",createdBy:"createdBy",enteredAt:"enteredAt",postedAt:"postedAt",clearedAt:"clearedAt",clearedBy:"clearedBy"},"PasskeyScalarFieldEnum",0,{id:"id",userId:"userId",credentialId:"credentialId",publicKey:"publicKey",counter:"counter",name:"name",deviceName:"deviceName",authenticatorType:"authenticatorType",backupEligible:"backupEligible",backupState:"backupState",createdAt:"createdAt",updatedAt:"updatedAt",lastUsedAt:"lastUsedAt"},"PermissionScalarFieldEnum",0,{id:"id",key:"key",name:"name",description:"description",category:"category",isSystem:"isSystem",createdAt:"createdAt"},"PipelineScalarFieldEnum",0,{id:"id",name:"name",createdAt:"createdAt",updatedAt:"updatedAt",subAccountId:"subAccountId"},"PlanFeatureScalarFieldEnum",0,{id:"id",planId:"planId",featureKey:"featureKey",isEnabled:"isEnabled",isUnlimited:"isUnlimited",includedInt:"includedInt",maxInt:"maxInt",includedDec:"includedDec",maxDec:"maxDec",enforcement:"enforcement",overageMode:"overageMode",overageFee:"overageFee",stripeOveragePriceId:"stripeOveragePriceId",recurringCreditGrantInt:"recurringCreditGrantInt",recurringCreditGrantDec:"recurringCreditGrantDec",rolloverCredits:"rolloverCredits",topUpEnabled:"topUpEnabled",topUpPriceId:"topUpPriceId",createdAt:"createdAt",updatedAt:"updatedAt"},"PostingRuleScalarFieldEnum",0,{id:"id",agencyId:"agencyId",subAccountId:"subAccountId",code:"code",name:"name",description:"description",sourceModule:"sourceModule",debitAccountId:"debitAccountId",creditAccountId:"creditAccountId",amountType:"amountType",percentage:"percentage",fixedAmount:"fixedAmount",conditions:"conditions",priority:"priority",isActive:"isActive",autoPost:"autoPost",createdAt:"createdAt",createdBy:"createdBy",updatedAt:"updatedAt",updatedBy:"updatedBy",activatedAt:"activatedAt",activatedBy:"activatedBy",deactivatedAt:"deactivatedAt",deactivatedBy:"deactivatedBy"},"PostingTemplateScalarFieldEnum",0,{id:"id",agencyId:"agencyId",name:"name",description:"description",template:"template",defaultDescription:"defaultDescription",defaultCurrency:"defaultCurrency",isActive:"isActive",createdAt:"createdAt",createdBy:"createdBy",updatedAt:"updatedAt"},"PrismaClientInitializationError",0,l,"PrismaClientKnownRequestError",0,c,"PrismaClientRustPanicError",0,s,"PrismaClientUnknownRequestError",0,o,"PrismaClientValidationError",0,u,"QueryMode",0,{default:"default",insensitive:"insensitive"},"ReconciliationItemScalarFieldEnum",0,{id:"id",reconciliationId:"reconciliationId",itemType:"itemType",transactionDate:"transactionDate",reference:"reference",description:"description",amount:"amount",status:"status",matchedItemId:"matchedItemId",matchedAt:"matchedAt",matchedBy:"matchedBy",notes:"notes",createdAt:"createdAt",updatedAt:"updatedAt"},"ReconciliationRuleScalarFieldEnum",0,{id:"id",agencyId:"agencyId",name:"name",description:"description",ruleDefinition:"ruleDefinition",priority:"priority",isActive:"isActive",createdAt:"createdAt",createdBy:"createdBy",updatedAt:"updatedAt"},"ReconciliationScalarFieldEnum",0,{id:"id",agencyId:"agencyId",subAccountId:"subAccountId",accountId:"accountId",periodId:"periodId",reconciliationNumber:"reconciliationNumber",description:"description",bookBalance:"bookBalance",statementBalance:"statementBalance",statementDate:"statementDate",adjustedBookBalance:"adjustedBookBalance",difference:"difference",status:"status",submittedAt:"submittedAt",submittedBy:"submittedBy",approvedAt:"approvedAt",approvedBy:"approvedBy",rejectedAt:"rejectedAt",rejectedBy:"rejectedBy",rejectionReason:"rejectionReason",closedAt:"closedAt",closedBy:"closedBy",notes:"notes",createdAt:"createdAt",createdBy:"createdBy",updatedAt:"updatedAt",updatedBy:"updatedBy"},"ReportTemplateScalarFieldEnum",0,{id:"id",name:"name",description:"description",reportType:"reportType",templateDefinition:"templateDefinition",defaultParameters:"defaultParameters",isSystem:"isSystem",isActive:"isActive",createdAt:"createdAt",updatedAt:"updatedAt"},"RolePermissionScalarFieldEnum",0,{id:"id",roleId:"roleId",permissionId:"permissionId",granted:"granted",createdAt:"createdAt"},"RoleScalarFieldEnum",0,{id:"id",name:"name",agencyId:"agencyId",subAccountId:"subAccountId",scope:"scope",isSystem:"isSystem",createdAt:"createdAt",updatedAt:"updatedAt"},"SSOAuditLogScalarFieldEnum",0,{id:"id",ssoConnectionId:"ssoConnectionId",eventType:"eventType",email:"email",userId:"userId",status:"status",errorMessage:"errorMessage",ipAddress:"ipAddress",userAgent:"userAgent",createdAt:"createdAt"},"SSOConnectionScalarFieldEnum",0,{id:"id",agencyId:"agencyId",provider:"provider",clientId:"clientId",clientSecret:"clientSecret",authorizationUrl:"authorizationUrl",tokenUrl:"tokenUrl",userinfoUrl:"userinfoUrl",jwksUrl:"jwksUrl",entityId:"entityId",acsUrl:"acsUrl",ssoUrl:"ssoUrl",sloUrl:"sloUrl",x509Certificate:"x509Certificate",allowedDomains:"allowedDomains",autoProvisionUsers:"autoProvisionUsers",autoProvisionRole:"autoProvisionRole",requireSSO:"requireSSO",isEnabled:"isEnabled",testedAt:"testedAt",createdAt:"createdAt",updatedAt:"updatedAt"},"SSOUserMappingScalarFieldEnum",0,{id:"id",userId:"userId",ssoConnectionId:"ssoConnectionId",providerUserId:"providerUserId",providerEmail:"providerEmail",providerName:"providerName",providerPicture:"providerPicture",lastSyncedAt:"lastSyncedAt",syncStatus:"syncStatus",createdAt:"createdAt",updatedAt:"updatedAt"},"SavedReportScalarFieldEnum",0,{id:"id",agencyId:"agencyId",subAccountId:"subAccountId",name:"name",description:"description",reportType:"reportType",parameters:"parameters",isScheduled:"isScheduled",schedule:"schedule",lastGeneratedAt:"lastGeneratedAt",lastGeneratedBy:"lastGeneratedBy",isActive:"isActive",createdAt:"createdAt",createdBy:"createdBy",updatedAt:"updatedAt"},"SessionScalarFieldEnum",0,{id:"id",sessionToken:"sessionToken",userId:"userId",expires:"expires",createdAt:"createdAt",updatedAt:"updatedAt",activeAgencyId:"activeAgencyId",activeSubAccountId:"activeSubAccountId",deviceName:"deviceName",ipAddress:"ipAddress",userAgent:"userAgent",lastActiveAt:"lastActiveAt",revokedAt:"revokedAt"},"SidebarOptionLinkScalarFieldEnum",0,{id:"id",name:"name",link:"link",icon:"icon",createdAt:"createdAt",updatedAt:"updatedAt",order:"order",feature:"feature",agency:"agency",subaccount:"subaccount",user:"user",sidebarOptionId:"sidebarOptionId"},"SidebarOptionScalarFieldEnum",0,{id:"id",name:"name",link:"link",icon:"icon",createdAt:"createdAt",updatedAt:"updatedAt",order:"order",module:"module",subModule:"subModule",agency:"agency",subaccount:"subaccount",user:"user"},"SortOrder",0,{asc:"asc",desc:"desc"},"Sql",0,A,"SubAccountMembershipScalarFieldEnum",0,{id:"id",userId:"userId",subAccountId:"subAccountId",roleId:"roleId",isActive:"isActive",joinedAt:"joinedAt",createdAt:"createdAt",updatedAt:"updatedAt"},"SubAccountOwnershipScalarFieldEnum",0,{id:"id",agencyId:"agencyId",subAccountId:"subAccountId",ownershipPercentage:"ownershipPercentage",consolidationMethod:"consolidationMethod",effectiveFrom:"effectiveFrom",effectiveTo:"effectiveTo",minorityInterestAccountCode:"minorityInterestAccountCode",isActive:"isActive",createdAt:"createdAt",createdBy:"createdBy",updatedAt:"updatedAt"},"SubAccountScalarFieldEnum",0,{id:"id",connectAccountId:"connectAccountId",taxIdentityId:"taxIdentityId",name:"name",subAccountLogo:"subAccountLogo",createdAt:"createdAt",updatedAt:"updatedAt",companyEmail:"companyEmail",companyPhone:"companyPhone",goal:"goal",line1:"line1",line2:"line2",city:"city",postalCode:"postalCode",state:"state",country:"country",agencyId:"agencyId"},"SubAccountSettingsScalarFieldEnum",0,{id:"id",subAccountId:"subAccountId",entitlementsInheritFromAgency:"entitlementsInheritFromAgency",createdAt:"createdAt",updatedAt:"updatedAt"},"SubAccountSidebarOptionScalarFieldEnum",0,{id:"id",name:"name",link:"link",icon:"icon",createdAt:"createdAt",updatedAt:"updatedAt",subAccountId:"subAccountId"},"SubLedgerScalarFieldEnum",0,{id:"id",agencyId:"agencyId",subAccountId:"subAccountId",code:"code",name:"name",description:"description",type:"type",controlAccountId:"controlAccountId",isActive:"isActive",createdAt:"createdAt",createdBy:"createdBy",updatedAt:"updatedAt",updatedBy:"updatedBy"},"SubscriptionScalarFieldEnum",0,{id:"id",createdAt:"createdAt",updatedAt:"updatedAt",plan:"plan",price:"price",active:"active",priceId:"priceId",customerId:"customerId",currentPeriodEndDate:"currentPeriodEndDate",subscritiptionId:"subscritiptionId",status:"status",cancelAtPeriodEnd:"cancelAtPeriodEnd",canceledAt:"canceledAt",trialEndedAt:"trialEndedAt",agencyId:"agencyId"},"SupportTicketScalarFieldEnum",0,{id:"id",createdAt:"createdAt",updatedAt:"updatedAt",scope:"scope",status:"status",category:"category",title:"title",description:"description",diagnostics:"diagnostics",agencyId:"agencyId",subAccountId:"subAccountId",createdByUserId:"createdByUserId"},"TagScalarFieldEnum",0,{id:"id",name:"name",color:"color",createdAt:"createdAt",updatedAt:"updatedAt",subAccountId:"subAccountId"},"TaxExemptionCertificateScalarFieldEnum",0,{id:"id",taxIdentityId:"taxIdentityId",certificateId:"certificateId",exemptionType:"exemptionType",issuingAuthority:"issuingAuthority",countryCode:"countryCode",issueDate:"issueDate",expiryDate:"expiryDate",coveredTaxTypes:"coveredTaxTypes",exemptionPercentage:"exemptionPercentage",documentUrl:"documentUrl",documentHash:"documentHash",verificationStatus:"verificationStatus",verifiedBy:"verifiedBy",verifiedAt:"verifiedAt",notes:"notes",createdAt:"createdAt",updatedAt:"updatedAt"},"TaxIdentityScalarFieldEnum",0,{id:"id",agencyId:"agencyId",subAccountId:"subAccountId",entityType:"entityType",entityStructure:"entityStructure",legalName:"legalName",countryCode:"countryCode",state:"state",idType:"idType",idNumber:"idNumber",tinType:"tinType",tinNumber:"tinNumber",createdAt:"createdAt",updatedAt:"updatedAt"},"TaxObligationScalarFieldEnum",0,{id:"id",taxIdentityId:"taxIdentityId",taxCategory:"taxCategory",taxCode:"taxCode",taxRegistrationNo:"taxRegistrationNo",taxExmptionNo:"taxExmptionNo",taxRate:"taxRate",description:"description",jurisdiction:"jurisdiction",taxAuthority:"taxAuthority",effectiveFrom:"effectiveFrom",effectiveTo:"effectiveTo",isActive:"isActive",dueDate:"dueDate",frequency:"frequency",createdAt:"createdAt",updatedAt:"updatedAt"},"TemplateScalarFieldEnum",0,{id:"id",agencyId:"agencyId",category:"category",name:"name",description:"description",version:"version",source:"source",schema:"schema",data:"data",requiredEntitlements:"requiredEntitlements",usageCount:"usageCount",lastUsed:"lastUsed",isActive:"isActive",isPublic:"isPublic",createdAt:"createdAt",updatedAt:"updatedAt",createdBy:"createdBy"},"TermsAgreementScalarFieldEnum",0,{id:"id",userId:"userId",agreedToThirdPartyServices:"agreedToThirdPartyServices",thirdPartyServicesAgreedAt:"thirdPartyServicesAgreedAt",consentToCookies:"consentToCookies",cookiesConsentAt:"cookiesConsentAt",agreedToPrivacy:"agreedToPrivacy",privacyAgreedAt:"privacyAgreedAt",agreedToServiceTerms:"agreedToServiceTerms",serviceTermsAgreedAt:"serviceTermsAgreedAt",agreedToMarketing:"agreedToMarketing",marketingAgreedAt:"marketingAgreedAt",agreedToTermsConditions:"agreedToTermsConditions",termsConditionsAgreedAt:"termsConditionsAgreedAt",agreedToDataProcessing:"agreedToDataProcessing",dataProcessingAgreedAt:"dataProcessingAgreedAt",agreedToRetentionPolicy:"agreedToRetentionPolicy",andRetentionPolicyAgreedAt:"andRetentionPolicyAgreedAt",agreedToRefundPolicy:"agreedToRefundPolicy",refundPolicyAgreedAt:"refundPolicyAgreedAt",createdAt:"createdAt",updatedAt:"updatedAt"},"TicketScalarFieldEnum",0,{id:"id",name:"name",createdAt:"createdAt",updatedAt:"updatedAt",laneId:"laneId",order:"order",value:"value",description:"description",customerId:"customerId",assignedUserId:"assignedUserId"},"TransactionIsolationLevel",0,D,"TriggerScalarFieldEnum",0,{id:"id",name:"name",type:"type",createdAt:"createdAt",updatedAt:"updatedAt",subAccountId:"subAccountId"},"UsageEventScalarFieldEnum",0,{id:"id",scope:"scope",agencyId:"agencyId",subAccountId:"subAccountId",featureKey:"featureKey",quantity:"quantity",actionKey:"actionKey",idempotencyKey:"idempotencyKey",stripeMeterEventId:"stripeMeterEventId",createdAt:"createdAt"},"UsageTrackingScalarFieldEnum",0,{id:"id",scope:"scope",agencyId:"agencyId",subAccountId:"subAccountId",featureKey:"featureKey",currentUsage:"currentUsage",period:"period",periodStart:"periodStart",periodEnd:"periodEnd",lastEventAt:"lastEventAt",updatedAt:"updatedAt"},"UserScalarFieldEnum",0,{id:"id",name:"name",firstName:"firstName",lastName:"lastName",email:"email",emailVerified:"emailVerified",password:"password",avatarUrl:"avatarUrl",createdAt:"createdAt",updatedAt:"updatedAt",customerId:"customerId",trialEligible:"trialEligible"},"VendorScalarFieldEnum",0,{id:"id",agencyId:"agencyId",subAccountId:"subAccountId",code:"code",name:"name",taxId:"taxId",email:"email",phone:"phone",address:"address",subLedgerId:"subLedgerId",paymentTermDays:"paymentTermDays",currency:"currency",creditLimit:"creditLimit",bankName:"bankName",bankAccount:"bankAccount",bankSwiftCode:"bankSwiftCode",isActive:"isActive",createdAt:"createdAt",createdBy:"createdBy",updatedAt:"updatedAt",updatedBy:"updatedBy"},"VerificationTokenScalarFieldEnum",0,{identifier:"identifier",token:"token",expires:"expires"},"defineExtension",0,C,"empty",0,p,"getExtensionContext",0,I,"join",0,y,"prismaVersion",0,{client:"7.3.0",engine:"9d6ad21cbbceab97458517b147a6a09ff43aa735"},"raw",0,g,"sql",0,m],67982),e.i(67982),globalThis.__dirname=t.dirname((0,a.fileURLToPath)({get url(){return`file://${e.P("src/generated/prisma/client.ts")}`}}.url));let E=i.getPrismaClient(r);e.s(["PrismaClient",0,E],828189);let N=globalThis.prisma??((n=process.env.DATABASE_URL)?new E({accelerateUrl:n}):(console.warn("[db] DATABASE_URL not set, returning proxy (build mode)"),new Proxy({},{get(e,n){if("then"!==n&&"$connect"!==n&&"$disconnect"!==n)return()=>{throw Error("Database not available: DATABASE_URL is not configured")}}})));e.s(["db",0,N],843793)}];

//# sourceMappingURL=src_lib_db_ts_86d9618b._.js.map