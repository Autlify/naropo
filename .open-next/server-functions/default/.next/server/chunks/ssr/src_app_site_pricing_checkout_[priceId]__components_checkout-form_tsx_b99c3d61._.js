module.exports=[639202,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(50944),e=a.i(695245),f=a.i(159501),g=a.i(954714),h=a.i(400187),i=a.i(811011),j=a.i(368114);let k=(0,h.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",xs:"h-6 gap-1 rounded-md px-2 text-xs has-[>svg]:px-1.5 [&_svg:not([class*='size-'])]:size-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-xs":"size-6 rounded-md [&_svg:not([class*='size-'])]:size-3","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function l({className:a,variant:c="default",size:d="default",asChild:e=!1,...f}){let g=e?i.Slot:"button";return(0,b.jsx)(g,{"data-slot":"button","data-variant":c,"data-size":d,className:(0,j.cn)(k({variant:c,size:d,className:a})),...f})}function m({className:a,type:c,...d}){return(0,b.jsx)("input",{type:c,"data-slot":"input",className:(0,j.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...d})}var n=a.i(949105);function o({className:a,...c}){return(0,b.jsx)(n.Label,{"data-slot":"label",className:(0,j.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...c})}let p=0,q=new Map,r=a=>{if(q.has(a))return;let b=setTimeout(()=>{q.delete(a),u({type:"REMOVE_TOAST",toastId:a})},1e6);q.set(a,b)},s=[],t={toasts:[]};function u(a){t=((a,b)=>{switch(b.type){case"ADD_TOAST":return{...a,toasts:[b.toast,...a.toasts].slice(0,1)};case"UPDATE_TOAST":return{...a,toasts:a.toasts.map(a=>a.id===b.toast.id?{...a,...b.toast}:a)};case"DISMISS_TOAST":{let{toastId:c}=b;return c?r(c):a.toasts.forEach(a=>{r(a.id)}),{...a,toasts:a.toasts.map(a=>a.id===c||void 0===c?{...a,open:!1}:a)}}case"REMOVE_TOAST":if(void 0===b.toastId)return{...a,toasts:[]};return{...a,toasts:a.toasts.filter(a=>a.id!==b.toastId)}}})(t,a),s.forEach(a=>{a(t)})}function v({...a}){let b=(p=(p+1)%Number.MAX_SAFE_INTEGER).toString(),c=()=>u({type:"DISMISS_TOAST",toastId:b});return u({type:"ADD_TOAST",toast:{...a,id:b,open:!0,onOpenChange:a=>{a||c()}}}),{id:b,dismiss:c,update:a=>u({type:"UPDATE_TOAST",toast:{...a,id:b}})}}var w=a.i(596221),x=a.i(533441),y=a.i(613749),z=a.i(533350),A=a.i(911156),B=a.i(633508),C=a.i(792501);a.i(112732);var D=a.i(810788),E=a.i(699570);function F({billingData:a,onPaymentMethodCollected:d,onCardChange:e}){let f=(0,C.useStripe)(),g=(0,C.useElements)(),[h,i]=(0,c.useState)(null),[k,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)(!1),o=async()=>{if(!f||!g)return void i("Stripe is not loaded yet. Please wait.");l(!0),i(null);try{let{error:a}=await g.submit();if(a){i(a.message||"Failed to validate payment details"),n(!1);return}let{error:b,paymentMethod:c}=await f.createPaymentMethod({elements:g});if(b){i(b.message||"Failed to validate payment method"),n(!1);return}c?.id&&(console.log("ðŸ’³ Payment method created:",c.id),c.card&&e?.({brand:c.card.brand||"visa",last4:c.card.last4||"",complete:!0}),d(c.id),n(!0),i(null))}catch(a){console.error("Error collecting payment method:",a),i("Failed to validate payment method"),n(!1)}finally{l(!1)}};return(0,b.jsxs)("div",{className:"space-y-5",children:[(0,b.jsxs)("div",{className:"border-l-4 border-accent-base pl-5 mb-5",children:[(0,b.jsx)("h3",{className:"text-xl font-black text-brand-gradient tracking-tight",children:"Card Information"}),(0,b.jsx)("p",{className:"text-sm text-fg-secondary mt-1",children:"Enter your card details securely"})]}),(0,b.jsx)(C.PaymentElement,{options:{layout:"tabs",defaultValues:{billingDetails:{name:a?`${a.firstName} ${a.lastName}`:void 0,email:a?.agencyEmail,phone:a?.companyPhone?`${a.phoneCode||""}${a.companyPhone}`:void 0,address:{line1:a?.line1,line2:a?.line2,city:a?.city,state:a?.state,postal_code:a?.postalCode,country:a?.countryCode}}}},onChange:a=>{"card"===a.value.type&&a.complete&&e?.({brand:"visa",last4:"",complete:a.complete})}}),(0,b.jsx)(E.Button,{type:"button",onClick:o,disabled:!f||k||m,className:(0,j.cn)("w-full h-12 font-bold transition-all duration-300",m?"bg-gradient-to-br from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white shadow-[0_8px_30px_rgba(34,197,94,0.3)] hover:shadow-[0_12px_40px_rgba(34,197,94,0.4)]":"bg-brand-gradient hover:bg-brand-gradient-hover text-white border border-brand-border hover:scale-[1.01] active:scale-[0.99]"),children:k?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(w.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Validating Card..."]}):m?(0,b.jsx)(b.Fragment,{children:"âœ“ Card Validated"}):"Validate Card"}),h&&(0,b.jsx)("div",{className:"bg-destructive/10 border border-destructive rounded-lg p-3",children:(0,b.jsx)("p",{className:"text-sm text-destructive font-medium",children:h})}),m&&(0,b.jsx)("div",{className:"bg-[hsl(var(--success-bg))] border border-[hsl(var(--success-border))] rounded-lg p-3",children:(0,b.jsx)("p",{className:"text-sm text-[hsl(var(--success-text))] font-medium",children:"âœ“ Payment method validated successfully"})}),(0,b.jsx)("p",{className:"text-xs text-fg-tertiary",children:"Your payment information is securely processed by Stripe. We never store your card details."})]})}var G=a.i(970806),H=a.i(385542),I=a.i(45050),J=a.i(885861),K=a.i(531448),L=a.i(65261),M=a.i(639824);function N({className:a,orientation:c="horizontal",decorative:d=!0,...e}){return(0,b.jsx)(M.Separator,{"data-slot":"separator",decorative:d,orientation:c,className:(0,j.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",a),...e})}function O({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,j.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...c})}function P({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,j.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...c})}function Q({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,j.cn)("leading-none font-semibold",a),...c})}function R({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,j.cn)("text-muted-foreground text-sm",a),...c})}function S({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,j.cn)("px-6",a),...c})}var T=a.i(458321),U=a.i(873871);let V=(0,D.loadStripe)(process.env.NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY),W=g.object({firstName:g.string().min(2,"First name must be at least 2 characters"),lastName:g.string().min(2,"Last name must be at least 2 characters"),userEmail:g.string().email("Invalid email address"),agencyName:g.string().min(2,"D.B.A. is required for your agency"),agencyEmail:g.string().email("Invalid email address"),companyPhone:g.string().min(1,"Phone number is required"),phoneCode:g.string().optional(),companyName:g.string().optional(),tinNumber:g.string().optional(),line1:g.string().min(1,"Address line 1 is required"),line2:g.string().optional(),city:g.string().min(1,"City is required"),state:g.string().min(1,"State is required"),postalCode:g.string().min(1,"Postal code is required"),country:g.string().min(2,"Country is required"),countryCode:g.string().optional(),stateCode:g.string().optional()}),X=[{id:"billing",label:"Billing",description:"Billing information"},{id:"payment",label:"Payment",description:"Payment method"},{id:"review",label:"Review",description:"Review & Confirm"}];function Y({priceId:g,planConfig:h,user:i,agencyEmail:k,existingCustomer:n,existingPaymentMethods:p}){let q,r=(0,d.useRouter)(),{toast:D}=function(){let[a,b]=c.useState(t);return c.useEffect(()=>(s.push(b),()=>{let a=s.indexOf(b);a>-1&&s.splice(a,1)}),[a]),{...a,toast:v,dismiss:a=>u({type:"DISMISS_TOAST",toastId:a})}}(),[E,M]=(0,c.useState)(!1),[Y,Z]=(0,c.useState)(null),[$,_]=(0,c.useState)(n?.id||null),[aa,ab]=(0,c.useState)("billing"),[ac,ad]=(0,c.useState)(new Set),[ae,af]=(0,c.useState)(null),[ag,ah]=(0,c.useState)(null),[ai,aj]=(0,c.useState)(p.length>0),[ak,al]=(0,c.useState)(p.length>0?p[0].id:null),[am,an]=(0,c.useState)(!1),[ao,ap]=(0,c.useState)("add"),[aq,ar]=(0,c.useState)({brand:"visa",last4:"",complete:!1,isFlipped:!1}),[as,at]=(0,c.useState)(null),[au,av]=(0,c.useState)(!1),[aw,ax]=(0,c.useState)(""),[ay,az]=(0,c.useState)(null),[aA,aB]=(0,c.useState)(!1),[aC,aD]=(0,c.useState)(""),[aE,aF]=(0,c.useState)(""),[aG,aH]=(0,c.useState)(""),[aI,aJ]=(0,c.useState)(""),[aK,aL]=(0,c.useState)("");J.Country.getAllCountries(),aC&&K.State.getStatesOfCountry(aC),aC&&aE&&L.City.getCitiesOfState(aC,aE);let aM=(0,e.useForm)({resolver:(0,f.zodResolver)(W),mode:"onChange",defaultValues:{firstName:i.firstName||"",lastName:i.lastName||"",userEmail:i.email||"",agencyName:"",agencyEmail:i.email||"",companyPhone:"",phoneCode:"",line1:"",line2:"",city:"",state:"",postalCode:"",stateCode:"",country:"",countryCode:""}}),aN=aM.formState.isSubmitting;(0,c.useEffect)(()=>{if(n){console.log("ðŸ”„ Pre-filling form with existing customer data:",n.id);let a=n.metadata||{};if(n.address){let a=J.Country.getAllCountries().find(a=>a.name===n.address?.country),b=K.State.getStatesOfCountry(a?.isoCode).find(a=>a.name===n.address?.state),c=L.City.getCitiesOfState(b?.countryCode||"",b?.isoCode||"").find(a=>a.name===n.address?.city);a&&a.isoCode.length,n.phone&&n.phone.match(/^(\+\d+)(.*)$/);let d=n.phone&&a?n.phone.match(RegExp(`^(\\+${a.phonecode})(.*)$`)):null,e=d?d[1]:null,f=d?d[2].toString().trim():null;aM.setValue("line1",n.address.line1||""),aM.setValue("line2",n.address.line2||""),aD(a?a.isoCode:""),aM.setValue("country",a?a.name:n.address.country||""),aM.setValue("countryCode",a?a.isoCode:""),aF(b?b.isoCode:""),aM.setValue("state",b?b.name:n.address.state||""),aM.setValue("stateCode",b?b.isoCode:""),aH(c?c.name:""),aM.setValue("city",c?c.name:n.address.city||""),aM.setValue("postalCode",n.address.postal_code||""),aJ(e||""),aM.setValue("phoneCode",e||""),aL(f||n.phone||""),aM.setValue("companyPhone",f||n.phone||""),console.log("ðŸ™ï¸ Pre-filled address:",{line1:n.address.line1||"",line2:n.address.line2||"",country:a?a.name:n.address.country||"",countryCode:a?a.isoCode:"",state:b?b.name:n.address.state||"",stateCode:b?b.isoCode:"",city:c?c.name:n.address.city||"",postalCode:n.address.postal_code||"",phoneCode:e||"",companyPhone:f||`${n.phone} (stripe)`||""})}a.agencyName&&aM.setValue("agencyName",a.agencyName),a.companyName&&aM.setValue("companyName",a.companyName),a.tinNumber&&aM.setValue("tinNumber",a.tinNumber),console.log("âœ… Form pre-filled successfully")}},[n,aM]),(0,c.useEffect)(()=>{h.trialEnabled&&i.trialEligible?M(!0):M(!1)},[h,i]);let aO=X.findIndex(a=>a.id===aa),aP=async a=>await aM.trigger({billing:["firstName","lastName","userEmail","agencyName","agencyEmail","phoneCode","companyPhone","line1","line2","city","state","postalCode","country"],payment:[],review:[]}[a]),aQ=async()=>{if(!await aP(aa)){let a=aM.formState.errors,b=Object.keys(a);console.log("Validation failed for fields:",b,a),D({title:"Validation Error",description:b.length>0?`Please check: ${b.join(", ")}`:"Please fill in all required fields correctly.",variant:"destructive"});return}ad(a=>new Set(a).add(aa)),"billing"===aa&&af(aM.getValues());let a=aO+1;a<X.length&&ab(X[a].id)},aR=()=>{let a=aO-1;a>=0&&ab(X[a].id)},aS=async a=>{(X.findIndex(b=>b.id===a)<aO||ac.has(a))&&ab(a)},aT=async()=>{let b="";try{let c;av(!0);let d=ae||aM.getValues(),e=d.phoneCode&&d.companyPhone?`${d.phoneCode}${d.companyPhone}`:d.companyPhone;if(console.log("ðŸ“ž Phone formatting:",{phoneCode:d.phoneCode,companyPhone:d.companyPhone,formattedPhone:e}),$)c=$;else{console.log("ðŸ” Checking for existing customer:",d.userEmail);let a=await fetch(`/api/stripe/customer?email=${encodeURIComponent(d.userEmail)}`);if(!a.ok)throw Error("Failed to check existing customer");let b=await a.json();if(b.exists&&b.customer)console.log("âœ… Found existing customer, reusing:",b.customer.id),c=b.customer.id,_(c);else{console.log("ðŸ“ Creating new customer");let a=await fetch("/api/stripe/customer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:d.userEmail,name:d.companyName||`${d.firstName} ${d.lastName}`,phone:e,individual_name:`${d.firstName} ${d.lastName}`,business_name:d.companyName||"",address:{line1:d.line1,line2:d.line2||"",city:d.city,state:d.state,postal_code:d.postalCode,country:d.country},shipping:{address:{city:d.city,country:d.country,line1:d.line1,line2:d.line2||void 0,postal_code:d.postalCode,state:d.state},name:d.companyName||`${d.firstName} ${d.lastName}`},metadata:{userId:i.id,agencyName:d.agencyName,companyName:d.companyName||"",tinNumber:d.tinNumber||"",source:"checkout"},userId:i.id})});if(!a.ok){let b=await a.json();throw Error(b.error||"Failed to create customer")}let b=await a.json();c=b.customerId,_(c),console.log("âœ… New customer created:",c,"userUpdated:",b.userUpdated)}}console.log("ðŸ“ Creating agency...");let{upsertAgency:f}=await a.A(442982);b=(0,G.v4)(),await f({id:b,customerId:c,name:d.agencyName,companyEmail:d.userEmail,companyPhone:e,whiteLabel:!1,line1:d.line1,line2:d.line2||"",city:d.city,postalCode:d.postalCode,state:d.state,country:d.country,agencyLogo:"",connectAccountId:"",taxIdentityId:null,goal:5,createdAt:new Date,updatedAt:new Date}),console.log("âœ… Agency created:",b),console.log("ðŸ’° Creating subscription");let j=await fetch("/api/stripe/create-subscription",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customerId:c,agencyId:b,priceId:g,country:d.country,coupon:ay?.id,paymentMethodId:ag||ak,trialEnabled:h.trialEnabled&&E,trialPeriodDays:h.trialEnabled&&E?h.trialPeriodDays:void 0})});if(!j.ok)throw Error("Failed to create subscription");let k=await j.json();console.log("âœ… Subscription created:",k.subscriptionId),D({title:"Success!",description:"Your agency has been created successfully."}),r.push(`/agency/${b}`)}catch(a){console.error("Checkout error:",a),av(!1),D({title:"Error",description:a instanceof Error?a.message:"Failed to process checkout",variant:"destructive"})}},aU=async()=>{if(aw.trim()){aB(!0);try{let a=await fetch("/api/stripe/validate-coupon",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:aw})});if(!a.ok)throw Error("Invalid coupon code");let{coupon:b}=await a.json();az(b),D({title:"Coupon Applied!",description:`${b.percent_off||b.amount_off}% discount applied`})}catch(a){D({title:"Invalid Coupon",description:"The coupon code you entered is not valid.",variant:"destructive"})}finally{aB(!1)}}},aV=parseFloat(h.price.replace(/[^0-9.]/g,"")),aW=ay?ay.percent_off?aV*ay.percent_off/100:ay.amount_off/100:0,aX=aV-aW;return(0,b.jsxs)("div",{className:"bg-bg-primary",children:[(0,b.jsxs)("div",{className:"mx-auto max-w-6xl px-4 sm:px-6 lg:px-8 py-10 sm:py-12 relative z-10",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between gap-4 mb-6",children:[(0,b.jsx)("div",{children:(0,b.jsx)("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-black tracking-tight text-brand-gradient pb-1",children:"Complete Your Subscription"})}),(0,b.jsxs)(l,{variant:"ghost",size:"sm",onClick:()=>r.push("/site/pricing"),className:"hover:bg-accent transition-colors",children:[(0,b.jsx)(y.ChevronLeft,{className:"h-4 w-4 mr-1"}),"Back to Pricing"]})]}),(0,b.jsx)(U.motion.div,{className:"my-8 h-0.5 bg-gradient-to-r from-transparent via-blue-500/50 to-transparent",initial:{scaleX:0,opacity:0},animate:{scaleX:1,opacity:1},transition:{delay:.5,duration:.8,ease:"easeOut"}}),(0,b.jsx)("div",{className:"flex items-center justify-between w-full mb-6 px-10",children:X.map((a,d)=>{let e=ac.has(a.id),f=aa===a.id,g=d<=aO||e,h=d===X.length-1;return(0,b.jsxs)(c.default.Fragment,{children:[(0,b.jsxs)(l,{variant:"ghost",onClick:()=>g&&aS(a.id),disabled:!g,className:(0,j.cn)("h-full group flex flex-col items-center gap-1.5 transition-all duration-300",g&&"cursor-pointer hover:scale-105",!g&&"cursor-not-allowed opacity-50"),children:[(0,b.jsxs)(U.motion.div,{initial:!1,animate:{scale:f?1.1:1,backgroundColor:e||f?"hsl(var(--primary))":"hsl(var(--muted))"},transition:{type:"spring",stiffness:500,damping:30},className:(0,j.cn)("relative flex items-center justify-center w-9 h-9 rounded-full font-medium text-sm",e||f?"text-primary-foreground":"text-muted-foreground"),children:[e?(0,b.jsx)(U.motion.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:500,damping:25},children:(0,b.jsx)(x.Check,{className:"h-4 w-4",strokeWidth:3})}):(0,b.jsx)("span",{children:d+1}),f&&(0,b.jsx)(U.motion.div,{className:"absolute inset-0 rounded-full border-2 border-primary",initial:{scale:1,opacity:.8},animate:{scale:1.4,opacity:0},transition:{duration:1.5,repeat:1/0,ease:"easeOut"}})]}),(0,b.jsx)(U.motion.span,{initial:!1,animate:{color:f||e?"hsl(var(--primary))":"hsl(var(--muted-foreground))",fontWeight:f?600:500},className:"text-xs whitespace-nowrap",children:a.label})]}),!h&&(0,b.jsx)("div",{className:"relative -top-2 w-full flex-1 h-0.5 mx-2 rounded-full overflow-hidden min-w-[80px] bg-gradient-to-r from-transparent via-border to-transparent",children:(0,b.jsx)(U.motion.div,{className:"h-full bg-gradient-to-r from-primary via-blue-500 to-primary/80 rounded-full",initial:{width:"0%"},animate:{width:e?"100%":"0%"},transition:{duration:.4,ease:"easeOut"}})})]},a.id)})}),(0,b.jsxs)("div",{className:"grid lg:grid-cols-3 gap-6",children:[(0,b.jsx)("div",{className:"lg:col-span-2 space-y-4 w-full",children:(0,b.jsx)("div",{className:"module__WDhx3G__outer p-[8px] border rounded-2xl",children:(0,b.jsx)("div",{className:"module__WDhx3G__inner rounded-full",children:(0,b.jsx)("div",{className:"w-full p-[8px] pb-0 border-0 rounded-2xl",children:(0,b.jsx)(S,{className:"pt-6 pb-7 px-6 sm:px-7",children:(0,b.jsxs)("form",{children:["billing"===aa&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"border-l-4 border-primary pl-5",children:[(0,b.jsx)("h2",{className:"text-2xl font-black text-brand-gradient mb-1 tracking-tight",children:"Account"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Your contact information"})]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-5",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(o,{className:"mb-2 block",children:"Full Name *"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,b.jsx)(m,{id:"firstName",type:"text",...aM.register("firstName"),placeholder:"First",className:"h-10"}),(0,b.jsx)(m,{id:"lastName",type:"text",...aM.register("lastName"),placeholder:"Last",className:"h-10"})]}),(aM.formState.errors.firstName||aM.formState.errors.lastName)&&(0,b.jsx)("p",{className:"text-sm text-destructive mt-1",children:aM.formState.errors.firstName?.message||aM.formState.errors.lastName?.message})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(o,{htmlFor:"agencyEmail",className:"mb-2 block",children:"Email Address *"}),(0,b.jsx)(m,{id:"agencyEmail",type:"email",readOnly:!0,...aM.register("agencyEmail"),placeholder:"john@example.com",className:"h-10"}),aM.formState.errors.agencyEmail&&(0,b.jsx)("p",{className:"text-sm text-destructive mt-1",children:aM.formState.errors.agencyEmail.message})]})]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-5",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(o,{htmlFor:"agencyName",className:"mb-2 block",children:"Tenant Name *"}),(0,b.jsx)(m,{id:"agencyName",...aM.register("agencyName"),placeholder:"My Tenant",className:"h-10"}),aM.formState.errors.agencyName&&(0,b.jsx)("p",{className:"text-sm text-destructive mt-1",children:aM.formState.errors.agencyName.message})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(o,{htmlFor:"companyPhone",className:"mb-2 block",children:"Phone Number*"}),(0,b.jsx)(H.PhoneCodeSelector,{value:aK,onValueChange:(a,b)=>{aL(a),aJ(b||""),aM.setValue("companyPhone",a),aM.setValue("phoneCode",b||"")},countryCode:aC,onCountryCodeChange:(a,b)=>{aD(a),aM.setValue("phoneCode",b?.phonecode||""),aM.setValue("country",b?.name||"",{shouldValidate:!0}),aM.setValue("countryCode",a)},placeholder:"Enter phone number",disabled:aN,styleVariant:"plain"}),aM.formState.errors.companyPhone&&(0,b.jsx)("p",{className:"text-sm text-destructive mt-1",children:aM.formState.errors.companyPhone.message})]})]}),(0,b.jsx)(N,{className:"my-6"}),(0,b.jsxs)("div",{className:"border-l-4 border-primary pl-5",children:[(0,b.jsx)("h2",{className:"text-2xl font-black text-brand-gradient mb-1 tracking-tight",children:"Billing"}),(0,b.jsx)("p",{className:"text-sm text-fg-tertiary",children:"Billing address and tax information"})]}),(0,b.jsxs)("div",{className:"space-y-5 mt-2",children:[(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-5",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)(o,{htmlFor:"companyName",className:"mb-2 block",children:["Company Name ",(0,b.jsx)("span",{className:"text-xs text-fg-tertiary ml-1 font-normal",children:"(Optional)"})]}),(0,b.jsx)(m,{id:"companyName",...aM.register("companyName"),placeholder:"My Company Ltd.",className:"h-10"}),aM.formState.errors.companyName&&(0,b.jsx)("p",{className:"text-sm text-destructive mt-1",children:aM.formState.errors.companyName.message})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)(o,{htmlFor:"tinNumber",className:"mb-2 block",children:["Tax ID ",(0,b.jsx)("span",{className:"text-xs text-fg-tertiary ml-1 font-normal",children:"(Optional)"})]}),(0,b.jsx)(m,{id:"tinNumber",...aM.register("tinNumber"),placeholder:"123-45-6789",className:"h-10"}),aM.formState.errors.tinNumber&&(0,b.jsx)("p",{className:"text-sm text-destructive mt-1",children:aM.formState.errors.tinNumber.message})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(o,{className:"mb-2 block",children:"Address *"}),(0,b.jsxs)("div",{className:"grid md:grid-cols-4 gap-2",children:[(0,b.jsx)(m,{id:"line2",...aM.register("line2"),placeholder:"Apt/Suite (Optional)",className:"h-10"}),(0,b.jsx)(m,{id:"line1",className:"md:col-span-2 h-10",...aM.register("line1"),placeholder:"Street Address"}),(0,b.jsx)(H.PostalCodeInput,{value:aM.watch("postalCode"),onValueChange:a=>aM.setValue("postalCode",a),placeholder:"Postal Code",countryCode:aC,styleVariant:"plain"})]}),(aM.formState.errors.line1||aM.formState.errors.postalCode)&&(0,b.jsx)("p",{className:"text-sm text-destructive mt-1",children:aM.formState.errors.line1?.message||aM.formState.errors.postalCode?.message})]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-3 gap-5",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(o,{htmlFor:"country",className:"mb-2 block",children:"Country *"}),(0,b.jsx)(H.CountrySelector,{value:aC,onValueChange:(a,b)=>{aD(a),aF(""),aM.setValue("country",b?.name||""),aM.setValue("countryCode",a),aM.setValue("state",""),aM.setValue("stateCode",""),aM.setValue("city","")},placeholder:"Select country",disabled:aN,styleVariant:"plain"}),aM.formState.errors.country&&(0,b.jsx)("p",{className:"text-sm text-destructive mt-1",children:aM.formState.errors.country.message})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(o,{htmlFor:"state",className:"mb-2 block",children:"State/Province *"}),(0,b.jsx)(H.StateSelector,{countryCode:aC,value:aE,onValueChange:(a,b)=>{aF(a),aM.setValue("state",b.name),aM.setValue("stateCode",a)},placeholder:"Select state",disabled:aN,styleVariant:"plain"}),aM.formState.errors.state&&(0,b.jsx)("p",{className:"text-sm text-destructive mt-1",children:aM.formState.errors.state.message})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(o,{htmlFor:"city",className:"mb-2 block",children:"City *"}),(0,b.jsx)(H.CitySelector,{countryCode:aC,stateCode:aE,value:aG,onValueChange:(a,b)=>{aH(b.name),aM.setValue("city",b.name)},placeholder:"Select city",disabled:aN,styleVariant:"plain"}),aM.formState.errors.city&&(0,b.jsx)("p",{className:"text-sm text-destructive mt-1",children:aM.formState.errors.city.message})]})]}),(0,b.jsx)("div",{className:"grid md:grid-cols-1 gap-6"})]})]}),"payment"===aa&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"border-l-4 border-primary pl-5",children:[(0,b.jsx)("h2",{className:"text-2xl font-black text-brand-gradient mb-2 tracking-tight",children:"Payment Method"}),(0,b.jsx)("p",{className:"text-fg-tertiary",children:p.length>0?"Choose a payment method or add a new card":"Securely add your payment information"})]}),p.length>0&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(T.SavedBankCardsGallery,{compact:!0,cards:p.map(a=>({id:a.id,cardNumber:`**** **** **** ${a.card?.last4}`,cardholderName:a.card?.cardholder_name||"N/A",expiryMonth:String(a.card?.exp_month).padStart(2,"0"),expiryYear:String(a.card?.exp_year),brand:a.card?.brand,variant:a.card?.brand==="visa"?"default":a.card?.brand==="mastercard"?"premium":a.card?.brand==="amex"?"platinum":"default",isDefault:a.card?.isDefault})),selectedCardId:ai&&ak?ak:void 0,onCardSelect:a=>{aj(!0),al(a)},onAddCard:()=>{ap("add"),an(!0)},onSetDefault:a=>{D({title:"Set as Default",description:"This feature will be available soon."})},onReplaceCard:a=>{at(a),ap("replace"),an(!0)},onRemoveCard:async a=>{D({title:"Remove Card",description:"Are you sure? This feature will be available soon.",variant:"destructive"})},className:"mb-4"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,b.jsx)("span",{className:"w-full border-t border-border"})}),(0,b.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,b.jsx)("span",{className:"bg-background px-2 text-muted-foreground",children:ai?"Or add new card":"Adding new card"})})]})]}),!ai&&!ag&&(0,b.jsx)("div",{className:"mt-4",children:(0,b.jsx)("div",{onClick:()=>{ap("add"),an(!0)},className:"p-6 border-2 border-dashed border-primary/30 rounded-xl cursor-pointer hover:border-primary hover:bg-primary/5 transition-all",children:(0,b.jsxs)("div",{className:"flex flex-col items-center gap-3 text-center",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:(0,b.jsx)(A.CreditCard,{className:"h-6 w-6 text-primary"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-semibold text-fg-primary",children:"Add New Payment Method"}),(0,b.jsx)("p",{className:"text-sm text-fg-tertiary mt-1",children:"Click to securely add your card details"})]})]})})}),am&&(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:()=>an(!1),children:(0,b.jsxs)("div",{className:"relative bg-card rounded-2xl shadow-2xl max-w-md w-full p-6 max-h-[90vh] overflow-y-auto",onClick:a=>a.stopPropagation(),children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-fg-primary",children:"add"===ao?"Add New Card":"Replace Card"}),(0,b.jsx)("p",{className:"text-sm text-fg-tertiary mt-1",children:"Your payment information is securely processed by Stripe"})]}),(0,b.jsx)("button",{type:"button",onClick:()=>an(!1),className:"text-muted-foreground hover:text-foreground transition-colors",children:(0,b.jsx)(B.X,{className:"h-6 w-6"})})]}),(0,b.jsx)("div",{className:"relative rounded-2xl p-[1.5px] bg-gradient-to-br from-border/60 via-border/40 to-border/60 overflow-hidden shadow-md",children:(0,b.jsxs)("div",{className:"relative overflow-hidden rounded-2xl bg-card p-6",children:[(0,b.jsx)("div",{className:"absolute inset-x-0 top-0 h-px bg-gradient-to-r from-transparent via-border/60 to-transparent"}),(0,b.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(600px_circle_at_50%_0%,rgba(59,130,246,0.03),transparent_60%)]"}),(0,b.jsx)("div",{className:"relative z-10",children:(0,b.jsx)(C.Elements,{stripe:V,options:{mode:"setup",currency:"myr",paymentMethodCreation:"manual",appearance:{variables:{colorSuccess:"var(--success-text)",colorPrimary:"var(--primary)",colorBackground:"linear-gradient(to_br, var(--bg-muted/30), var(--bg-muted/20), var(--bg-muted/10))",colorText:"var(--fg-primary)",colorDanger:"var(--warning-text)",fontFamily:"system-ui, sans-serif",borderRadius:"0.75rem",spacingUnit:"4px"}}},children:(0,b.jsx)(F,{billingData:ae,onPaymentMethodCollected:a=>{ah(a),an(!1),"replace"===ao&&as?D({title:"Card Replaced",description:"Your payment method has been updated."}):(aj(!1),D({title:"Card Added",description:"Your new payment method is ready to use."}))},onCardChange:a=>{ar({brand:a.brand,last4:a.last4,complete:a.complete,isFlipped:!1})}})})})]})}),(0,b.jsx)("div",{className:"mt-6 flex gap-3",children:(0,b.jsx)(l,{type:"button",variant:"outline",onClick:()=>an(!1),className:"flex-1",children:"Cancel"})})]})}),!ai&&ag&&(0,b.jsx)("div",{className:"mt-4 relative rounded-2xl p-[1.5px] bg-gradient-to-br from-green-400/60 via-green-300/40 to-green-400/60 overflow-hidden shadow-lg",children:(0,b.jsxs)("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-green-50 via-emerald-50 to-green-50 p-5",children:[(0,b.jsx)("div",{className:"absolute inset-x-0 top-0 h-px bg-gradient-to-r from-transparent via-green-300/60 to-transparent"}),(0,b.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(400px_circle_at_50%_0%,rgba(34,197,94,0.08),transparent_60%)]"}),(0,b.jsxs)("div",{className:"relative z-10 flex items-center gap-4",children:[(0,b.jsx)("div",{className:"flex-shrink-0 w-12 h-12 rounded-full bg-gradient-to-br from-green-400 to-green-500 flex items-center justify-center shadow-lg shadow-green-500/20",children:(0,b.jsx)(x.Check,{className:"h-7 w-7 text-white",strokeWidth:3})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"font-bold text-lg text-green-900",children:"Payment Method Validated"}),(0,b.jsx)("p",{className:"text-sm text-green-700 mt-0.5",children:"Your new card has been successfully validated and is ready to use"})]}),(0,b.jsx)(l,{type:"button",variant:"outline",size:"sm",onClick:()=>{ah(null),console.log("ðŸ”„ Resetting payment method")},className:"flex-shrink-0 bg-gradient-to-br from-green-600 via-emerald-500 to-emerald-500 text-white transition-colors",children:"Change Card"})]})]})})]}),"review"===aa&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"border-l-4 border-primary pl-5",children:[(0,b.jsx)("h2",{className:"text-2xl font-black text-brand-gradient mb-2 tracking-tight",children:"Review & Confirm"}),(0,b.jsx)("p",{className:"text-fg-tertiary",children:"Please review your information before confirming your subscription"})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[(0,b.jsx)(x.Check,{className:"h-5 w-5 text-green-500"}),"Billing Information"]}),(0,b.jsxs)("div",{className:"bg-muted/50 rounded-lg p-4 space-y-2",children:[(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Name"}),(0,b.jsxs)("p",{className:"font-medium",children:[ae?.firstName," ",ae?.lastName]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Email"}),(0,b.jsx)("p",{className:"font-medium",children:ae?.agencyEmail})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Phone"}),(0,b.jsxs)("p",{className:"font-medium",children:[ae?.phoneCode," ",ae?.companyPhone]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Tenant Name"}),(0,b.jsx)("p",{className:"font-medium",children:ae?.agencyName})]})]}),ae?.companyName&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Company"}),(0,b.jsx)("p",{className:"font-medium",children:ae.companyName})]}),(0,b.jsx)(N,{className:"my-2"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Address"}),(0,b.jsxs)("p",{className:"font-medium",children:[ae?.line1,ae?.line2&&`, ${ae.line2}`]}),(0,b.jsxs)("p",{className:"font-medium",children:[ae?.city,", ",ae?.state," ",ae?.postalCode]}),(0,b.jsx)("p",{className:"font-medium",children:ae?.country})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[(0,b.jsx)(x.Check,{className:"h-5 w-5 text-green-500"}),"Payment Method"]}),(0,b.jsx)("div",{className:"bg-muted/50 rounded-lg p-4",children:ai&&ak?(0,b.jsx)("div",{children:(q=p.find(a=>a.id===ak))?(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:(0,b.jsx)("span",{className:"text-blue-600 font-semibold",children:q.card?.brand?.charAt(0).toUpperCase()})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"font-medium capitalize",children:[q.card?.brand," â€¢â€¢â€¢â€¢ ",q.card?.last4]}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Expires ",q.card?.exp_month,"/",q.card?.exp_year]})]})]}):null}):ag?(0,b.jsx)("p",{className:"font-medium",children:"New card ending in â€¢â€¢â€¢â€¢"}):(0,b.jsx)("p",{className:"text-amber-600",children:"No payment method selected"})})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[(0,b.jsx)(x.Check,{className:"h-5 w-5 text-green-500"}),"Subscription"]}),(0,b.jsxs)("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-semibold text-lg",children:h.title}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:["month"===h.duration?"Monthly":"Yearly"," subscription"]})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("p",{className:"font-bold text-xl",children:h.price}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:["per ",h.duration]})]})]}),(0,b.jsx)(N,{}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("p",{className:"font-semibold",children:"Total Due Today"}),(0,b.jsx)("p",{className:"font-bold text-xl text-blue-600",children:E?"RM 0.00":`$${h.price}`})]}),E?(0,b.jsx)("div",{className:"bg-blue-50 rounded-lg p-3 mt-3",children:(0,b.jsxs)("p",{className:"text-sm text-blue-700",children:["ðŸ’¡ Your ",h.trialPeriodDays,"-day free trial starts today. You'll be charged RM ",h.price," after your trial ends on the same day each ",h.duration,". You can cancel anytime from your account settings."]})}):(0,b.jsx)("div",{className:"bg-blue-50 rounded-lg p-3 mt-3",children:(0,b.jsxs)("p",{className:"text-sm text-blue-700",children:["ðŸ’¡ Your subscription will automatically renew on the same day each ",h.duration,". You can cancel anytime from your account settings."]})})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-3 mt-7 pt-5 border-t border-border",children:[(0,b.jsxs)(l,{type:"button",variant:"outline",onClick:aR,className:"border-border hover:bg-muted/50 h-11 transition-all duration-300",children:[(0,b.jsx)(y.ChevronLeft,{className:"h-4 w-4 mr-1"}),"Back"]}),(0,b.jsxs)(l,{type:"button",className:"btn-brand-gradient shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.01] active:scale-[0.99] h-11",onClick:aT,disabled:au||!ai&&!ag||ai&&!ak,children:["ðŸ”’ Confirm & Pay ",E?"RM 0.00":`$${h.price}`]})]})]}),"review"!==aa&&(0,b.jsxs)("div",{className:"flex gap-3 mt-7 pt-5 border-t border-border",children:[aO>0&&(0,b.jsxs)(l,{type:"button",variant:"outline",onClick:aR,className:"border-border hover:bg-muted/50 h-11 transition-all duration-300",children:[(0,b.jsx)(y.ChevronLeft,{className:"h-4 w-4 mr-1"}),"Back"]}),(0,b.jsx)(l,{type:"button",className:"btn-brand-gradient h-11",onClick:aQ,disabled:aN||"payment"===aa&&!ai&&!ag||"payment"===aa&&ai&&!ak,children:"billing"===aa?"Continue to Payment â†’":"Continue to Review â†’"})]})]})})})})})}),(0,b.jsx)("div",{className:"lg:col-span-1",children:(0,b.jsx)("div",{className:"lg:sticky lg:top-6 rounded-2xl p-[2px] bg-gradient-to-br from-border/50 via-border/30 to-border/50 shadow-md transition-all duration-500 hover:shadow-lg",children:(0,b.jsxs)(O,{className:"border-0 bg-card/95 backdrop-blur-xl backdrop-saturate-150 shadow-[inset_0_1px_0_rgba(255,255,255,0.95),inset_0_-1px_0_rgba(0,0,0,0.03)] rounded-2xl overflow-hidden relative",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-muted/5 via-transparent to-muted/5 pointer-events-none"}),(0,b.jsxs)(P,{className:"relative bg-gradient-to-br from-accent-base/8 via-accent-base/5 to-transparent border-b border-line-secondary pb-5",children:[(0,b.jsx)(Q,{className:"text-2xl font-black text-brand-gradient tracking-tight",children:"Order Summary"}),(0,b.jsx)(R,{className:"text-fg-tertiary font-medium mt-1.5",children:"Review your subscription details"})]}),(0,b.jsxs)(S,{className:"space-y-4 pt-6 relative",children:[(0,b.jsx)("div",{className:"relative bg-card backdrop-blur-sm border border-border rounded-xl p-4 shadow-sm transition-all duration-300 hover:shadow-md hover:border-border",children:(0,b.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h3",{className:"font-bold text-fg-primary",children:[h.title," Plan"]}),(0,b.jsx)("p",{className:"text-sm text-fg-secondary",children:"Monthly subscription"})]}),(0,b.jsx)("div",{className:"text-right",children:(0,b.jsxs)("div",{className:"font-bold text-fg-primary text-lg",children:[h.price,(0,b.jsxs)("span",{className:"text-xs text-fg-secondary ml-1",children:["/ ",h.duration]})]})})]})}),E&&(0,b.jsxs)("div",{className:"relative overflow-hidden bg-gradient-to-r from-blue-500 via-blue-600 to-cyan-500 text-white px-4 py-3 rounded-xl text-sm font-bold shadow-[0_4px_20px_rgba(59,130,246,0.4)] group",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"}),(0,b.jsxs)("div",{className:"relative flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-xl",children:"ðŸŽ"}),(0,b.jsxs)("span",{className:"tracking-wide",children:[h.trialPeriodDays,"-day free trial included"]})]})]}),(0,b.jsx)(N,{}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-bold mb-4 text-sm uppercase tracking-wider text-fg-primary",children:"What's included"}),(0,b.jsx)("ul",{className:"space-y-3",children:h.features.map((a,c)=>(0,b.jsxs)("li",{className:"flex items-start gap-3 text-sm group",children:[(0,b.jsx)("div",{className:"flex-shrink-0 inline-flex h-5 w-5 items-center justify-center rounded-full bg-gradient-to-br from-primary/15 to-primary/10 border border-primary/30 mt-0.5 transition-all duration-300 group-hover:scale-110 group-hover:shadow-sm group-hover:shadow-primary/20",children:(0,b.jsx)(x.Check,{className:"h-3.5 w-3.5 text-primary",strokeWidth:2.5})}),(0,b.jsx)("span",{className:"text-fg-secondary leading-relaxed font-medium",children:a})]},c))})]}),(0,b.jsx)(N,{className:"bg-blue-100"}),(0,b.jsxs)("div",{children:[(0,b.jsx)(o,{htmlFor:"coupon",className:"text-sm font-bold mb-3 block text-fg-primary uppercase tracking-wider",children:"Promo Code"}),ay?(0,b.jsxs)("div",{className:"flex items-center justify-between bg-gradient-to-r from-emerald-50 via-green-50 to-emerald-50 border border-success/30 rounded-xl px-4 py-3.5 shadow-sm transition-all duration-300 hover:shadow-md hover:border-success/50",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2.5",children:[(0,b.jsx)("div",{className:"bg-gradient-to-br from-green-100 to-emerald-100 rounded-full p-1.5 shadow-sm",children:(0,b.jsx)(z.Tag,{className:"h-3.5 w-3.5 text-green-600"})}),(0,b.jsx)("span",{className:"text-sm font-bold text-green-700 tracking-wide",children:ay.id})]}),(0,b.jsx)(l,{type:"button",variant:"ghost",size:"sm",onClick:()=>{az(null),ax("")},className:"h-8 text-xs font-semibold text-success-foreground hover:bg-success/10 transition-all duration-300 hover:scale-105",children:"Remove"})]}):(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(m,{id:"coupon",placeholder:"Enter code",value:aw,onChange:a=>ax(a.target.value.toUpperCase()),disabled:aA,className:"focus:ring-primary/30"}),(0,b.jsx)(l,{type:"button",variant:"outline",size:"sm",onClick:aU,disabled:!aw.trim()||aA,className:"hover:bg-accent",children:aA?(0,b.jsx)(w.Loader2,{className:"h-4 w-4 animate-spin"}):(0,b.jsx)(z.Tag,{className:"h-4 w-4"})})]})]}),(0,b.jsx)(N,{className:"bg-blue-100"}),(0,b.jsxs)("div",{className:"space-y-3 bg-muted/50 rounded-lg p-4 border border-border",children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-fg-tertiary",children:"Subtotal"}),(0,b.jsxs)("span",{className:"font-medium text-fg-primary",children:["RM ",aV.toFixed(2)]})]}),ay&&(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsxs)("span",{className:"text-green-600 font-medium",children:["Discount (",ay.percent_off||"","%)"]}),(0,b.jsxs)("span",{className:"text-green-600 font-semibold",children:["- RM ",aW.toFixed(2)]})]}),(0,b.jsxs)("div",{className:"flex justify-between text-md font-bold pt-1",children:[(0,b.jsx)("span",{className:"text-fg-primary",children:"Total"}),(0,b.jsxs)("span",{className:"font-medium text-fg-primary",children:["RM ",aX.toFixed(2)]})]}),(0,b.jsx)(N,{className:"bg-border"}),E&&(0,b.jsxs)("div",{className:"flex justify-between text-lg font-bold pt-1",children:[(0,b.jsx)("span",{className:"text-primary",children:"Pay Now"}),(0,b.jsx)("span",{className:"text-primary",children:"RM 0.00"})]}),E&&(0,b.jsxs)("p",{className:"text-xs text-fg-secondary bg-primary/5 rounded-lg p-3 border border-primary/20 font-medium",children:["ðŸ’¡ You'll be charged RM ",aX.toFixed(2)," after your ",h.trialPeriodDays,"-day trial ends"]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2 text-xs text-muted-foreground pt-4 border-t border-border bg-muted/30 -mx-6 px-6 pb-6 -mb-6 rounded-b-lg",children:[(0,b.jsx)("svg",{className:"h-5 w-5 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),(0,b.jsx)("span",{children:"Secure payment powered by Stripe"})]})]})]})})})]})]}),(0,b.jsx)(I.MultiStepLoader,{loadingStates:[{text:"Verifying payment method"},{text:"Creating your subscription"},{text:"Setting up your agency"},{text:"Finalizing your account"}],loading:au,duration:2e3,loop:!1})]})}a.s(["CheckoutForm",()=>Y],639202)}];

//# sourceMappingURL=src_app_site_pricing_checkout_%5BpriceId%5D__components_checkout-form_tsx_b99c3d61._.js.map