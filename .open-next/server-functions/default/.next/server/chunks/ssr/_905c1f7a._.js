module.exports=[976695,a=>{"use strict";let b=(0,a.i(170106).default)("file",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]]);a.s(["FileIcon",()=>b],976695)},676736,a=>{"use strict";let b=a=>a,c=a=>()=>a,d=c(!0),e=c(null),f=c(void 0);function g(a,b,c,d,e,f,g,h,i){switch(arguments.length){case 1:return a;case 2:return b(a);case 3:return c(b(a));case 4:return d(c(b(a)));case 5:return e(d(c(b(a))));case 6:return f(e(d(c(b(a)))));case 7:return g(f(e(d(c(b(a))))));case 8:return h(g(f(e(d(c(b(a)))))));case 9:return i(h(g(f(e(d(c(b(a))))))));default:{let a=arguments[0];for(let b=1;b<arguments.length;b++)a=arguments[b](a);return a}}}a.s(["constNull",0,e,"constTrue",0,d,"constUndefined",0,f,"constVoid",0,f,"dual",0,function(a,b){if("function"==typeof a)return function(){return a(arguments)?b.apply(this,arguments):a=>b(a,...arguments)};switch(a){case 0:case 1:throw RangeError(`Invalid arity ${a}`);case 2:return function(a,c){return arguments.length>=2?b(a,c):function(c){return b(c,a)}};case 3:return function(a,c,d){return arguments.length>=3?b(a,c,d):function(d){return b(d,a,c)}};case 4:return function(a,c,d,e){return arguments.length>=4?b(a,c,d,e):function(e){return b(e,a,c,d)}};case 5:return function(a,c,d,e,f){return arguments.length>=5?b(a,c,d,e,f):function(f){return b(f,a,c,d,e)}};default:return function(){if(arguments.length>=a)return b.apply(this,arguments);let c=arguments;return function(a){return b(a,...c)}}}},"identity",0,b,"isFunction",0,a=>"function"==typeof a,"pipe",()=>g,"unsafeCoerce",0,b])},622453,a=>{"use strict";a.i(676736);let b=a=>(b,c)=>b===c||a(b,c);a.s(["array",0,a=>b((b,c)=>{if(b.length!==c.length)return!1;for(let d=0;d<b.length;d++)if(!a(b[d],c[d]))return!1;return!0}),"make",0,b,"tuple",0,(...a)=>b((b,c)=>{let d=Math.min(b.length,c.length),e=0;for(let f of a){if(e>=d)break;if(!f(b[e],c[e]))return!1;e++}return!0})])},415879,a=>{"use strict";var b=a.i(676736);let c=b.isFunction,d=a=>"object"==typeof a&&null!==a,e=a=>d(a)||c(a),f=(0,b.dual)(2,(a,b)=>e(a)&&b in a),g=(0,b.dual)(2,(a,b)=>f(a,"_tag")&&a._tag===b);a.s(["hasProperty",0,f,"isBoolean",0,a=>"boolean"==typeof a,"isFunction",0,c,"isIterable",0,a=>f(a,Symbol.iterator),"isNullable",0,a=>null==a,"isNumber",0,a=>"number"==typeof a,"isObject",0,e,"isRecord",0,a=>d(a)&&!Array.isArray(a),"isString",0,a=>"string"==typeof a,"isTagged",0,g])},258521,366963,857427,a=>{"use strict";let b;var c=a.i(676736);let d="effect/GlobalValue",e=(a,c)=>(b||(globalThis[d]??=new Map,b=globalThis[d]),b.has(a)||b.set(a,c()),b.get(a));a.s(["globalValue",0,e],366963);var f=a.i(415879);let g=Symbol.for("effect/Gen/GenKind");class h{value;constructor(a){this.value=a}get _F(){return c.identity}get _R(){return a=>a}get _O(){return a=>a}get _E(){return a=>a}[g]=g;[Symbol.iterator](){return new i(this)}}class i{self;called=!1;constructor(a){this.self=a}next(a){return this.called?{value:a,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(a){return{value:a,done:!0}}throw(a){throw a}[Symbol.iterator](){return new i(this.self)}}let j=Symbol.for("effect/Utils/YieldWrap");class k{#a;constructor(a){this.#a=a}[j](){return this.#a}}function l(a){if("object"==typeof a&&null!==a&&j in a)return a[j]();throw Error("BUG: yieldWrapGet - please report an issue at https://github.com/Effect-TS/effect/issues")}let m=e("effect/Utils/isStructuralRegion",()=>({enabled:!1,tester:void 0}));Error().stack?.includes("effect_internal_function"),a.s(["SingleShotGen",()=>i,"YieldWrap",()=>k,"adapter",0,()=>function(){let a=arguments[0];for(let b=1;b<arguments.length;b++)a=arguments[b](a);return new h(a)},"isGenKind",0,a=>(0,f.isObject)(a)&&g in a,"structuralRegionState",0,m,"yieldWrapGet",()=>l],857427);let n=e(Symbol.for("effect/Hash/randomHashCache"),()=>new WeakMap),o=Symbol.for("effect/Hash"),p=a=>{if(!0===m.enabled)return 0;switch(typeof a){case"number":return u(a);case"bigint":return v(a.toString(10));case"boolean":case"symbol":return v(String(a));case"string":return v(a);case"undefined":return v("undefined");case"function":case"object":if(null===a)return v("null");if(a instanceof Date)return p(a.toISOString());if(a instanceof URL)return p(a.href);else if(t(a))return a[o]();else return q(a);default:throw Error(`BUG: unhandled typeof ${typeof a} - please report an issue at https://github.com/Effect-TS/effect/issues`)}},q=a=>(n.has(a)||n.set(a,u(Math.floor(Math.random()*Number.MAX_SAFE_INTEGER))),n.get(a)),r=a=>b=>53*b^a,s=a=>0xbfffffff&a|a>>>1&0x40000000,t=a=>(0,f.hasProperty)(a,o),u=a=>{if(a!=a||a===1/0)return 0;let b=0|a;for(b!==a&&(b^=0xffffffff*a);a>0xffffffff;)b^=a/=0xffffffff;return s(b)},v=a=>{let b=5381,c=a.length;for(;c;)b=33*b^a.charCodeAt(--c);return s(b)};a.s(["cached",0,function(){if(1==arguments.length){let a=arguments[0];return function(b){return Object.defineProperty(a,o,{value:()=>b,enumerable:!1}),b}}let a=arguments[0],b=arguments[1];return Object.defineProperty(a,o,{value:()=>b,enumerable:!1}),b},"combine",0,r,"hash",0,p,"number",0,u,"random",0,q,"string",0,v,"structure",0,a=>((a,b)=>{let d=12289;for(let e=0;e<b.length;e++)d^=(0,c.pipe)(v(b[e]),r(p(a[b[e]])));return s(d)})(a,Object.keys(a)),"symbol",0,o],258521)},876065,3072,903694,a=>{"use strict";var b=a.i(258521),c=a.i(415879),d=a.i(857427);let e=Symbol.for("effect/Equal");function f(){return 1==arguments.length?a=>g(a,arguments[0]):g(arguments[0],arguments[1])}function g(a,c){if(a===c)return!0;let f=typeof a;if(f!==typeof c)return!1;if("object"===f||"function"===f){if(null!==a&&null!==c){if(h(a)&&h(c))if(b.hash(a)===b.hash(c)&&a[e](c))return!0;else return!!d.structuralRegionState.enabled&&!!d.structuralRegionState.tester&&d.structuralRegionState.tester(a,c);else if(a instanceof Date&&c instanceof Date)return a.toISOString()===c.toISOString();else if(a instanceof URL&&c instanceof URL)return a.href===c.href}if(d.structuralRegionState.enabled){if(Array.isArray(a)&&Array.isArray(c))return a.length===c.length&&a.every((a,b)=>g(a,c[b]));if(Object.getPrototypeOf(a)===Object.prototype&&Object.getPrototypeOf(a)===Object.prototype){let b=Object.keys(a),e=Object.keys(c);if(b.length===e.length){for(let e of b)if(!(e in c&&g(a[e],c[e])))return!!d.structuralRegionState.tester&&d.structuralRegionState.tester(a,c);return!0}}return!!d.structuralRegionState.tester&&d.structuralRegionState.tester(a,c)}}return!!d.structuralRegionState.enabled&&!!d.structuralRegionState.tester&&d.structuralRegionState.tester(a,c)}let h=a=>(0,c.hasProperty)(a,e);a.s(["equals",()=>f,"equivalence",0,()=>f,"symbol",0,e],876065);var i=a.i(366963);let j=Symbol.for("nodejs.util.inspect.custom"),k=a=>{try{if((0,c.hasProperty)(a,"toJSON")&&(0,c.isFunction)(a.toJSON)&&0===a.toJSON.length)return a.toJSON();if(Array.isArray(a))return a.map(k)}catch{return{}}return o(a)},l=Symbol.for("effect/Inspectable/Redactable"),m=a=>"object"==typeof a&&null!==a&&l in a,n=(0,i.globalValue)("effect/Inspectable/redactableState",()=>({fiberRefs:void 0})),o=a=>m(a)&&void 0!==n.fiberRefs?a[l](n.fiberRefs):a;a.s(["NodeInspectSymbol",0,j,"format",0,a=>JSON.stringify(a,null,2),"toJSON",0,k,"toStringUnknown",0,(a,b=2)=>{if("string"==typeof a)return a;try{var c,d;let e,f;return"object"==typeof a?(c=a,d=b,e=[],f=JSON.stringify(c,(a,b)=>"object"==typeof b&&null!==b?e.includes(b)?void 0:e.push(b)&&(void 0!==n.fiberRefs&&m(b)?b[l](n.fiberRefs):b):b,d),e=void 0,f):String(a)}catch{return String(a)}}],3072);a.s(["pipeArguments",0,(a,b)=>{switch(b.length){case 0:return a;case 1:return b[0](a);case 2:return b[1](b[0](a));case 3:return b[2](b[1](b[0](a)));case 4:return b[3](b[2](b[1](b[0](a))));case 5:return b[4](b[3](b[2](b[1](b[0](a)))));case 6:return b[5](b[4](b[3](b[2](b[1](b[0](a))))));case 7:return b[6](b[5](b[4](b[3](b[2](b[1](b[0](a)))))));case 8:return b[7](b[6](b[5](b[4](b[3](b[2](b[1](b[0](a))))))));case 9:return b[8](b[7](b[6](b[5](b[4](b[3](b[2](b[1](b[0](a)))))))));default:{let c=a;for(let a=0,d=b.length;a<d;a++)c=b[a](c);return c}}}],903694)},214388,429773,a=>{"use strict";var b=a.i(876065),c=a.i(258521),d=a.i(903694),e=a.i(857427);let f=Symbol.for("effect/Effect"),g=Symbol.for("effect/Stream"),h=Symbol.for("effect/Sink"),i=Symbol.for("effect/Channel"),j={_R:a=>a,_E:a=>a,_A:a=>a,_V:"3.17.7"},k={[f]:j,[g]:j,[h]:{_A:a=>a,_In:a=>a,_L:a=>a,_E:a=>a,_R:a=>a},[i]:{_Env:a=>a,_InErr:a=>a,_InElem:a=>a,_InDone:a=>a,_OutErr:a=>a,_OutElem:a=>a,_OutDone:a=>a},[b.symbol](a){return this===a},[c.symbol](){return c.cached(this,c.random(this))},[Symbol.iterator](){return new e.SingleShotGen(new e.YieldWrap(this))},pipe(){return(0,d.pipeArguments)(this,arguments)}},l={[c.symbol](){return c.cached(this,c.structure(this))},[b.symbol](a){let c=Object.keys(this),d=Object.keys(a);if(c.length!==d.length)return!1;for(let d of c)if(!(d in a&&b.equals(this[d],a[d])))return!1;return!0}},m={...k,_op:"Commit"},n={...m,...l},o=function(){function a(){}return a.prototype=m,a}(),p=function(){function a(){}return a.prototype=n,a}();a.s(["Base",0,o,"ChannelTypeId",0,i,"CommitPrototype",0,m,"EffectPrototype",0,k,"EffectTypeId",0,f,"SinkTypeId",0,h,"StreamTypeId",0,g,"StructuralBase",0,p,"StructuralCommitPrototype",0,n,"StructuralPrototype",0,l,"effectVariance",0,j],214388);var q=a.i(3072),r=a.i(415879);let s=Symbol.for("effect/Option"),t={...k,[s]:{_A:a=>a},[q.NodeInspectSymbol](){return this.toJSON()},toString(){return(0,q.format)(this.toJSON())}},u=Object.assign(Object.create(t),{_tag:"Some",_op:"Some",[b.symbol](a){return x(a)&&z(a)&&b.equals(this.value,a.value)},[c.symbol](){return c.cached(this,c.combine(c.hash(this._tag))(c.hash(this.value)))},toJSON(){return{_id:"Option",_tag:this._tag,value:(0,q.toJSON)(this.value)}}}),v=c.hash("None"),w=Object.assign(Object.create(t),{_tag:"None",_op:"None",[b.symbol]:a=>x(a)&&y(a),[c.symbol]:()=>v,toJSON(){return{_id:"Option",_tag:this._tag}}}),x=a=>(0,r.hasProperty)(a,s),y=a=>"None"===a._tag,z=a=>"Some"===a._tag,A=Object.create(w);a.s(["isNone",0,y,"isOption",0,x,"isSome",0,z,"none",0,A,"some",0,a=>{let b=Object.create(u);return b.value=a,b}],429773)},536350,85697,883286,a=>{"use strict";a.i(622453);var b=a.i(676736);a.s(["bind",0,(a,c)=>(0,b.dual)(3,(b,d,e)=>c(b,b=>a(e(b),a=>({...b,[d]:a})))),"bindTo",0,a=>(0,b.dual)(2,(b,c)=>a(b,a=>({[c]:a}))),"let_",0,a=>(0,b.dual)(3,(b,c,d)=>a(b,a=>({...a,[c]:d(a)})))],85697);var c=a.i(876065),d=a.i(258521),e=a.i(3072),f=a.i(415879),g=a.i(214388),h=a.i(429773);let i=Symbol.for("effect/Either"),j={...g.EffectPrototype,[i]:{_R:a=>a},[e.NodeInspectSymbol](){return this.toJSON()},toString(){return(0,e.format)(this.toJSON())}},k=Object.assign(Object.create(j),{_tag:"Right",_op:"Right",[c.symbol](a){return m(a)&&o(a)&&c.equals(this.right,a.right)},[d.symbol](){return d.combine(d.hash(this._tag))(d.hash(this.right))},toJSON(){return{_id:"Either",_tag:this._tag,right:(0,e.toJSON)(this.right)}}}),l=Object.assign(Object.create(j),{_tag:"Left",_op:"Left",[c.symbol](a){return m(a)&&n(a)&&c.equals(this.left,a.left)},[d.symbol](){return d.combine(d.hash(this._tag))(d.hash(this.left))},toJSON(){return{_id:"Either",_tag:this._tag,left:(0,e.toJSON)(this.left)}}}),m=a=>(0,f.hasProperty)(a,i),n=a=>"Left"===a._tag,o=a=>"Right"===a._tag,p=a=>{let b=Object.create(l);return b.left=a,b},q=a=>{let b=Object.create(k);return b.right=a,b},r=a=>o(a)?h.none:h.some(a.left),s=a=>n(a)?h.none:h.some(a.right),t=(0,b.dual)(2,(a,b)=>h.isNone(a)?p(b()):q(a.value));a.s(["TypeId",0,i,"fromOption",0,t,"getLeft",0,r,"getRight",0,s,"isEither",0,m,"isLeft",0,n,"isRight",0,o,"left",0,p,"right",0,q],883286),a.i(857427);let u=a=>{if((0,f.isFunction)(a))try{return q(a())}catch(a){return p(a)}try{return q(a.try())}catch(b){return p(a.catch(b))}},v=(0,b.dual)(2,(a,b)=>o(a)?q(b(a.right)):p(a.left));b.identity,b.identity,b.constNull,b.constUndefined;let w=(0,b.dual)(2,(a,b)=>n(a)?p(a.left):b(a.right));(a,b,c)=>w(a,a=>v(b,b=>c(a,b))),a.s(["getLeft",0,r,"getRight",0,s,"isLeft",0,n,"isRight",0,o,"left",0,p,"map",0,v,"right",0,q,"try",()=>u],536350)},524263,852845,a=>{"use strict";var b=a.i(536350),c=a.i(876065),d=a.i(622453),e=a.i(676736);let f=a=>a.length>0;a.i(85697);var g=a.i(883286),h=a.i(429773);a.i(857427);let i=()=>h.none,j=h.some,k=(h.isOption,h.isNone),l=h.isSome;g.getRight,g.getLeft,e.constNull,e.constUndefined;let m=(0,e.dual)(2,(a,b)=>k(a)?i():j(b(a.value))),n=(0,e.dual)(2,(a,b)=>k(a)?i():b(a.value));e.identity,(a,b)=>n(a,a=>m(b(a),()=>a));let o=(0,e.dual)(3,(a,b,c)=>m(l(a)&&l(b)?j([a.value,b.value]):i(),([a,b])=>c(a,b)));a.s(["isNone",0,k,"isSome",0,l,"map",0,m,"none",0,i,"some",0,j,"toArray",0,a=>k(a)?[]:[a.value],"zipWith",0,o],852845),a.i(415879);d.tuple,(a,b)=>p(b,a);let p=(0,e.dual)(2,(a,b)=>({[Symbol.iterator](){let c,d=a[Symbol.iterator](),e=!1;return{next(){if(!e){let a=d.next();return a.done?(e=!0,(c=b[Symbol.iterator]()).next()):a}return c.next()}}}}));(a,b,c)=>({[Symbol.iterator](){let d=a[Symbol.iterator](),e=b[Symbol.iterator]();return{next(){let a=d.next(),b=e.next();return a.done||b.done?{done:!0,value:void 0}:{done:!1,value:c(a.value,b.value)}}}}});let q=(0,e.dual)(2,(a,b)=>({[Symbol.iterator](){let c=a[Symbol.iterator](),d=0;return{next(){let a=c.next();return a.done?{done:!0,value:void 0}:{done:!1,value:b(a.value,d++)}}}}})),r=(0,e.dual)(2,(a,b)=>s(q(a,b))),s=a=>({[Symbol.iterator](){let b,c=a[Symbol.iterator]();return{next:function a(){if(void 0===b){let a=c.next();if(a.done)return a;b=a.value[Symbol.iterator]()}let d=b.next();return d.done?(b=void 0,a()):d}}}});(a,b)=>({[Symbol.iterator](){let c=a[Symbol.iterator](),d=0;return{next(){let a=c.next();for(;!a.done;){let e=b(a.value,d++);if(l(e))return{done:!1,value:e.value};a=c.next()}return{done:!0,value:void 0}}}}}),e.identity;(a,b,c)=>r(a,a=>q(b,b=>c(a,b)));let t=(0,e.dual)(2,(a,b)=>Object.prototype.hasOwnProperty.call(a,b));(a,b,c)=>t(a,b)?j({...a,[b]:c(a[b])}):i(),(a,b)=>{if(!t(a,b))return{...a};let c={...a};return delete c[b],c};e.identity,e.identity;let u=((a,b)=>{let c=Math.max(1,Math.floor(a)),d=Array(c);for(let a=0;a<c;a++)d[a]=b(a);return d},a=>Array.isArray(a)?a:Array.from(a)),v=(0,e.dual)(2,(a,b)=>[b,...a]),w=(0,e.dual)(2,(a,b)=>[...a,b]),x=(0,e.dual)(2,(a,b)=>u(a).concat(u(b))),y=(a,b)=>a<0||a>=b.length,z=(0,e.dual)(2,(a,b)=>{let c=Math.floor(b);if(y(c,a))throw Error(`Index ${c} out of bounds`);return a[c]})(0),A=((a,b)=>{let c=u(a);return c.slice(0,Math.floor(Math.min(Math.max(0,b),c.length)))},(0,e.dual)(2,(a,b)=>{let c=u(a);if(f(c)){let d=c.length,e=Math.round(b)%d;if(y(Math.abs(e),c)||0===e)return E(c);if(!(e<0))return A(a,e-d);{let[a,b]=D(c,-e);return x(b,a)}}return[]})),B=(0,e.dual)(2,(a,b)=>{let c=u(a);if(f(c)){let[a,d]=b(c),e=[a],g=d;for(;f(g);){let[a,c]=b(g);e.push(a),g=c}return e}return[]}),C=(0,e.dual)(2,(a,b)=>{let c=Array.from(a),d=Math.floor(b);return f(c)?d>=1?D(c,d):[[],c]:[c,[]]}),D=(0,e.dual)(2,(a,b)=>{let c=Math.max(1,Math.floor(b));return c>=a.length?[E(a),[]]:[v(a.slice(1,c),z(a)),a.slice(c)]}),E=a=>a.slice();(a,b)=>{let c=u(a);return f(c)?B(c,D(b)):[]};(a,b,c)=>{let d=u(a),e=u(b);return f(d)?f(e)?H(c)(x(d,e)):d:e};let F=(0,e.dual)(2,(a,b)=>a.map(b)),G=(0,e.dual)(2,(a,b)=>{if(0===a.length)return[];let c=[];for(let d=0;d<a.length;d++){let e=b(a[d],d);for(let a=0;a<e.length;a++)c.push(e[a])}return c});e.identity,e.identity,e.identity,d.array;let H=(0,e.dual)(2,(a,b)=>{let c=u(a);if(f(c)){let a=[z(c)];for(let d of c.slice(1))a.every(a=>!b(d,a))&&a.push(d);return a}return[]});(a,b,c)=>G(a,a=>F(b,b=>c(a,b))),a.s(["ensure",0,a=>Array.isArray(a)?a:[a],"fromIterable",0,u],524263)},133698,585393,a=>{"use strict";var b=a.i(876065),c=a.i(676736),d=a.i(366963),e=a.i(258521),f=a.i(3072),g=a.i(903694),h=a.i(415879),i=a.i(214388),j=a.i(429773);let k=Symbol.for("effect/Context/Tag"),l=Symbol.for("effect/Context/Reference"),m=Symbol.for("effect/STM"),n={...i.EffectPrototype,_op:"Tag",[m]:i.effectVariance,[k]:{_Service:a=>a,_Identifier:a=>a},toString(){return(0,f.format)(this.toJSON())},toJSON(){return{_id:"Tag",key:this.key,stack:this.stack}},[f.NodeInspectSymbol](){return this.toJSON()},of:a=>a,context(a){return y(this,a)}},o={...n,[l]:l},p=a=>{let b=Error.stackTraceLimit;Error.stackTraceLimit=2;let c=Error();Error.stackTraceLimit=b;let d=Object.create(n);return Object.defineProperty(d,"stack",{get:()=>c.stack}),d.key=a,d},q=a=>()=>{let b=Error.stackTraceLimit;Error.stackTraceLimit=2;let c=Error();function d(){}return Error.stackTraceLimit=b,Object.setPrototypeOf(d,n),d.key=a,Object.defineProperty(d,"stack",{get:()=>c.stack}),d},r=()=>(a,b)=>{let c=Error.stackTraceLimit;Error.stackTraceLimit=2;let d=Error();function e(){}return Error.stackTraceLimit=c,Object.setPrototypeOf(e,o),e.key=a,e.defaultValue=b.defaultValue,Object.defineProperty(e,"stack",{get:()=>d.stack}),e},s=Symbol.for("effect/Context"),t={[s]:{_Services:a=>a},[b.symbol](a){if(v(a)&&this.unsafeMap.size===a.unsafeMap.size){for(let c of this.unsafeMap.keys())if(!a.unsafeMap.has(c)||!b.equals(this.unsafeMap.get(c),a.unsafeMap.get(c)))return!1;return!0}return!1},[e.symbol](){return e.cached(this,e.number(this.unsafeMap.size))},pipe(){return(0,g.pipeArguments)(this,arguments)},toString(){return(0,f.format)(this.toJSON())},toJSON(){return{_id:"Context",services:Array.from(this.unsafeMap).map(f.toJSON)}},[f.NodeInspectSymbol](){return this.toJSON()}},u=a=>{let b=Object.create(t);return b.unsafeMap=a,b},v=a=>(0,h.hasProperty)(a,s),w=a=>(0,h.hasProperty)(a,l),x=u(new Map),y=(a,b)=>u(new Map([[a.key,b]])),z=(0,c.dual)(3,(a,b,c)=>{let d=new Map(a.unsafeMap);return d.set(b.key,c),u(d)}),A=(0,d.globalValue)("effect/Context/defaultValueCache",()=>new Map),B=a=>{if(A.has(a.key))return A.get(a.key);let b=a.defaultValue();return A.set(a.key,b),b},C=(0,c.dual)(2,(a,b)=>{if(!a.unsafeMap.has(b.key)){if(l in b)return B(b);throw(a=>{let b=Error(`Service not found${a.key?`: ${String(a.key)}`:""}`);if(a.stack){let c=a.stack.split("\n");if(c.length>2){let a=c[2].match(/at (.*)/);a&&(b.message=b.message+` (defined at ${a[1]})`)}}if(b.stack){let a=b.stack.split("\n");a.splice(1,3),b.stack=a.join("\n")}return b})(b)}return a.unsafeMap.get(b.key)}),D=(0,c.dual)(3,(a,b,c)=>a.unsafeMap.has(b.key)?a.unsafeMap.get(b.key):w(b)?B(b):c()),E=(0,c.dual)(2,(a,b)=>a.unsafeMap.has(b.key)?j.some(a.unsafeMap.get(b.key)):w(b)?j.some(B(b)):j.none),F=(0,c.dual)(2,(a,b)=>{let c=new Map(a.unsafeMap);for(let[a,d]of b.unsafeMap)c.set(a,d);return u(c)});a.s(["Reference",0,r,"ReferenceTypeId",0,l,"Tag",0,q,"TagTypeId",0,k,"TypeId",0,s,"add",0,z,"empty",0,()=>x,"get",0,C,"getOption",0,E,"getOrElse",0,D,"isContext",0,v,"isReference",0,w,"isTag",0,a=>(0,h.hasProperty)(a,k),"make",0,y,"makeContext",0,u,"makeGenericTag",0,p,"merge",0,F,"mergeAll",0,(...a)=>{let b=new Map;for(let c of a)for(let[a,d]of c.unsafeMap)b.set(a,d);return u(b)},"omit",0,(...a)=>b=>{let c=new Map(b.unsafeMap);for(let b of a)c.delete(b.key);return u(c)},"pick",0,(...a)=>b=>{let c=new Set(a.map(a=>a.key)),d=new Map;for(let[a,e]of b.unsafeMap.entries())c.has(a)&&d.set(a,e);return u(d)},"unsafeGet",0,C,"unsafeGetReference",0,(a,b)=>a.unsafeMap.has(b.key)?a.unsafeMap.get(b.key):B(b)],585393),a.s(["GenericTag",0,p,"Reference",0,r,"Tag",0,q,"add",0,z,"getOption",0,E,"merge",0,F,"unsafeGet",0,C],133698)},38971,a=>{"use strict";var b=a.i(524263),c=a.i(133698),d=a.i(214388);d.EffectTypeId,d.StreamTypeId,d.SinkTypeId,d.ChannelTypeId;let e=d.EffectPrototype;d.CommitPrototype,d.StructuralCommitPrototype,d.Base,d.StructuralBase,a.i(536350);var f=a.i(876065),g=a.i(676736),h=a.i(366963),i=a.i(258521),j=a.i(3072),k=a.i(585393);a.i(85697);var l=a.i(852845),m=a.i(903694),n=a.i(415879),o=a.i(857427);let p=Symbol.for("effect/Micro"),q=Symbol.for("effect/Micro/MicroExit"),r=a=>"object"==typeof a&&null!==a&&p in a,s=Symbol.for("effect/Micro/MicroCause"),t={_E:g.identity};class u extends globalThis.Error{_tag;traces;[s];constructor(a,b,c){let d,e,f;const g=`MicroCause.${a}`;if(b instanceof globalThis.Error){d=`(${g}) ${b.name}`;const a=(e=b.message).split("\n").length;f=b.stack?`(${g}) ${b.stack.split("\n").slice(0,a+3).join("\n")}`:`${d}: ${e}`}else d=g,e=(0,j.toStringUnknown)(b,0),f=`${d}: ${e}`;c.length>0&&(f+=`
    ${c.join("\n    ")}`),super(e),this._tag=a,this.traces=c,this[s]=t,this.name=d,this.stack=f}pipe(){return(0,m.pipeArguments)(this,arguments)}toString(){return this.stack}[j.NodeInspectSymbol](){return this.stack}}class v extends u{error;constructor(a,b=[]){super("Fail",a,b),this.error=a}}let w=(a,b=[])=>new v(a,b);class x extends u{defect;constructor(a,b=[]){super("Die",a,b),this.defect=a}}let y=(a,b=[])=>new x(a,b);class z extends u{constructor(a=[]){super("Interrupt","interrupted",a)}}let A=(a=[])=>new z(a),B=a=>"Fail"===a._tag,C=a=>"Interrupt"===a._tag,D=(0,g.dual)(2,(a,b)=>{let c=[...a.traces,b];switch(a._tag){case"Die":return y(a.defect,c);case"Interrupt":return A(c);case"Fail":return w(a.error,c)}}),E=Symbol.for("effect/Micro/MicroFiber"),F={_A:g.identity,_E:g.identity};class G{context;interruptible;[E];_stack=[];_observers=[];_exit;_children;currentOpCount=0;constructor(a,b=!0){this.context=a,this.interruptible=b,this[E]=F}getRef(a){return k.unsafeGetReference(this.context,a)}addObserver(a){return this._exit?(a(this._exit),g.constVoid):(this._observers.push(a),()=>{let b=this._observers.indexOf(a);b>=0&&this._observers.splice(b,1)})}_interrupted=!1;unsafeInterrupt(){!this._exit&&(this._interrupted=!0,this.interruptible&&this.evaluate(as))}unsafePoll(){return this._exit}evaluate(a){if(this._exit)return;if(void 0!==this._yielded){let a=this._yielded;this._yielded=void 0,a()}let b=this.runLoop(a);if(b===P)return;let c=H.interruptChildren&&H.interruptChildren(this);if(void 0!==c)return this.evaluate(am(c,()=>b));this._exit=b;for(let a=0;a<this._observers.length;a++)this._observers[a](b);this._observers.length=0}runLoop(a){let b=!1,c=a;this.currentOpCount=0;try{for(;;){if(this.currentOpCount++,!b&&this.getRef(aD).shouldYield(this)){b=!0;let a=c;c=am(_,()=>a)}if((c=c[L](this))===P){let a=this._yielded;if(q in a)return this._yielded=void 0,a;return P}}}catch(a){if(!(0,n.hasProperty)(c,L))return at(`MicroFiber.runLoop: Not a valid effect: ${String(c)}`);return at(a)}}getCont(a){for(;;){let b=this._stack.pop();if(!b)return;let c=b[O]&&b[O](this);if(c)return{[a]:c};if(b[a])return b}}_yielded=void 0;yieldWith(a){return this._yielded=a,P}children(){return this._children??=new Set}}let H=(0,h.globalValue)("effect/Micro/fiberMiddleware",()=>({interruptChildren:void 0})),I=a=>$(()=>{for(let b of a)b.unsafeInterrupt();let b=a[Symbol.iterator](),c=$(()=>{let a=b.next();for(;!a.done;){if(a.value.unsafePoll()){a=b.next();continue}let d=a.value;return af(a=>{d.addObserver(b=>{a(c)})})}return av});return c}),J=Symbol.for("effect/Micro/identifier"),K=Symbol.for("effect/Micro/args"),L=Symbol.for("effect/Micro/evaluate"),M=Symbol.for("effect/Micro/successCont"),N=Symbol.for("effect/Micro/failureCont"),O=Symbol.for("effect/Micro/ensureCont"),P=Symbol.for("effect/Micro/Yield"),Q={_A:g.identity,_E:g.identity,_R:g.identity},R={...e,_op:"Micro",[p]:Q,pipe(){return(0,m.pipeArguments)(this,arguments)},[Symbol.iterator](){return new o.SingleShotGen(new o.YieldWrap(this))},toJSON(){return{_id:"Micro",op:this[J],...K in this?{args:this[K]}:void 0}},toString(){return(0,j.format)(this)},[j.NodeInspectSymbol](){return(0,j.format)(this)}};function S(a){return at("Micro.evaluate: Not implemented")}let T=a=>({...R,[J]:a.op,[L]:a.eval??S,[M]:a.contA,[N]:a.contE,[O]:a.ensure}),U=a=>{let b=T(a);return function(){let c=Object.create(b);return c[K]=!1===a.single?arguments:arguments[0],c}},V=a=>{let b={...T(a),[q]:q,_tag:a.op,get[a.prop](){return this[K]},toJSON(){return{_id:"MicroExit",_tag:a.op,[a.prop]:this[K]}},[f.symbol](b){return ap(b)&&b._tag===a.op&&f.equals(this[K],b[K])},[i.symbol](){return i.cached(this,i.combine(i.string(a.op))(i.hash(this[K])))}};return function(a){let c=Object.create(b);return c[K]=a,c[M]=void 0,c[N]=void 0,c[O]=void 0,c}},W=V({op:"Success",prop:"value",eval(a){let b=a.getCont(M);return b?b[M](this[K],a):a.yieldWith(this)}}),X=V({op:"Failure",prop:"cause",eval(a){let b=a.getCont(N);for(;C(this[K])&&b&&a.interruptible;)b=a.getCont(N);return b?b[N](this[K],a):a.yieldWith(this)}}),Y=a=>X(w(a)),Z=U({op:"Sync",eval(a){let b=this[K](),c=a.getCont(M);return c?c[M](b,a):a.yieldWith(aq(b))}}),$=U({op:"Suspend",eval(a){return this[K]()}}),_=U({op:"Yield",eval(a){let b=!1;return a.getRef(aD).scheduleTask(()=>{b||a.evaluate(av)},this[K]??0),a.yieldWith(()=>{b=!0})}})(0),aa=W(void 0),ab=a=>$(()=>{try{return W(a.try())}catch(b){return Y(a.catch(b))}}),ac=U({op:"WithMicroFiber",eval(a){return this[K](a)}}),ad=U({op:"Async",single:!1,eval(a){let b=this[K][0],c=!1,d=!1,e=this[K][1]?new AbortController:void 0,f=b(b=>{c||(c=!0,d?a.evaluate(b):d=b)},e?.signal);return!1!==d?d:(d=!0,a._yielded=()=>{c=!0},void 0===e&&void 0===f||a._stack.push(ae(()=>(c=!0,e?.abort(),f??av))),P)}}),ae=U({op:"AsyncFinalizer",ensure(a){a.interruptible&&(a.interruptible=!1,a._stack.push(aX(!0)))},contE(a,b){return C(a)?am(this[K](),()=>X(a)):X(a)}}),af=a=>ad(a,a.length>=2),ag=U({op:"Iterator",contA(a,b){let c=this[K].next(a);return c.done?W(c.value):(b._stack.push(this),(0,o.yieldWrapGet)(c.value))},eval(a){return this[M](void 0,a)}}),ah=(0,g.dual)(2,(a,b)=>ao(a,a=>b)),ai=(0,g.dual)(2,(a,b)=>am(a,a=>{let c=r(b)?b:"function"==typeof b?b(a):b;return r(c)?c:W(c)})),aj=(0,g.dual)(2,(a,b)=>am(a,a=>{let c=r(b)?b:"function"==typeof b?b(a):b;return r(c)?ah(c,a):W(a)})),ak=a=>aQ(a,{onFailure:ar,onSuccess:aq}),al=(0,g.dual)(2,(a,b)=>{let c;return c=[a,b],ac(a=>af(b=>{let d=!1,e=new Set,f=a=>{d=!0,b(0===e.size?a:am(I(e),()=>a))};for(let b of c){if(d)break;let c=a1(a,aY(b),!0,!0);e.add(c),c.addObserver(a=>{e.delete(c),f(a)})}return I(e)}))}),am=(0,g.dual)(2,(a,b)=>{let c=Object.create(an);return c[K]=a,c[M]=b,c}),an=T({op:"OnSuccess",eval(a){return a._stack.push(this),this[K]}}),ao=(0,g.dual)(2,(a,b)=>am(a,a=>W(b(a)))),ap=a=>(0,n.hasProperty)(a,q),aq=W,ar=X,as=ar(A()),at=a=>ar(y(a)),au=a=>"Failure"===a._tag,av=aq(void 0),aw=a=>{for(let b of a)if("Failure"===b._tag)return b;return av},ax="setImmediate"in globalThis?globalThis.setImmediate:a=>setTimeout(a,0);class ay{tasks=[];running=!1;scheduleTask(a,b){this.tasks.push(a),this.running||(this.running=!0,ax(this.afterScheduled))}afterScheduled=()=>{this.running=!1,this.runTasks()};runTasks(){let a=this.tasks;this.tasks=[];for(let b=0,c=a.length;b<c;b++)a[b]()}shouldYield(a){return a.currentOpCount>=a.getRef(aB)}flush(){for(;this.tasks.length>0;)this.runTasks()}}let az=(0,g.dual)(2,(a,b)=>ac(c=>{let d=c.context;return c.context=b(d),aU(a,()=>(c.context=d,aa))})),aA=(0,g.dual)(3,(a,b,d)=>az(a,c.add(b,d)));class aB extends c.Reference()("effect/Micro/currentMaxOpsBeforeYield",{defaultValue:()=>2048}){}class aC extends c.Reference()("effect/Micro/currentConcurrency",{defaultValue:()=>"unbounded"}){}class aD extends c.Reference()("effect/Micro/currentScheduler",{defaultValue:()=>new ay}){}a=>r(a[1]),(a,b,c,d)=>d?.concurrent?ao(a$([a,b],{concurrency:2}),([a,b])=>c(a,b)):am(a,a=>ao(b,b=>c(a,b)));let aE=(0,g.dual)(a=>r(a[0]),(a,b,c)=>am(a,a=>b(a)?W(a):Y(c(a)))),aF=((a,b)=>$(()=>{let c=b.schedule?Date.now():0,d=0,e=am(ak(a),a=>{if(void 0!==b.while&&!b.while(a)||void 0!==b.times&&d>=b.times)return a;d++;let f=_;if(void 0!==b.schedule){let e=Date.now()-c,g=b.schedule(d,e);if(l.isNone(g))return a;f=aR(g.value)}return am(f,()=>e)});return e}),(0,g.dual)(2,(a,b)=>{let c=Object.create(aG);return c[K]=a,c[N]=b,c})),aG=T({op:"OnFailure",eval(a){return a._stack.push(this),this[K]}}),aH=(0,g.dual)(3,(a,b,c)=>aF(a,a=>b(a)?c(a):X(a))),aI=(0,g.dual)(2,(a,b)=>aH(a,B,a=>b(a.error))),aJ=(0,g.dual)(3,(a,b,c)=>aH(a,b,a=>ai(c(a),X(a)))),aK=(0,g.dual)(2,(a,b)=>aJ(a,B,a=>b(a.error))),aL=(0,g.dual)(3,(a,b,c)=>aH(a,a=>B(a)&&b(a.error),a=>c(a.error))),aM=(0,g.dual)(3,(a,b,c)=>aL(a,(0,n.isTagged)(b),c)),aN=(0,g.dual)(2,(a,b)=>aI(a,a=>Z(b))),aO=(0,g.dual)(2,(a,b)=>{let c=Object.create(aP);return c[K]=a,c[M]=b.onSuccess,c[N]=b.onFailure,c}),aP=T({op:"OnSuccessAndFailure",eval(a){return a._stack.push(this),this[K]}}),aQ=(0,g.dual)(2,(a,b)=>aO(a,{onFailure:a=>Z(()=>b.onFailure(a)),onSuccess:a=>Z(()=>b.onSuccess(a))})),aR=((a,b)=>aO(a,{onFailure:a=>"Fail"===a._tag?b.onFailure(a.error):X(a),onSuccess:b.onSuccess}),a=>af(b=>{let c=setTimeout(()=>{b(aa)},a);return Z(()=>{clearTimeout(c)})})),aS=((a,b)=>al(a,ai(aY(aR(b.duration)),b.onTimeout)),Symbol.for("effect/Micro/MicroScope"));class aT{[aS];state={_tag:"Open",finalizers:new Set};constructor(){this[aS]=aS}unsafeAddFinalizer(a){"Open"===this.state._tag&&this.state.finalizers.add(a)}addFinalizer(a){return $(()=>"Open"===this.state._tag?(this.state.finalizers.add(a),aa):a(this.state.exit))}unsafeRemoveFinalizer(a){"Open"===this.state._tag&&this.state.finalizers.delete(a)}close(a){return $(()=>{if("Open"===this.state._tag){let b=Array.from(this.state.finalizers).reverse();return this.state={_tag:"Closed",exit:a},am(a0(b,b=>ak(b(a))),aw)}return aa})}get fork(){return Z(()=>{let a=new aT;if("Closed"===this.state._tag)return a.state=this.state,a;function b(b){return a.close(b)}return this.state.finalizers.add(b),a.unsafeAddFinalizer(a=>Z(()=>this.unsafeRemoveFinalizer(b))),a})}}let aU=(0,g.dual)(2,(a,b)=>aZ(c=>aO(c(a),{onFailure:a=>am(b(ar(a)),()=>X(a)),onSuccess:a=>am(b(aq(a)),()=>W(a))}))),aV=(0,g.dual)(3,(a,b,c)=>aU(a,a=>b(a)?c(a):av)),aW=(0,g.dual)(2,(a,b)=>aV(a,au,a=>b(a.cause))),aX=U({op:"SetInterruptible",ensure(a){if(a.interruptible=this[K],a._interrupted&&a.interruptible)return()=>as}}),aY=a=>ac(b=>b.interruptible?a:(b.interruptible=!0,b._stack.push(aX(!1)),b._interrupted)?as:a),aZ=a=>ac(b=>b.interruptible?(b.interruptible=!1,b._stack.push(aX(!0)),a(aY)):a(g.identity)),a$=(a,b)=>Array.isArray(a)||(0,n.isIterable)(a)?a0(a,g.identity,b):b?.discard?a0(Object.values(a),g.identity,b):$(()=>{let c={};return ah(a0(Object.entries(a),([a,b])=>ao(b,b=>{c[a]=b}),{discard:!0,concurrency:b?.concurrency}),c)}),a_=U({op:"While",contA(a,b){return(this[K].step(a),this[K].while())?(b._stack.push(this),this[K].body()):av},eval(a){return this[K].while()?(a._stack.push(this),this[K].body()):av}}),a0=(a,c,d)=>ac(e=>{let f=d?.concurrency==="inherit"?e.getRef(aC):d?.concurrency??1,g="unbounded"===f?1/0:Math.max(1,f),h=b.fromIterable(a),i=h.length;if(0===i)return d?.discard?aa:W([]);let j=d?.discard?void 0:Array(i),k=0;return 1===g?ah(a_({while:()=>k<h.length,body:()=>c(h[k],k),step:j?a=>j[k++]=a:a=>k++}),j):af(a=>{let b,d=new Set,f=0,l=0,m=!1,n=!1;return!function o(){for(m=!0;f<g&&k<i;){let p=k,q=h[p];k++,f++;try{let h=a1(e,c(q,p),!0,!0);d.add(h),h.addObserver(c=>{d.delete(h),n||("Failure"===c._tag?void 0===b&&(b=c,i=k,d.forEach(a=>a.unsafeInterrupt())):void 0!==j&&(j[p]=c.value),l++,f--,l===i?a(b??W(j)):!m&&f<g&&o())})}catch(a){b=at(a),i=k,d.forEach(a=>a.unsafeInterrupt())}}m=!1}(),$(()=>(n=!0,k=i,I(d)))})}),a1=(a,b,c=!1,d=!1)=>{let e=new G(a.context,a.interruptible);return d||(a.children().add(e),e.addObserver(()=>a.children().delete(e))),c?e.evaluate(b):a.getRef(aD).scheduleTask(()=>e.evaluate(b),0),e},a2=(a,b)=>{let c=new G(aD.context(b?.scheduler??new ay));if(c.evaluate(a),b?.signal)if(b.signal.aborted)c.unsafeInterrupt();else{let a=()=>c.unsafeInterrupt();b.signal.addEventListener("abort",a,{once:!0}),c.addObserver(()=>b.signal.removeEventListener("abort",a))}return c},a3=(a,b)=>new Promise((c,d)=>{a2(a,b).addObserver(c)}),a4=function(){class a extends globalThis.Error{}return Object.assign(a.prototype,R,d.StructuralPrototype,{[J]:"Failure",[L](){return Y(this)},toString(){return this.message?`${this.name}: ${this.message}`:this.name},toJSON(){return{...this}},[j.NodeInspectSymbol](){let a=this.stack;return a?`${this.toString()}
${a.split("\n").slice(1).join("\n")}`:this.toString()}}),a}(),a5=class extends a4{constructor(a){super(),a&&Object.assign(this,a)}},a6=a=>{class b extends a5{_tag=a}return b.prototype.name=a,b};a.s(["Error",0,a5,"TaggedError",0,a6,"andThen",0,ai,"async",0,af,"catchTag",0,aM,"causeSquash",0,a=>"Fail"===a._tag?a.error:"Die"===a._tag?a.defect:a,"fail",0,Y,"filterOrFail",0,aE,"flatMap",0,am,"forEach",0,a0,"fromEither",0,a=>"Right"===a._tag?W(a.right):Y(a.left),"gen",0,(...a)=>$(()=>ag(1===a.length?a[0]():a[1].call(a[0]))),"map",0,ao,"orElseSucceed",0,aN,"promise",0,a=>ad(function(b,c){a(c).then(a=>b(W(a)),a=>b(at(a)))},0!==a.length),"provideService",0,aA,"runPromise",0,(a,b)=>a3(a,b).then(a=>{if("Failure"===a._tag)throw a.cause;return a.value}),"runPromiseExit",0,a3,"runSync",0,a=>{let b,c,d=(c=a2(a,{scheduler:b=new ay}),b.flush(),c._exit??at(c));if("Failure"===d._tag)throw d.cause;return d.value},"service",0,a=>ac(b=>W(c.unsafeGet(b.context,a))),"succeed",0,W,"sync",0,Z,"tap",0,aj,"tapError",0,aK,"try",()=>ab,"tryPromise",0,a=>ad(function(b,c){try{a.try(c).then(a=>b(W(a)),c=>b(Y(a.catch(c))))}catch(c){b(Y(a.catch(c)))}},0!==a.try.length),"withTrace",0,function(){let a=globalThis.Error.stackTraceLimit;globalThis.Error.stackTraceLimit=2;let b=new globalThis.Error;globalThis.Error.stackTraceLimit=a;let c=a=>c=>aW(c,c=>X(function(a,c){let d=b.stack;if(!d)return c;let e=d.split("\n")[2]?.trim().replace(/^at /,"");if(!e)return c;let f=e.match(/\((.*)\)$/);return D(c,`at ${a} (${f?f[1]:e})`)}(a,c)));return 2==arguments.length?c(arguments[1])(arguments[0]):c(arguments[0])}],38971)},452089,a=>{"use strict";var b=a.i(536350),c=a.i(415879);let d=Symbol.for("effect/Encoding/errors/Decode"),e=(a,b)=>{let e={_tag:"DecodeException",[d]:d,input:a};return(0,c.isString)(b)&&(e.message=b),e},f=new TextEncoder,g=a=>{let b="";for(let c=0;c<a.length;++c)b+=h[a[c]];return b},h=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],i=a=>{if(48<=a&&a<=57)return a-48;if(97<=a&&a<=102)return a-97+10;if(65<=a&&a<=70)return a-65+10;throw TypeError("Invalid input")};a.s(["decodeHex",0,a=>(a=>{let c=new TextEncoder().encode(a);if(c.length%2!=0)return b.left(e(a,`Length must be a multiple of 2, but is ${c.length}`));try{let a=c.length/2,d=new Uint8Array(a);for(let b=0;b<a;b++){let a=i(c[2*b]),e=i(c[2*b+1]);d[b]=a<<4|e}return b.right(d)}catch(c){return b.left(e(a,c instanceof Error?c.message:"Invalid input"))}})(a),"encodeHex",0,a=>"string"==typeof a?g(f.encode(a)):g(a)],452089)},258046,a=>{"use strict";a.i(622453);var b=a.i(876065);a.i(676736);var c=a.i(366963),d=a.i(258521),e=a.i(3072);a.i(903694),a.i(415879);let f=(0,c.globalValue)("effect/Redacted/redactedRegistry",()=>new WeakMap);e.NodeInspectSymbol,d.symbol,b.symbol,a.s(["value",0,a=>{if(f.has(a))return f.get(a);throw Error("Unable to get redacted value")}],258046)},181246,a=>{"use strict";let b={alphabet:"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",minLength:0,blocklist:new Set(["0rgasm","1d10t","1d1ot","1di0t","1diot","1eccacu10","1eccacu1o","1eccacul0","1eccaculo","1mbec11e","1mbec1le","1mbeci1e","1mbecile","a11upat0","a11upato","a1lupat0","a1lupato","aand","ah01e","ah0le","aho1e","ahole","al1upat0","al1upato","allupat0","allupato","ana1","ana1e","anal","anale","anus","arrapat0","arrapato","arsch","arse","ass","b00b","b00be","b01ata","b0ceta","b0iata","b0ob","b0obe","b0sta","b1tch","b1te","b1tte","ba1atkar","balatkar","bastard0","bastardo","batt0na","battona","bitch","bite","bitte","bo0b","bo0be","bo1ata","boceta","boiata","boob","boobe","bosta","bran1age","bran1er","bran1ette","bran1eur","bran1euse","branlage","branler","branlette","branleur","branleuse","c0ck","c0g110ne","c0g11one","c0g1i0ne","c0g1ione","c0gl10ne","c0gl1one","c0gli0ne","c0glione","c0na","c0nnard","c0nnasse","c0nne","c0u111es","c0u11les","c0u1l1es","c0u1lles","c0ui11es","c0ui1les","c0uil1es","c0uilles","c11t","c11t0","c11to","c1it","c1it0","c1ito","cabr0n","cabra0","cabrao","cabron","caca","cacca","cacete","cagante","cagar","cagare","cagna","cara1h0","cara1ho","caracu10","caracu1o","caracul0","caraculo","caralh0","caralho","cazz0","cazz1mma","cazzata","cazzimma","cazzo","ch00t1a","ch00t1ya","ch00tia","ch00tiya","ch0d","ch0ot1a","ch0ot1ya","ch0otia","ch0otiya","ch1asse","ch1avata","ch1er","ch1ng0","ch1ngadaz0s","ch1ngadazos","ch1ngader1ta","ch1ngaderita","ch1ngar","ch1ngo","ch1ngues","ch1nk","chatte","chiasse","chiavata","chier","ching0","chingadaz0s","chingadazos","chingader1ta","chingaderita","chingar","chingo","chingues","chink","cho0t1a","cho0t1ya","cho0tia","cho0tiya","chod","choot1a","choot1ya","chootia","chootiya","cl1t","cl1t0","cl1to","clit","clit0","clito","cock","cog110ne","cog11one","cog1i0ne","cog1ione","cogl10ne","cogl1one","cogli0ne","coglione","cona","connard","connasse","conne","cou111es","cou11les","cou1l1es","cou1lles","coui11es","coui1les","couil1es","couilles","cracker","crap","cu10","cu1att0ne","cu1attone","cu1er0","cu1ero","cu1o","cul0","culatt0ne","culattone","culer0","culero","culo","cum","cunt","d11d0","d11do","d1ck","d1ld0","d1ldo","damn","de1ch","deich","depp","di1d0","di1do","dick","dild0","dildo","dyke","encu1e","encule","enema","enf01re","enf0ire","enfo1re","enfoire","estup1d0","estup1do","estupid0","estupido","etr0n","etron","f0da","f0der","f0ttere","f0tters1","f0ttersi","f0tze","f0utre","f1ca","f1cker","f1ga","fag","fica","ficker","figa","foda","foder","fottere","fotters1","fottersi","fotze","foutre","fr0c10","fr0c1o","fr0ci0","fr0cio","fr0sc10","fr0sc1o","fr0sci0","fr0scio","froc10","froc1o","froci0","frocio","frosc10","frosc1o","frosci0","froscio","fuck","g00","g0o","g0u1ne","g0uine","gandu","go0","goo","gou1ne","gouine","gr0gnasse","grognasse","haram1","harami","haramzade","hund1n","hundin","id10t","id1ot","idi0t","idiot","imbec11e","imbec1le","imbeci1e","imbecile","j1zz","jerk","jizz","k1ke","kam1ne","kamine","kike","leccacu10","leccacu1o","leccacul0","leccaculo","m1erda","m1gn0tta","m1gnotta","m1nch1a","m1nchia","m1st","mam0n","mamahuev0","mamahuevo","mamon","masturbat10n","masturbat1on","masturbate","masturbati0n","masturbation","merd0s0","merd0so","merda","merde","merdos0","merdoso","mierda","mign0tta","mignotta","minch1a","minchia","mist","musch1","muschi","n1gger","neger","negr0","negre","negro","nerch1a","nerchia","nigger","orgasm","p00p","p011a","p01la","p0l1a","p0lla","p0mp1n0","p0mp1no","p0mpin0","p0mpino","p0op","p0rca","p0rn","p0rra","p0uff1asse","p0uffiasse","p1p1","p1pi","p1r1a","p1rla","p1sc10","p1sc1o","p1sci0","p1scio","p1sser","pa11e","pa1le","pal1e","palle","pane1e1r0","pane1e1ro","pane1eir0","pane1eiro","panele1r0","panele1ro","paneleir0","paneleiro","patakha","pec0r1na","pec0rina","pecor1na","pecorina","pen1s","pendej0","pendejo","penis","pip1","pipi","pir1a","pirla","pisc10","pisc1o","pisci0","piscio","pisser","po0p","po11a","po1la","pol1a","polla","pomp1n0","pomp1no","pompin0","pompino","poop","porca","porn","porra","pouff1asse","pouffiasse","pr1ck","prick","pussy","put1za","puta","puta1n","putain","pute","putiza","puttana","queca","r0mp1ba11e","r0mp1ba1le","r0mp1bal1e","r0mp1balle","r0mpiba11e","r0mpiba1le","r0mpibal1e","r0mpiballe","rand1","randi","rape","recch10ne","recch1one","recchi0ne","recchione","retard","romp1ba11e","romp1ba1le","romp1bal1e","romp1balle","rompiba11e","rompiba1le","rompibal1e","rompiballe","ruff1an0","ruff1ano","ruffian0","ruffiano","s1ut","sa10pe","sa1aud","sa1ope","sacanagem","sal0pe","salaud","salope","saugnapf","sb0rr0ne","sb0rra","sb0rrone","sbattere","sbatters1","sbattersi","sborr0ne","sborra","sborrone","sc0pare","sc0pata","sch1ampe","sche1se","sche1sse","scheise","scheisse","schlampe","schwachs1nn1g","schwachs1nnig","schwachsinn1g","schwachsinnig","schwanz","scopare","scopata","sexy","sh1t","shit","slut","sp0mp1nare","sp0mpinare","spomp1nare","spompinare","str0nz0","str0nza","str0nzo","stronz0","stronza","stronzo","stup1d","stupid","succh1am1","succh1ami","succhiam1","succhiami","sucker","t0pa","tapette","test1c1e","test1cle","testic1e","testicle","tette","topa","tr01a","tr0ia","tr0mbare","tr1ng1er","tr1ngler","tring1er","tringler","tro1a","troia","trombare","turd","twat","vaffancu10","vaffancu1o","vaffancul0","vaffanculo","vag1na","vagina","verdammt","verga","w1chsen","wank","wichsen","x0ch0ta","x0chota","xana","xoch0ta","xochota","z0cc01a","z0cc0la","z0cco1a","z0ccola","z1z1","z1zi","ziz1","zizi","zocc01a","zocc0la","zocco1a","zoccola"])};class c{constructor(a){var c,d,e;const f=null!=(c=null==a?void 0:a.alphabet)?c:b.alphabet,g=null!=(d=null==a?void 0:a.minLength)?d:b.minLength,h=null!=(e=null==a?void 0:a.blocklist)?e:b.blocklist;if(new Blob([f]).size!==f.length)throw Error("Alphabet cannot contain multibyte characters");if(f.length<3)throw Error("Alphabet length must be at least 3");if(new Set(f).size!==f.length)throw Error("Alphabet must contain unique characters");if("number"!=typeof g||g<0||g>255)throw Error("Minimum length has to be between 0 and 255");const i=new Set,j=f.toLowerCase().split("");for(const a of h)if(a.length>=3){const b=a.toLowerCase(),c=b.split("");c.filter(a=>j.includes(a)).length===c.length&&i.add(b)}this.alphabet=this.shuffle(f),this.minLength=g,this.blocklist=i}encode(a){if(0===a.length)return"";if(a.filter(a=>a>=0&&a<=this.maxValue()).length!==a.length)throw Error(`Encoding supports numbers between 0 and ${this.maxValue()}`);return this.encodeNumbers(a)}decode(a){let b=[];if(""===a)return b;let c=this.alphabet.split("");for(let d of a.split(""))if(!c.includes(d))return b;let d=a.charAt(0),e=this.alphabet.indexOf(d),f=this.alphabet.slice(e)+this.alphabet.slice(0,e);f=f.split("").reverse().join("");let g=a.slice(1);for(;g.length>0;){let a=f.slice(0,1),c=g.split(a);if(c.length>0){if(""===c[0])return b;b.push(this.toNumber(c[0],f.slice(1))),c.length>1&&(f=this.shuffle(f))}g=c.slice(1).join(a)}return b}encodeNumbers(a,b=0){if(b>this.alphabet.length)throw Error("Reached max attempts to re-generate the ID");let c=a.reduce((a,b,c)=>this.alphabet[b%this.alphabet.length].codePointAt(0)+c+a,a.length)%this.alphabet.length;c=(c+b)%this.alphabet.length;let d=this.alphabet.slice(c)+this.alphabet.slice(0,c),e=d.charAt(0);d=d.split("").reverse().join("");let f=[e];for(let b=0;b!==a.length;b++){let c=a[b];f.push(this.toId(c,d.slice(1))),b<a.length-1&&(f.push(d.slice(0,1)),d=this.shuffle(d))}let g=f.join("");if(this.minLength>g.length)for(g+=d.slice(0,1);this.minLength-g.length>0;)d=this.shuffle(d),g+=d.slice(0,Math.min(this.minLength-g.length,d.length));return this.isBlockedId(g)&&(g=this.encodeNumbers(a,b+1)),g}shuffle(a){let b=a.split("");for(let a=0,c=b.length-1;c>0;a++,c--){let d=(a*c+b[a].codePointAt(0)+b[c].codePointAt(0))%b.length;[b[a],b[d]]=[b[d],b[a]]}return b.join("")}toId(a,b){let c=[],d=b.split(""),e=a;do c.unshift(d[e%d.length]),e=Math.floor(e/d.length);while(e>0)return c.join("")}toNumber(a,b){let c=b.split("");return a.split("").reduce((a,b)=>a*c.length+c.indexOf(b),0)}isBlockedId(a){let b=a.toLowerCase();for(let a of this.blocklist)if(a.length<=b.length){if(b.length<=3||a.length<=3){if(b===a)return!0}else if(/\d/.test(a)){if(b.startsWith(a)||b.endsWith(a))return!0}else if(b.includes(a))return!0}return!1}maxValue(){return Number.MAX_SAFE_INTEGER}}a.s(["default",()=>c,"defaultOptions",0,b])},145900,a=>a.a(async(b,c)=>{try{var d=a.i(38971),e=a.i(614202),f=a.i(415879),g=a.i(133698),h=a.i(990837),i=a.i(435122),j=a.i(975952),k=a.i(230772);a.i(452089),a.i(258521),a.i(258046),a.i(181246);var l=b([e,h,i,j,k]);[e,h,i,j,k]=l.then?(await l)():l,d.TaggedError("InvalidRouteConfig");var m=class extends d.TaggedError("UnknownFileType"){constructor(a){super({reason:`Could not determine type for ${a}`})}},n=class extends d.TaggedError("InvalidFileType"){constructor(a,b){super({reason:`File type ${a} not allowed for ${b}`})}},o=class extends d.TaggedError("InvalidFileSize"){constructor(a){super({reason:`Invalid file size: ${a}`})}},p=class extends d.TaggedError("InvalidURL"){constructor(a){super({reason:`Failed to parse '${a}' as a URL.`})}};d.TaggedError("RetryError");var q=class extends d.TaggedError("FetchError"){},r=class extends d.TaggedError("InvalidJson"){},s=class extends d.TaggedError("BadRequestError"){getMessage(){return f.isRecord(this.json)&&"string"==typeof this.json.message?this.json.message:this.message}},t=class extends d.TaggedError("UploadAborted"){},u=class extends d.TaggedError("UploadAborted"){};let O=(a,b)=>{let c=a.type||(0,e.lookup)(a.name);if(!c)return b.includes("blob")?d.succeed("blob"):d.fail(new m(a.name));if(b.some(a=>a.includes("/"))&&b.includes(c))return d.succeed(c);let f="application/pdf"===c.toLowerCase()?"pdf":c.split("/")[0];if(!b.includes(f))if(b.includes("blob"))return d.succeed("blob");else return d.fail(new n(f,a.name));return d.succeed(f)},P=["B","KB","MB","GB","TB"],Q=a=>{let b=RegExp(`^(\\d+)(\\.\\d+)?\\s*(${P.join("|")})$`,"i"),c=a.match(b);if(!c?.[1]||!c[3])return d.fail(new o(a));let e=parseFloat(c[1]),f=c[3].toUpperCase(),g=e*Math.pow(1024,P.indexOf(f));return d.succeed(Math.floor(g))},R=a=>{if(0===a||-1===a)return"0B";let b=Math.floor(Math.log(a)/Math.log(1024));return`${(a/Math.pow(1024,b)).toFixed(2)}${P[b]}`};async function v(a){let b=await a.text();try{return JSON.parse(b)}catch(a){return console.error(`Error parsing JSON, got '${b}'`,a),Error(`Error parsing JSON, got '${b}'`)}}function w(a){return Object.keys(a)}function x(a,b,c){!function(a,b){let c=/(\d+)\.?(\d+)?\.?(\d+)?/,d=c.exec(a);if(!d?.[0])throw Error(`Invalid semver requirement: ${a}`);let e=c.exec(b);if(!e?.[0])throw Error(`Invalid semver to check: ${b}`);let[f,g,h,i]=d,[j,k,l,m]=e;return a.startsWith("^")?g===k&&(!h||!l||!(h>l)):a.startsWith("~")?g===k&&h===l:g===k&&h===l&&i===m}(b,c)&&console.warn(`!!!WARNING::: ${a} requires "uploadthing@${b}", but version "${c}" is installed`)}let S=a=>a instanceof URL?a:d.runSync(d.gen(function*(){let b=process.env.VERCEL_URL?`https://${process.env.VERCEL_URL}`:"http://localhost:3000",c=yield*d.try({try:()=>new URL(a??"/api/uploadthing",b),catch:()=>new p(a??"/api/uploadthing")});return"/"===c.pathname&&(c.pathname="/api/uploadthing"),c}));function y(){}function z(){return new Proxy(y,{get:(a,b)=>b})}function A(a,...b){return"function"==typeof a?a(...b):a}let T={BAD_REQUEST:400,NOT_FOUND:404,FORBIDDEN:403,INTERNAL_SERVER_ERROR:500,INTERNAL_CLIENT_ERROR:500,TOO_LARGE:413,TOO_SMALL:400,TOO_MANY_FILES:400,KEY_TOO_LONG:400,URL_GENERATION_FAILED:500,UPLOAD_FAILED:500,MISSING_ENV:500,INVALID_SERVER_CONFIG:500,FILE_LIMIT_EXCEEDED:500};var B=class a extends d.Error{_tag="UploadThingError";name="UploadThingError";cause;code;data;constructor(a){const b="string"==typeof a?{code:"INTERNAL_SERVER_ERROR",message:a}:a;super({message:b.message??function(a,b){return"string"==typeof a?a:a instanceof Error||a&&"object"==typeof a&&"message"in a&&"string"==typeof a.message?a.message:b??"An unknown error occurred"}(b.cause,b.code)}),this.code=b.code,this.data=b.data,b.cause instanceof Error?this.cause=b.cause:f.isRecord(b.cause)&&f.isNumber(b.cause.status)&&f.isString(b.cause.statusText)?this.cause=Error(`Response ${b.cause.status} ${b.cause.statusText}`):f.isString(b.cause)?this.cause=Error(b.cause):this.cause=b.cause}static toObject(a){return{code:a.code,message:a.message,data:a.data}}static serialize(b){return JSON.stringify(a.toObject(b))}};function C(a){for(let[b,c]of Object.entries(T))if(c===a)return b;return"INTERNAL_SERVER_ERROR"}let U=a=>new B({code:"INTERNAL_CLIENT_ERROR",message:"Something went wrong. Please report this to UploadThing.",cause:a});var D=class extends g.Tag("uploadthing/Fetch")(){};let V=(a,b)=>d.flatMap(d.service(D),c=>{let e=new Headers(b?.headers??[]),f={url:a.toString(),method:b?.method,body:b?.body,headers:Object.fromEntries(e)};return d.tryPromise({try:d=>c(a,{...b,headers:e,signal:d}),catch:a=>new q({error:a instanceof Error?{...a,name:a.name,message:a.message,stack:a.stack}:a,input:f})}).pipe(d.tapError(a=>d.sync(()=>console.error(a.input))),d.map(a=>Object.assign(a,{requestUrl:f.url})),d.withTrace("fetch"))}),W=a=>d.tryPromise({try:async()=>({json:await a.json(),ok:a.ok,status:a.status}),catch:b=>new r({error:b,input:a.requestUrl})}).pipe(d.filterOrFail(({ok:a})=>a,({json:b,status:c})=>new s({status:c,message:`Request to ${a.requestUrl} failed with status ${c}`,json:b})),d.map(({json:a})=>a),d.withTrace("parseJson")),X=(a,b)=>"all"===b?a:"fine"===b?Math.round(a):10*Math.floor(a/10),Y=a=>{let b=Array.isArray(a)?a:w(a);return b.includes("blob")?[]:b.map(a=>"pdf"===a?"application/pdf":a.includes("/")?a:"audio"===a?["audio/*",...w(h.audio)].join(", "):"image"===a?["image/*",...w(i.image)].join(", "):"text"===a?["text/*",...w(j.text)].join(", "):"video"===a?["video/*",...w(k.video)].join(", "):`${a}/*`)},Z=a=>{let b=Y(a);return Object.fromEntries(b.map(a=>[a,[]]))};function E(a){let b=a.clipboardData?.items;if(b)return Array.from(b).reduce((a,b)=>{let c=b.getAsFile();return c?[...a,c]:a},[])}let $=a=>{let b=a?w(a):[],c=a?Object.values(a).map(a=>a.maxFileCount):[];return{fileTypes:b,multiple:c.some(a=>a&&a>1)}},_=a=>{let b;return(b=(a=>{if(!a)return"";let b=w(a),c=b.map(a=>"blob"===a?"file":a);if(c.length>1){let a=c.pop();return`${c.join("s, ")} and ${a}s`}let d=b[0],e=c[0];if(!d||!e)return"";let{maxFileSize:f,maxFileCount:g,minFileCount:h}=a[d];return g&&g>1?h>1?`${h} - ${g} ${e}s up to ${f}`:`${e}s up to ${f}, max ${g}`:`${e} (${f})`})(a)).charAt(0).toUpperCase()+b.slice(1)},aa=(a,b)=>{if("string"==typeof a)return a;if("function"==typeof a){let c=a(b);if("string"==typeof c)return c}return""},ab=(a,b)=>{if("object"==typeof a)return a;if("function"==typeof a){let c=a(b);if("object"==typeof c)return c}return{}},ac=(a,b)=>a?"function"!=typeof a?a:"function"==typeof a?a(b):void 0:null,ad=(...a)=>a.filter(Boolean).join(" ");function F(a,b){return"application/x-moz-file"===a.type||function(a,b){if(b){let c=Array.isArray(b)?b:b.split(","),d=a.name,e=a.type.toLowerCase(),f=e.replace(/\/.*$/,"");return c.some(a=>{let b=a.trim().toLowerCase();return b.startsWith(".")?d.toLowerCase().endsWith(b):b.endsWith("/*")?f===b.replace(/\/.*$/,""):e===b})}return!0}(a,b)}function G(a){return"key"in a&&(" "===a.key||"Enter"===a.key)||"keyCode"in a&&(32===a.keyCode||13===a.keyCode)}function H(a,b,c){let d;return d=a.size,null==d||(null!=b&&null!=c?a.size>=b&&a.size<=c:(null==b||!(a.size<b))&&(null==c||!(a.size>c)))}function I(a,b,c){return(!!b||!(a.length>1))&&(!b||!(c>=1)||!(a.length>c))}function J({files:a,accept:b,minSize:c,maxSize:d,multiple:e,maxFiles:f}){return!!I(a,e,f)&&a.every(a=>F(a,b)&&H(a,c,d))}function K(a){return"dataTransfer"in a&&null!==a.dataTransfer?Array.prototype.some.call(a.dataTransfer?.types,a=>"Files"===a||"application/x-moz-file"===a):!!a.target&&"files"in a.target&&!!a.target.files}function L(a=window.navigator.userAgent){return a.includes("MSIE ")||a.includes("Trident/")||a.includes("Edge/")}function M(a){if(null!=a)return Object.entries(a).reduce((a,[b,c])=>[...a,b,...c],[]).filter(a=>"audio/*"===a||"video/*"===a||"image/*"===a||"text/*"===a||/\w+\/[-+.\w]+/g.test(a)||/^.*\.[\w]+$/.test(a)).join(",")}new TextEncoder;let ae={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[]};function N(a,b){switch(b.type){case"focus":return{...a,isFocused:!0};case"blur":return{...a,isFocused:!1};case"openDialog":return{...ae,isFileDialogActive:!0};case"closeDialog":return{...a,isFileDialogActive:!1};case"setDraggedFiles":case"setFiles":return{...a,...b.payload};case"reset":return ae;default:return a}}a.s(["FetchContext",()=>D,"INTERNAL_DO_NOT_USE__fatalClientError",()=>U,"UploadAbortedError",()=>u,"UploadPausedError",()=>t,"UploadThingError",()=>B,"acceptPropAsAcceptAttr",()=>M,"allFilesAccepted",()=>J,"allowedContentTextLabelGenerator",()=>_,"bytesToFileSize",()=>R,"contentFieldToContent",()=>ac,"createIdentityProxy",()=>z,"defaultClassListMerger",()=>ad,"fetchEff",()=>V,"fileSizeToBytes",()=>Q,"generateClientDropzoneAccept",()=>Z,"generateMimeTypes",()=>Y,"generatePermittedFileTypes",()=>$,"getErrorTypeFromStatusCode",()=>C,"getFilesFromClipboardEvent",()=>E,"initialState",()=>ae,"isEnterOrSpace",()=>G,"isEventWithFiles",()=>K,"isFileAccepted",()=>F,"isIeOrEdge",()=>L,"isValidQuantity",()=>I,"isValidSize",()=>H,"matchFileType",()=>O,"noop",()=>y,"objectKeys",()=>w,"parseResponseJson",()=>W,"reducer",()=>N,"resolveMaybeUrlArg",()=>S,"roundProgress",()=>X,"safeParseJSON",()=>v,"styleFieldToClassName",()=>aa,"styleFieldToCssObject",()=>ab,"unwrap",()=>A,"warnIfInvalidPeerDependency",()=>x]),c()}catch(a){c(a)}},!1),23955,a=>{"use strict";a.s(["version",()=>"7.7.4"])},758552,a=>a.a(async(b,c)=>{try{var d=a.i(23955),e=a.i(38971),f=a.i(145900),g=a.i(676736),h=b([f]);[f]=h.then?(await h)():h;let i=()=>{let a,b,c=new AbortController;return{promise:new Promise((c,d)=>{a=c,b=d}),ac:c,resolve:a,reject:b}},j=function(a){let b="";for(let c=0;c<a;c++)b+="abcdef0123456789".charAt(Math.floor(16*Math.random()));return b},k=()=>{let a=j(32),b=j(16);return{b3:`${a}-${b}-01`,traceparent:`00-${a}-${b}-01`}},l=a=>(b,c)=>e.gen(function*(){var h;let i,j,k=(h={url:a.url,slug:a.endpoint,actionType:b},i=new URL(h.url),(j=new URLSearchParams(i.search)).set("actionType",h.actionType),j.set("slug",h.slug),i.search=j.toString(),i),l=new Headers((yield*e.promise(async()=>"function"==typeof a.headers?await a.headers():a.headers)));return a.package&&l.set("x-uploadthing-package",a.package),l.set("x-uploadthing-version",d.version),l.set("Content-Type","application/json"),l.set("b3",a.traceHeaders.b3),l.set("traceparent",a.traceHeaders.traceparent),yield*(0,f.fetchEff)(k,{method:"POST",body:JSON.stringify(c),headers:l}).pipe(e.andThen(f.parseResponseJson),e.map(g.unsafeCoerce),e.catchTag("FetchError",a=>e.fail(new f.UploadThingError({code:"INTERNAL_CLIENT_ERROR",message:`Failed to report event "${b}" to UploadThing server`,cause:a}))),e.catchTag("BadRequestError",a=>e.fail(new f.UploadThingError({code:(0,f.getErrorTypeFromStatusCode)(a.status),message:a.getMessage(),cause:a.json}))),e.catchTag("InvalidJson",a=>e.fail(new f.UploadThingError({code:"INTERNAL_CLIENT_ERROR",message:"Failed to parse response from UploadThing server",cause:a}))))});a.s(["createDeferred",()=>i,"createUTReporter",()=>l,"generateTraceHeaders",()=>k]),c()}catch(a){c(a)}},!1),822594,a=>{"use strict";let b=a=>{console.warn(` [uploadthing][deprecated] ${a}`)};a.s(["logDeprecationWarning",()=>b])},738682,a=>a.a(async(b,c)=>{try{var d=a.i(23955),e=a.i(758552),f=a.i(822594),g=a.i(524263),h=a.i(38971),i=a.i(145900),j=a.i(676736),k=a.i(415879),l=b([e,i]);[e,i]=l.then?(await l)():l;let m=(a,b,c)=>(0,i.fetchEff)(b.url,{method:"HEAD",headers:c.traceHeaders}).pipe(h.map(({headers:a})=>parseInt(a.get("x-ut-range-start")??"0",10)),h.tap(a=>c.onUploadProgress?.({delta:a,loaded:a})),h.flatMap(e=>{let f;return f={traceHeaders:c.traceHeaders,onUploadProgress:a=>c.onUploadProgress?.({delta:a.delta,loaded:a.loaded+e})},h.async(c=>{let g=new XMLHttpRequest;g.open("PUT",b.url,!0),g.setRequestHeader("Range",`bytes=${e}-`),g.setRequestHeader("x-uploadthing-version",d.version),g.setRequestHeader("b3",f.traceHeaders.b3),g.setRequestHeader("traceparent",f.traceHeaders.traceparent),g.responseType="json";let j=0;g.upload.addEventListener("progress",({loaded:a})=>{let b=a-j;f.onUploadProgress?.({loaded:a,delta:b}),j=a}),g.addEventListener("load",()=>{g.status>=200&&g.status<300&&(0,k.isRecord)(g.response)?(0,k.hasProperty)(g.response,"error")?c(new i.UploadThingError({code:"UPLOAD_FAILED",message:String(g.response.error),data:g.response})):c(h.succeed(g.response)):c(new i.UploadThingError({code:"UPLOAD_FAILED",message:`XHR failed ${g.status} ${g.statusText}`,data:g.response}))}),g.addEventListener("error",()=>{c(new i.UploadThingError({code:"UPLOAD_FAILED"}))});let l=new FormData;return"uri"in a?l.append("file",{uri:a.uri,type:a.type,name:a.name,...e>0&&{range:e}}):l.append("file",e>0?a.slice(e):a),g.send(l),h.sync(()=>g.abort())})}),h.map(j.unsafeCoerce),h.map(c=>({name:a.name,size:a.size,key:b.key,lastModified:a.lastModified,serverData:c.serverData,get url(){return(0,f.logDeprecationWarning)("`file.url` is deprecated and will be removed in uploadthing v9. Use `file.ufsUrl` instead."),c.url},get appUrl(){return(0,f.logDeprecationWarning)("`file.appUrl` is deprecated and will be removed in uploadthing v9. Use `file.ufsUrl` instead."),c.appUrl},ufsUrl:c.ufsUrl,customId:b.customId,type:a.type,fileHash:c.fileHash}))),n=d.version,o=a=>{let b=(0,i.createIdentityProxy)(),c=async(c,d)=>{let f=new Map,j="function"==typeof c?c(b):c,k=(0,e.generateTraceHeaders)(),l=(0,e.createUTReporter)({endpoint:String(j),package:a?.package??"uploadthing/client",url:(0,i.resolveMaybeUrlArg)(a?.url),headers:d.headers,traceHeaders:k}),n=a?.fetch??window.fetch,o=await h.runPromise(l("upload",{input:"input"in d?d.input:null,files:d.files.map(a=>({name:a.name,size:a.size,type:a.type,lastModified:a.lastModified}))}).pipe(h.provideService(i.FetchContext,n))),p=d.files.reduce((a,b)=>a+b.size,0),q=0,r=(a,b)=>m(a,b,{traceHeaders:k,onUploadProgress:b=>{q+=b.delta,d.onUploadProgress?.({...b,file:a,progress:Math.round(b.loaded/a.size*100),totalLoaded:q,totalProgress:Math.round(q/p*100)})}}).pipe(h.provideService(i.FetchContext,n));for(let[a,b]of o.entries()){let c=d.files[a];if(!c)continue;let g=(0,e.createDeferred)();f.set(c,{deferred:g,presigned:b}),h.runPromiseExit(r(c,b),{signal:g.ac.signal}).then(a=>{if("Success"===a._tag)return g.resolve(a.value);if("Interrupt"===a.cause._tag)throw new i.UploadPausedError;throw h.causeSquash(a.cause)}).catch(a=>{a instanceof i.UploadPausedError||g.reject(a)})}let s=async a=>{let b=[];for(let c of g.ensure(a??d.files)){let a=f.get(c);if(!a)throw"No upload found";b.push(a.deferred.promise)}let c=await Promise.all(b);return a?c[0]:c};return{pauseUpload:a=>{for(let b of g.ensure(a??d.files)){let a=f.get(b);if(!a)return;if(a.deferred.ac.signal.aborted)throw new i.UploadAbortedError;a.deferred.ac.abort()}},resumeUpload:a=>{for(let b of g.ensure(a??d.files)){let a=f.get(b);if(!a)throw"No upload found";a.deferred.ac=new AbortController,h.runPromiseExit(r(b,a.presigned),{signal:a.deferred.ac.signal}).then(b=>{if("Success"===b._tag)return a.deferred.resolve(b.value);if("Interrupt"===b.cause._tag)throw new i.UploadPausedError;throw h.causeSquash(b.cause)}).catch(b=>{b instanceof i.UploadPausedError||a.deferred.reject(b)})}},done:s}};return{uploadFiles:(c,d)=>{var f;let g,j,k,l,n="function"==typeof c?c(b):c,o=a?.fetch??window.fetch;return(f={...d,skipPolling:{},url:(0,i.resolveMaybeUrlArg)(a?.url),package:a?.package??"uploadthing/client",input:d.input},g=(0,e.generateTraceHeaders)(),j=(0,e.createUTReporter)({endpoint:String(n),package:f.package,url:f.url,headers:f.headers,traceHeaders:g}),k=f.files.reduce((a,b)=>a+b.size,0),l=0,h.flatMap(j("upload",{input:"input"in f?f.input:null,files:f.files.map(a=>({name:a.name,size:a.size,type:a.type,lastModified:a.lastModified}))}),a=>h.forEach(a,(a,b)=>h.flatMap(h.sync(()=>f.onUploadBegin?.({file:f.files[b].name})),()=>m(f.files[b],a,{traceHeaders:g,onUploadProgress:a=>{l+=a.delta,f.onUploadProgress?.({file:f.files[b],progress:a.loaded/f.files[b].size*100,loaded:a.loaded,delta:a.delta,totalLoaded:l,totalProgress:l/k})}})),{concurrency:6}))).pipe(h.provideService(i.FetchContext,o),a=>h.runPromiseExit(a,d.signal&&{signal:d.signal})).then(a=>{if("Success"===a._tag)return a.value;if("Interrupt"===a.cause._tag)throw new i.UploadAbortedError;throw h.causeSquash(a.cause)})},createUpload:c,routeRegistry:b}};a.s(["genUploader",()=>o,"version",()=>n]),c()}catch(a){c(a)}},!1),933121,a=>a.a(async(b,c)=>{try{var d=a.i(145900),e=a.i(738682),f=a.i(572131),g=b([d,e]);[d,e]=g.then?(await g)():g;var h={next:"*",react:"^17.0.2 || ^18.0.0 || ^19.0.0",uploadthing:"^7.2.0"};function i(a){let b=f.default.useRef(j),c=f.default.useRef(null);return c.current??=function(){return b.current.apply(this,arguments)},c.current}function j(){throw Error("INVALID_USEEVENT_INVOCATION: the callback from useEvent cannot be invoked before the component has mounted.")}var k=function(a,b,c){let e=(0,f.useRef)({}),g=(0,f.useRef)(!1),h={error:void 0,data:void 0},[i,j]=(0,f.useReducer)((a,b)=>{switch(b.type){case"loading":return{...h};case"fetched":return{...h,data:b.payload};case"error":return{...h,error:b.payload};default:return a}},h);return(0,f.useEffect)(()=>{if(b)return g.current=!1,(async()=>{if(j({type:"loading"}),e.current[b])return j({type:"fetched",payload:e.current[b]});try{let f=await a(b,c);if(!f.ok)throw Error(f.statusText);let h=await (0,d.safeParseJSON)(f);if(h instanceof Error)throw h;if(e.current[b]=h,g.current)return;j({type:"fetched",payload:h})}catch(a){if(g.current)return;j({type:"error",payload:a})}})(),()=>{g.current=!0}},[b]),i};let l=function(a,b,c,g){let h=g?.uploadProgressGranularity??"coarse",{uploadFiles:j,routeRegistry:l}=(0,e.genUploader)({fetch:c,url:a,package:"@uploadthing/react"}),[m,n]=(0,f.useState)(!1),o=(0,f.useRef)(0),p=(0,f.useRef)(new Map),q=i(async(...a)=>{let c=await g?.onBeforeUploadBegin?.(a[0])??a[0],e=a[1];n(!0),c.forEach(a=>p.current.set(a,0)),g?.onUploadProgress?.(0);try{let a=await j(b,{signal:g?.signal,headers:g?.headers,files:c,onUploadProgress:a=>{if(!g?.onUploadProgress)return;p.current.set(a.file,a.progress);let b=0;p.current.forEach(a=>{b+=a});let c=(0,d.roundProgress)(Math.min(100,b/p.current.size),h);c!==o.current&&(g.onUploadProgress(c),o.current=c)},onUploadBegin({file:a}){g?.onUploadBegin&&g.onUploadBegin(a)},input:e});return await g?.onClientUploadComplete?.(a),a}catch(b){let a;if(b instanceof d.UploadAbortedError)throw b;b instanceof d.UploadThingError?a=b:(a=(0,d.INTERNAL_DO_NOT_USE__fatalClientError)(b),console.error("Something went wrong. Please contact UploadThing and provide the following cause:",a.cause instanceof Error?a.cause.toString():a.cause)),await g?.onUploadError?.(a)}finally{n(!1),p.current=new Map,o.current=0}}),r=(0,d.unwrap)(b,l),s=((a,b,c)=>{let d=globalThis.__UPLOADTHING,{data:e}=k(a,d?void 0:b.href);return(d??e)?.find(a=>a.slug===c)?.config})(c,a,r);return{startUpload:q,isUploading:m,routeConfig:s}},m=a=>{(0,d.warnIfInvalidPeerDependency)("@uploadthing/react",h.uploadthing,e.version);let b=a?.fetch??globalThis.fetch,c=(0,d.resolveMaybeUrlArg)(a?.url),f=(0,e.genUploader)({fetch:b,url:c,package:"@uploadthing/react"});return{useUploadThing:function(a,d){return l(c,a,b,d)},...f,getRouteConfig:function(a){let b=globalThis.__UPLOADTHING,c=(0,d.unwrap)(a,f.routeRegistry),e=b?.find(a=>a.slug===c)?.config;if(!e)throw Error(`No config found for endpoint "${c.toString()}". Please make sure to use the NextSSRPlugin in your Next.js app.`);return e}}};a.s(["__useUploadThingInternal",()=>l,"generateReactHelpers",()=>m,"peerDependencies",()=>h,"useEvent",()=>i]),c()}catch(a){c(a)}},!1),99832,a=>{"use strict";function b(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})}function c(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(h){return function(i){var j=[h,i];if(c)throw TypeError("Generator is already executing.");for(;f&&(f=0,j[0]&&(g=0)),g;)try{if(c=1,d&&(e=2&j[0]?d.return:j[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,j[1])).done)return e;switch(d=0,e&&(j=[2&j[0],e.value]),j[0]){case 0:case 1:e=j;break;case 4:return g.label++,{value:j[1],done:!1};case 5:g.label++,d=j[1],j=[0];continue;case 7:j=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===j[0]||2===j[0])){g=0;continue}if(3===j[0]&&(!e||j[1]>e[0]&&j[1]<e[3])){g.label=j[1];break}if(6===j[0]&&g.label<e[1]){g.label=e[1],e=j;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(j);break}e[2]&&g.ops.pop(),g.trys.pop();continue}j=b.call(a,g)}catch(a){j=[6,a],d=0}finally{c=e=0}if(5&j[0])throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}}}function d(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g}function e(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))}"function"==typeof SuppressedError&&SuppressedError;var f=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function g(a,b){var c=function(a){var b=a.name;if(b&&-1!==b.lastIndexOf(".")&&!a.type){var c=b.split(".").pop().toLowerCase(),d=f.get(c);d&&Object.defineProperty(a,"type",{value:d,writable:!1,configurable:!1,enumerable:!0})}return a}(a);if("string"!=typeof c.path){var d=a.webkitRelativePath;Object.defineProperty(c,"path",{value:"string"==typeof b?b:"string"==typeof d&&d.length>0?d:a.name,writable:!1,configurable:!1,enumerable:!0})}return c}var h=[".DS_Store","Thumbs.db"];function i(a){return b(this,void 0,void 0,function(){return c(this,function(f){var h;if(j(a)&&j(a.dataTransfer))return[2,function(a,f){return b(this,void 0,void 0,function(){var b;return c(this,function(c){switch(c.label){case 0:if(!a.items)return[3,2];if(b=l(a.items).filter(function(a){return"file"===a.kind}),"drop"!==f)return[2,b];return[4,Promise.all(b.map(m))];case 1:return[2,k(function a(b){return b.reduce(function(b,c){return e(e([],d(b),!1),d(Array.isArray(c)?a(c):[c]),!1)},[])}(c.sent()))];case 2:return[2,k(l(a.files).map(function(a){return g(a)}))]}})})}(a.dataTransfer,a.type)];if(j(h=a)&&j(h.target))return[2,l(a.target.files).map(function(a){return g(a)})];return Array.isArray(a)&&a.every(function(a){return"getFile"in a&&"function"==typeof a.getFile})?[2,function(a){return b(this,void 0,void 0,function(){return c(this,function(b){switch(b.label){case 0:return[4,Promise.all(a.map(function(a){return a.getFile()}))];case 1:return[2,b.sent().map(function(a){return g(a)})]}})})}(a)]:[2,[]]})})}function j(a){return"object"==typeof a&&null!==a}function k(a){return a.filter(function(a){return -1===h.indexOf(a.name)})}function l(a){if(null===a)return[];for(var b=[],c=0;c<a.length;c++){var d=a[c];b.push(d)}return b}function m(a){if("function"!=typeof a.webkitGetAsEntry)return n(a);var b=a.webkitGetAsEntry();return b&&b.isDirectory?p(b):n(a)}function n(a){var b=a.getAsFile();return b?Promise.resolve(g(b)):Promise.reject("".concat(a," is not a File"))}function o(a){return b(this,void 0,void 0,function(){return c(this,function(d){return[2,a.isDirectory?p(a):function(a){return b(this,void 0,void 0,function(){return c(this,function(b){return[2,new Promise(function(b,c){a.file(function(c){b(g(c,a.fullPath))},function(a){c(a)})})]})})}(a)]})})}function p(a){var d=a.createReader();return new Promise(function(a,e){var f=[];!function g(){var h=this;d.readEntries(function(d){return b(h,void 0,void 0,function(){var b;return c(this,function(c){switch(c.label){case 0:if(d.length)return[3,5];c.label=1;case 1:return c.trys.push([1,3,,4]),[4,Promise.all(f)];case 2:return a(c.sent()),[3,4];case 3:return e(c.sent()),[3,4];case 4:return[3,6];case 5:b=Promise.all(d.map(o)),f.push(b),g(),c.label=6;case 6:return[2]}})})},function(a){e(a)})}()})}a.s(["fromEvent",()=>i],99832)},965320,a=>{"use strict";a.i(99832),a.s([])},957510,a=>a.a(async(b,c)=>{try{var d=a.i(933121),e=a.i(145900),f=a.i(738682),g=a.i(572131),h=a.i(187924);a.i(965320);var i=a.i(99832),j=b([d,e,f]);[d,e,f]=j.then?(await j)():j;let p=a=>{let b=(0,d.useEvent)(a);(0,g.useEffect)(()=>{let a=new AbortController;return window.addEventListener("paste",b,{signal:a.signal}),()=>{a.abort()}},[b])};function k(){return(0,h.jsx)("svg",{className:"z-10 block h-5 w-5 animate-spin align-middle text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 576 512",children:(0,h.jsx)("path",{fill:"currentColor",d:"M256 32C256 14.33 270.3 0 288 0C429.4 0 544 114.6 544 256C544 302.6 531.5 346.4 509.7 384C500.9 399.3 481.3 404.6 465.1 395.7C450.7 386.9 445.5 367.3 454.3 351.1C470.6 323.8 480 291 480 255.1C480 149.1 394 63.1 288 63.1C270.3 63.1 256 49.67 256 31.1V32z"})})}function l({className:a,cn:b,...c}){return(0,h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",className:b("fill-none stroke-current stroke-2",a),...c,children:[(0,h.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,h.jsx)("path",{d:"m4.9 4.9 14.2 14.2"})]})}function m(a){let b,{mode:c="auto",appendOnPaste:f=!1,cn:i=e.defaultClassListMerger}=a.config??{},j=(0,g.useRef)(new AbortController),m=(0,g.useRef)(null),[n,o]=(0,g.useState)(a.__internal_upload_progress??0),[q,r]=(0,g.useState)([]),{startUpload:s,isUploading:t,routeConfig:u}=(0,d.__useUploadThingInternal)((0,e.resolveMaybeUrlArg)(a.url),a.endpoint,a.fetch??globalThis.fetch,{signal:j.current.signal,headers:a.headers,onClientUploadComplete:b=>{m.current&&(m.current.value=""),r([]),a.onClientUploadComplete?.(b),o(0)},uploadProgressGranularity:a.uploadProgressGranularity,onUploadProgress:b=>{o(b),a.onUploadProgress?.(b)},onUploadError:a.onUploadError,onUploadBegin:a.onUploadBegin,onBeforeUploadBegin:a.onBeforeUploadBegin}),{fileTypes:v,multiple:w}=(0,e.generatePermittedFileTypes)(u),x=!!(a.__internal_button_disabled??a.disabled),y=(b="ready"===a.__internal_state||v.length>0,a.__internal_state?a.__internal_state:x?"disabled":b?t?"uploading":"ready":"readying"),z=(0,g.useCallback)(b=>{let c="input"in a?a.input:void 0;s(b,c).catch(b=>{if(b instanceof e.UploadAbortedError)a.onUploadAborted?.();else throw b})},[a,s]),A=(0,g.useMemo)(()=>({type:"file",ref:m,multiple:w,accept:(0,e.generateMimeTypes)(v).join(", "),onChange:b=>{if(!b.target.files)return;let d=Array.from(b.target.files);(a.onChange?.(d),"manual"===c)?r(d):z(d)},disabled:x,tabIndex:x?-1:0}),[a,x,v,c,w,z]);p(b=>{if(!f||document.activeElement!==m.current)return;let d=(0,e.getFilesFromClipboardEvent)(b);if(!d)return;let g=d;r(b=>(g=[...b,...d],a.onChange?.(g),g)),"auto"===c&&z(q)});let B=(0,g.useMemo)(()=>({ready:"readying"!==y,isUploading:"uploading"===y,uploadProgress:n,fileTypes:v,files:q}),[v,q,y,n]);return(0,h.jsxs)("div",{className:i("flex flex-col items-center justify-center gap-1",a.className,(0,e.styleFieldToClassName)(a.appearance?.container,B)),style:{"--progress-width":`${n}%`,...(0,e.styleFieldToCssObject)(a.appearance?.container,B)},"data-state":y,children:[(0,h.jsxs)("label",{className:i("group relative flex h-10 w-36 cursor-pointer items-center justify-center overflow-hidden rounded-md text-white after:transition-[width] after:duration-500 focus-within:ring-2 focus-within:ring-blue-600 focus-within:ring-offset-2","disabled:pointer-events-none","data-[state=disabled]:cursor-not-allowed data-[state=readying]:cursor-not-allowed","data-[state=disabled]:bg-blue-400 data-[state=ready]:bg-blue-600 data-[state=readying]:bg-blue-400 data-[state=uploading]:bg-blue-400","after:absolute after:left-0 after:h-full after:w-[var(--progress-width)] after:content-[''] data-[state=uploading]:after:bg-blue-600",(0,e.styleFieldToClassName)(a.appearance?.button,B)),style:(0,e.styleFieldToCssObject)(a.appearance?.button,B),"data-state":y,"data-ut-element":"button",onClick:a=>{if("uploading"===y){a.preventDefault(),a.stopPropagation(),j.current.abort(),j.current=new AbortController;return}"manual"===c&&q.length>0&&(a.preventDefault(),a.stopPropagation(),z(q))},children:[(0,h.jsx)("input",{...A,className:"sr-only"}),(()=>{let b=(0,e.contentFieldToContent)(a.content?.button,B);if(b)return b;switch(y){case"readying":return"Loading...";case"uploading":if(n>=100)return(0,h.jsx)(k,{});return(0,h.jsxs)("span",{className:"z-50",children:[(0,h.jsxs)("span",{className:"block group-hover:hidden",children:[Math.round(n),"%"]}),(0,h.jsx)(l,{cn:i,className:"hidden size-4 group-hover:block"})]});default:if("manual"===c&&q.length>0)return`Upload ${q.length} file${1===q.length?"":"s"}`;return`Choose File${A.multiple?"(s)":""}`}})()]}),"manual"===c&&q.length>0?(0,h.jsx)("button",{onClick:()=>{r([]),m.current&&(m.current.value=""),a.onChange?.([])},className:i("h-[1.25rem] cursor-pointer rounded border-none bg-transparent text-gray-500 transition-colors hover:bg-slate-200 hover:text-gray-600",(0,e.styleFieldToClassName)(a.appearance?.clearBtn,B)),style:(0,e.styleFieldToCssObject)(a.appearance?.clearBtn,B),"data-state":y,"data-ut-element":"clear-btn",children:(0,e.contentFieldToContent)(a.content?.clearBtn,B)??"Clear"}):(0,h.jsx)("div",{className:i("h-[1.25rem] text-xs leading-5 text-gray-600",(0,e.styleFieldToClassName)(a.appearance?.allowedContent,B)),style:(0,e.styleFieldToCssObject)(a.appearance?.allowedContent,B),"data-state":y,"data-ut-element":"allowed-content",children:(0,e.contentFieldToContent)(a.content?.allowedContent,B)??(0,e.allowedContentTextLabelGenerator)(u)})]})}function n(a){let b,{mode:c="manual",appendOnPaste:f=!1,cn:j=e.defaultClassListMerger}=a.config??{},m=(0,g.useRef)(new AbortController),[n,o]=(0,g.useState)([]),[q,r]=(0,g.useState)(a.__internal_upload_progress??0),{startUpload:s,isUploading:t,routeConfig:u}=(0,d.__useUploadThingInternal)((0,e.resolveMaybeUrlArg)(a.url),a.endpoint,a.fetch??globalThis.fetch,{signal:m.current.signal,headers:a.headers,onClientUploadComplete:b=>{o([]),a.onClientUploadComplete?.(b),r(0)},uploadProgressGranularity:a.uploadProgressGranularity,onUploadProgress:b=>{r(b),a.onUploadProgress?.(b)},onUploadError:a.onUploadError,onUploadBegin:a.onUploadBegin,onBeforeUploadBegin:a.onBeforeUploadBegin}),{fileTypes:v,multiple:w}=(0,e.generatePermittedFileTypes)(u),x=!!(a.__internal_dropzone_disabled??a.disabled),y=(b=a.__internal_ready??("ready"===a.__internal_state||v.length>0),a.__internal_state?a.__internal_state:x?"disabled":b?t?"uploading":"ready":"readying"),z=(0,g.useCallback)(b=>{let c="input"in a?a.input:void 0;s(b,c).catch(b=>{if(b instanceof e.UploadAbortedError)a.onUploadAborted?.();else throw b})},[a,s]),A=(0,g.useCallback)(b=>{a.onDrop?.(b),a.onChange?.(b),o(b),"auto"===c&&z(b)},[a,c,z]),{getRootProps:B,getInputProps:C,isDragActive:D,rootRef:E}=function({accept:a,disabled:b=!1,maxSize:c=1/0,minSize:d=0,multiple:f=!0,maxFiles:h=0,onDrop:j}){let k=(0,g.useMemo)(()=>(0,e.acceptPropAsAcceptAttr)(a),[a]),l=(0,g.useRef)(null),m=(0,g.useRef)(null),n=(0,g.useRef)([]),[o,p]=(0,g.useReducer)(e.reducer,e.initialState);(0,g.useEffect)(()=>{let a=new AbortController;return window.addEventListener("focus",()=>{o.isFileDialogActive&&setTimeout(()=>{if(m.current){let{files:a}=m.current;a?.length||p({type:"closeDialog"})}},300)},{signal:a.signal}),()=>{a.abort()}},[o.isFileDialogActive]),(0,g.useEffect)(()=>{let a=new AbortController;return document.addEventListener("dragover",a=>a.preventDefault(),{capture:!1,signal:a.signal}),document.addEventListener("drop",a=>{l.current?.contains(a.target)||(a.preventDefault(),n.current=[])},{capture:!1,signal:a.signal}),()=>{a.abort()}},[]);let q=(0,g.useCallback)(a=>{a.preventDefault(),a.persist(),n.current=[...n.current,a.target],(0,e.isEventWithFiles)(a)&&Promise.resolve((0,i.fromEvent)(a)).then(b=>{if(a.isPropagationStopped())return;let g=b.length,i=g>0&&(0,e.allFilesAccepted)({files:b,accept:k,minSize:d,maxSize:c,multiple:f,maxFiles:h});p({type:"setDraggedFiles",payload:{isDragAccept:i,isDragReject:g>0&&!i,isDragActive:!0}})}).catch(e.noop)},[k,h,c,d,f]),r=(0,g.useCallback)(a=>{if(a.preventDefault(),a.persist(),(0,e.isEventWithFiles)(a))try{a.dataTransfer.dropEffect="copy"}catch{(0,e.noop)()}return!1},[]),s=(0,g.useCallback)(a=>{a.preventDefault(),a.persist();let b=n.current.filter(a=>l.current?.contains(a)),c=b.indexOf(a.target);-1!==c&&b.splice(c,1),n.current=b,b.length>0||p({type:"setDraggedFiles",payload:{isDragActive:!1,isDragAccept:!1,isDragReject:!1}})},[]),t=(0,g.useCallback)(a=>{let b=[];a.forEach(a=>{let f=(0,e.isFileAccepted)(a,k),g=(0,e.isValidSize)(a,d,c);f&&g&&b.push(a)}),(0,e.isValidQuantity)(b,f,h)||b.splice(0),p({type:"setFiles",payload:{acceptedFiles:b}}),j(b)},[k,h,c,d,f,j]),u=(0,g.useCallback)(a=>{a.preventDefault(),a.persist(),n.current=[],(0,e.isEventWithFiles)(a)&&Promise.resolve((0,i.fromEvent)(a)).then(b=>{a.isPropagationStopped()||t(b)}).catch(e.noop),p({type:"reset"})},[t]),v=(0,g.useCallback)(()=>{m.current&&(p({type:"openDialog"}),m.current.value="",m.current.click())},[]),w=(0,g.useCallback)(a=>{l.current?.isEqualNode(a.target)&&(0,e.isEnterOrSpace)(a)&&(a.preventDefault(),v())},[v]),x=(0,g.useCallback)(a=>{a.stopPropagation(),o.isFileDialogActive&&a.preventDefault()},[o.isFileDialogActive]),y=(0,g.useCallback)(()=>p({type:"focus"}),[]),z=(0,g.useCallback)(()=>p({type:"blur"}),[]),A=(0,g.useCallback)(()=>{(0,e.isIeOrEdge)()?setTimeout(v,0):v()},[v]),B=(0,g.useMemo)(()=>()=>({ref:l,role:"presentation",...!b?{tabIndex:0,onKeyDown:w,onFocus:y,onBlur:z,onClick:A,onDragEnter:q,onDragOver:r,onDragLeave:s,onDrop:u}:{}}),[b,z,A,q,s,r,u,y,w]),C=(0,g.useMemo)(()=>()=>({ref:m,type:"file",style:{display:"none"},accept:k,multiple:f,tabIndex:-1,...!b?{onChange:u,onClick:x}:{}}),[k,f,u,x,b]);return{...o,getRootProps:B,getInputProps:C,rootRef:l}}({onDrop:A,multiple:w,accept:(0,e.generateClientDropzoneAccept)(v),disabled:x});p(b=>{if(!f||document.activeElement!==E.current)return;let d=(0,e.getFilesFromClipboardEvent)(b);if(!d?.length)return;let g=d;o(b=>(g=[...b,...d],a.onChange?.(g),g)),a.onChange?.(g),"auto"===c&&z(g)});let F=(0,g.useMemo)(()=>({ready:"readying"!==y,isUploading:"uploading"===y,uploadProgress:q,fileTypes:v,files:n,isDragActive:D}),[v,n,y,q,D]);return(0,h.jsxs)("div",{className:j("mt-2 flex flex-col items-center justify-center rounded-lg border border-dashed border-gray-900/25 px-6 py-10 text-center",D&&"bg-blue-600/10",a.className,(0,e.styleFieldToClassName)(a.appearance?.container,F)),...B(),style:(0,e.styleFieldToCssObject)(a.appearance?.container,F),"data-state":y,children:[(0,e.contentFieldToContent)(a.content?.uploadIcon,F)??(0,h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",className:j("mx-auto block h-12 w-12 align-middle text-gray-400",(0,e.styleFieldToClassName)(a.appearance?.uploadIcon,F)),style:(0,e.styleFieldToCssObject)(a.appearance?.uploadIcon,F),"data-ut-element":"upload-icon","data-state":y,children:(0,h.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M5.5 17a4.5 4.5 0 0 1-1.44-8.765a4.5 4.5 0 0 1 8.302-3.046a3.5 3.5 0 0 1 4.504 4.272A4 4 0 0 1 15 17H5.5Zm3.75-2.75a.75.75 0 0 0 1.5 0V9.66l1.95 2.1a.75.75 0 1 0 1.1-1.02l-3.25-3.5a.75.75 0 0 0-1.1 0l-3.25 3.5a.75.75 0 1 0 1.1 1.02l1.95-2.1v4.59Z",clipRule:"evenodd"})}),(0,h.jsxs)("label",{className:j("relative mt-4 flex w-64 cursor-pointer items-center justify-center text-sm font-semibold leading-6 text-gray-600 focus-within:outline-none focus-within:ring-2 focus-within:ring-blue-600 focus-within:ring-offset-2 hover:text-blue-500","ready"===y?"text-blue-600":"text-gray-500",(0,e.styleFieldToClassName)(a.appearance?.label,F)),style:(0,e.styleFieldToCssObject)(a.appearance?.label,F),"data-ut-element":"label","data-state":y,children:[(0,h.jsx)("input",{className:"sr-only",...C()}),(0,e.contentFieldToContent)(a.content?.label,F)??("ready"===y?`Choose ${w?"file(s)":"a file"} or drag and drop`:"Loading...")]}),(0,h.jsx)("div",{className:j("m-0 h-[1.25rem] text-xs leading-5 text-gray-600",(0,e.styleFieldToClassName)(a.appearance?.allowedContent,F)),style:(0,e.styleFieldToCssObject)(a.appearance?.allowedContent,F),"data-ut-element":"allowed-content","data-state":y,children:(0,e.contentFieldToContent)(a.content?.allowedContent,F)??(0,e.allowedContentTextLabelGenerator)(u)}),(0,h.jsx)("button",{className:j("group relative mt-4 flex h-10 w-36 items-center justify-center overflow-hidden rounded-md border-none text-base text-white","after:absolute after:left-0 after:h-full after:w-[var(--progress-width)] after:bg-blue-600 after:transition-[width] after:duration-500 after:content-['']","focus-within:ring-2 focus-within:ring-blue-600 focus-within:ring-offset-2","disabled:pointer-events-none","data-[state=disabled]:cursor-not-allowed data-[state=readying]:cursor-not-allowed","data-[state=disabled]:bg-blue-400 data-[state=ready]:bg-blue-600 data-[state=readying]:bg-blue-400 data-[state=uploading]:bg-blue-400",(0,e.styleFieldToClassName)(a.appearance?.button,F)),style:{"--progress-width":`${q}%`,...(0,e.styleFieldToCssObject)(a.appearance?.button,F)},onClick:a=>{if("uploading"===y){a.preventDefault(),a.stopPropagation(),m.current.abort(),m.current=new AbortController;return}"manual"===c&&n.length>0&&(a.preventDefault(),a.stopPropagation(),z(n))},"data-ut-element":"button","data-state":y,type:"button",disabled:0===n.length||"disabled"===y,children:(()=>{let b=(0,e.contentFieldToContent)(a.content?.button,F);if(b)return b;switch(y){case"readying":return"Loading...";case"uploading":if(q>=100)return(0,h.jsx)(k,{});return(0,h.jsxs)("span",{className:"z-50",children:[(0,h.jsxs)("span",{className:"block group-hover:hidden",children:[Math.round(q),"%"]}),(0,h.jsx)(l,{cn:j,className:"hidden size-4 group-hover:block"})]});default:if("manual"===c&&n.length>0)return`Upload ${n.length} file${1===n.length?"":"s"}`;return`Choose File${w?"(s)":""}`}})()})]})}function o(a){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4",children:[(0,h.jsx)("span",{className:"text-center text-4xl font-bold",children:"Upload a file using a button:"}),(0,h.jsx)(m,{...a})]}),(0,h.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4",children:[(0,h.jsx)("span",{className:"text-center text-4xl font-bold",children:"...or using a dropzone:"}),(0,h.jsx)(n,{...a})]})]})}let q=a=>{(0,e.warnIfInvalidPeerDependency)("@uploadthing/react",d.peerDependencies.uploadthing,f.version);let b=(0,e.resolveMaybeUrlArg)(a?.url),c=a?.fetch??globalThis.fetch;return a=>(0,h.jsx)(m,{...a,url:b,fetch:c})},r=a=>{(0,e.warnIfInvalidPeerDependency)("@uploadthing/react",d.peerDependencies.uploadthing,f.version);let b=(0,e.resolveMaybeUrlArg)(a?.url),c=a?.fetch??globalThis.fetch;return a=>(0,h.jsx)(n,{...a,url:b,fetch:c})},s=a=>{(0,e.warnIfInvalidPeerDependency)("@uploadthing/react",d.peerDependencies.uploadthing,f.version);let b=(0,e.resolveMaybeUrlArg)(a?.url),c=a?.fetch??globalThis.fetch;return a=>(0,h.jsx)(o,{...a,url:b,fetch:c})};a.s(["generateUploadButton",()=>q,"generateUploadDropzone",()=>r,"generateUploader",()=>s]),c()}catch(a){c(a)}},!1),261539,a=>a.a(async(b,c)=>{try{var d=a.i(933121),e=a.i(957510),f=b([d,e]);[d,e]=f.then?(await f)():f,(0,e.generateUploadButton)();let g=(0,e.generateUploadDropzone)();(0,e.generateUploader)();let{useUploadThing:h,uploadFiles:i}=(0,d.generateReactHelpers)();a.s(["UploadDropzone",()=>g]),c()}catch(a){c(a)}},!1),391441,a=>a.a(async(b,c)=>{try{var d=a.i(187924),e=a.i(976695),f=a.i(633508),g=a.i(571987),h=a.i(699570),i=a.i(261539),j=b([i]);[i]=j.then?(await j)():j,a.s(["default",0,({apiEndpoint:a,onChange:b,value:c,className:j})=>{let k=c?.split(".").pop();return c?(0,d.jsxs)("div",{className:"flex flex-col justify-center items-center",children:["pdf"!==k?(0,d.jsx)("div",{className:`relative ${j} w-40 h-40`,children:(0,d.jsx)(g.default,{src:c,alt:"uploaded image",className:"object-contain",fill:!0})}):(0,d.jsxs)("div",{className:"relative flex items-center p-2 mt-2 rounded-md bg-background/10",children:[(0,d.jsx)(e.FileIcon,{}),(0,d.jsx)("a",{href:c,target:"_blank",rel:"noopener_noreferrer",className:"ml-2 text-sm text-accent hover-underline",children:"View PDF"})]}),(0,d.jsxs)(h.Button,{onClick:()=>b(""),variant:"ghost",type:"button",children:[(0,d.jsx)(f.X,{className:"h-4 w-4"}),"Remove Logo"]})]}):(0,d.jsx)("div",{className:"w-full bg-muted/30",children:(0,d.jsx)(i.UploadDropzone,{endpoint:a,onClientUploadComplete:a=>{b(a?.[0].url)},onUploadError:a=>{console.log(a)}})})}]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=_905c1f7a._.js.map