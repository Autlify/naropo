module.exports=[539726,a=>{"use strict";var b=a.i(156757);let c=b.z.object({name:b.z.string().min(1),pathName:b.z.string().optional()}),d=b.z.object({name:b.z.string().min(1)}),e=b.z.object({name:b.z.string().min(1),description:b.z.string(),subDomainName:b.z.string().optional(),favicon:b.z.string().optional()}),f=b.z.object({name:b.z.string().min(1)}),g=/^\d+(\.\d{1,2})?$/,h=b.z.object({name:b.z.string().min(1),description:b.z.string().optional(),value:b.z.string().refine(a=>g.test(a),{message:"Value must be a valid price."})}),i=b.z.object({name:b.z.string().min(1,"Required"),email:b.z.string().email()});a.s(["ContactUserFormSchema",0,i,"CreateFunnelFormSchema",0,e,"CreatePipelineFormSchema",0,d,"FunnelPageSchema",0,c,"LaneFormSchema",0,f,"TicketFormSchema",0,h])},104652,a=>{"use strict";var b=a.i(405050);let c=(0,b.createServerReference)("4014e99c6800051bb437e2f35bba1024ed9917f9c2",b.callServer,void 0,b.findSourceMapURL,"upsertContact");a.s(["upsertContact",()=>c])},552265,a=>{"use strict";var b=a.i(187924),c=a.i(159501),d=a.i(572131),e=a.i(695245),f=a.i(441921),g=a.i(591119),h=a.i(866718),i=a.i(699570),j=a.i(187624),k=a.i(539726),l=a.i(125581),m=a.i(104652),n=a.i(878125),o=a.i(50944),p=a.i(864527);let q=({subaccountId:a})=>{let{setClose:q,data:r}=(0,p.useModal)(),s=(0,o.useRouter)(),t=(0,e.useForm)({mode:"onChange",resolver:(0,c.zodResolver)(k.ContactUserFormSchema),defaultValues:{name:"",email:""}});(0,d.useEffect)(()=>{r.contact&&t.reset(r.contact)},[r,t.reset]);let u=t.formState.isLoading,v=async b=>{try{let c=await (0,m.upsertContact)({email:b.email,subAccountId:a,name:b.name});await (0,l.saveActivityLogsNotification)({agencyId:void 0,description:`Updated a contact | ${c?.name}`,subaccountId:a}),(0,n.toast)({title:"Success",description:"Saved contact details"}),q(),s.refresh()}catch(a){(0,n.toast)({variant:"destructive",title:"Oppse!",description:"Could not save contact details"})}};return(0,b.jsxs)(g.Card,{className:" w-full",children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsx)(g.CardTitle,{children:"Contact Info"}),(0,b.jsx)(g.CardDescription,{children:"You can assign tickets to contacts and set a value for each contact in the ticket."})]}),(0,b.jsx)(g.CardContent,{children:(0,b.jsx)(f.Form,{...t,children:(0,b.jsxs)("form",{onSubmit:t.handleSubmit(v),className:"flex flex-col gap-4",children:[(0,b.jsx)(f.FormField,{disabled:u,control:t.control,name:"name",render:({field:a})=>(0,b.jsxs)(f.FormItem,{children:[(0,b.jsx)(f.FormLabel,{children:"Name"}),(0,b.jsx)(f.FormControl,{children:(0,b.jsx)(h.Input,{placeholder:"Name",...a})}),(0,b.jsx)(f.FormMessage,{})]})}),(0,b.jsx)(f.FormField,{disabled:u,control:t.control,name:"email",render:({field:a})=>(0,b.jsxs)(f.FormItem,{children:[(0,b.jsx)(f.FormLabel,{children:"Email"}),(0,b.jsx)(f.FormControl,{children:(0,b.jsx)(h.Input,{type:"email",placeholder:"Email",...a})}),(0,b.jsx)(f.FormMessage,{})]})}),(0,b.jsx)(i.Button,{className:"mt-4",disabled:u,type:"submit",children:t.formState.isSubmitting?(0,b.jsx)(j.default,{}):"Save Contact Details!"})]})})})]})};var r=a.i(874235);a.s(["default",0,({subaccountId:a})=>{let{setOpen:c}=(0,p.useModal)(),d=async()=>{c((0,b.jsx)(r.default,{title:"Create Or Update Contact information",subheading:"Contacts are like customers.",children:(0,b.jsx)(q,{subaccountId:a})}))};return(0,b.jsx)(i.Button,{onClick:d,children:"Create Contact"})}],552265)}];

//# sourceMappingURL=src_98a21314._.js.map