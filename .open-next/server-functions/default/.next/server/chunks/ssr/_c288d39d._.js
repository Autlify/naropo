module.exports=[206015,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(368114);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{className:"relative w-full overflow-auto",children:(0,b.jsx)("table",{ref:e,className:(0,d.cn)("w-full caption-bottom text-sm",a),...c})}));e.displayName="Table";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("thead",{ref:e,className:(0,d.cn)("[&_tr]:border-b",a),...c}));f.displayName="TableHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tbody",{ref:e,className:(0,d.cn)("[&_tr:last-child]:border-0",a),...c}));g.displayName="TableBody";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tfoot",{ref:e,className:(0,d.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...c}));h.displayName="TableFooter";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tr",{ref:e,className:(0,d.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...c}));i.displayName="TableRow";let j=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("th",{ref:e,className:(0,d.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...c}));j.displayName="TableHead";let k=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("td",{ref:e,className:(0,d.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...c}));k.displayName="TableCell";let l=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("caption",{ref:e,className:(0,d.cn)("mt-4 text-sm text-muted-foreground",a),...c}));l.displayName="TableCaption",a.s(["Table",()=>e,"TableBody",()=>g,"TableCaption",()=>l,"TableCell",()=>k,"TableFooter",()=>h,"TableHead",()=>j,"TableHeader",()=>f,"TableRow",()=>i])},429246,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(368114);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("textarea",{className:(0,d.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:e,...c}));e.displayName="Textarea",a.s(["Textarea",()=>e])},539726,a=>{"use strict";var b=a.i(156757);let c=b.z.object({name:b.z.string().min(1),pathName:b.z.string().optional()}),d=b.z.object({name:b.z.string().min(1)}),e=b.z.object({name:b.z.string().min(1),description:b.z.string(),subDomainName:b.z.string().optional(),favicon:b.z.string().optional()}),f=b.z.object({name:b.z.string().min(1)}),g=/^\d+(\.\d{1,2})?$/,h=b.z.object({name:b.z.string().min(1),description:b.z.string().optional(),value:b.z.string().refine(a=>g.test(a),{message:"Value must be a valid price."})}),i=b.z.object({name:b.z.string().min(1,"Required"),email:b.z.string().email()});a.s(["ContactUserFormSchema",0,i,"CreateFunnelFormSchema",0,e,"CreatePipelineFormSchema",0,d,"FunnelPageSchema",0,c,"LaneFormSchema",0,f,"TicketFormSchema",0,h])},452495,a=>{"use strict";let b=(0,a.i(170106).default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);a.s(["ExternalLink",()=>b],452495)},728874,a=>{"use strict";var b=a.i(405050);let c=(0,b.createServerReference)("704ec26aac1ae7f8cb08a0bd240a8a07e832cd2722",b.callServer,void 0,b.findSourceMapURL,"upsertFunnel");a.s(["upsertFunnel",()=>c])},794497,a=>a.a(async(b,c)=>{try{var d=a.i(187924),e=a.i(572131),f=a.i(441921),g=a.i(591119),h=a.i(695245),i=a.i(866718),j=a.i(429246),k=a.i(699570),l=a.i(187624),m=a.i(539726),n=a.i(125581),o=a.i(728874),p=a.i(970806),q=a.i(878125),r=a.i(864527),s=a.i(50944),t=a.i(159501),u=a.i(391441),v=b([u]);[u]=v.then?(await v)():v,a.s(["default",0,({defaultData:a,subAccountId:b})=>{let{setClose:c}=(0,r.useModal)(),v=(0,s.useRouter)(),w=(0,h.useForm)({mode:"onChange",resolver:(0,t.zodResolver)(m.CreateFunnelFormSchema),defaultValues:{name:a?.name||"",description:a?.description||"",favicon:a?.favicon||"",subDomainName:a?.subDomainName||""}});(0,e.useEffect)(()=>{a&&w.reset({description:a.description||"",favicon:a.favicon||"",name:a.name||"",subDomainName:a.subDomainName||""})},[a]);let x=w.formState.isLoading,y=async d=>{if(!b)return;let e=await (0,o.upsertFunnel)(b,{...d,liveProducts:a?.liveProducts||"[]"},a?.id||(0,p.v4)());await (0,n.saveActivityLogsNotification)({agencyId:void 0,description:`Update funnel | ${e.name}`,subaccountId:b}),e?(0,q.toast)({title:"Success",description:"Saved funnel details"}):(0,q.toast)({variant:"destructive",title:"Oppse!",description:"Could not save funnel details"}),c(),v.refresh()};return(0,d.jsxs)(g.Card,{className:"flex-1",children:[(0,d.jsx)(g.CardHeader,{children:(0,d.jsx)(g.CardTitle,{children:"Funnel Details"})}),(0,d.jsx)(g.CardContent,{children:(0,d.jsx)(f.Form,{...w,children:(0,d.jsxs)("form",{onSubmit:w.handleSubmit(y),className:"flex flex-col gap-4",children:[(0,d.jsx)(f.FormField,{disabled:x,control:w.control,name:"name",render:({field:a})=>(0,d.jsxs)(f.FormItem,{children:[(0,d.jsx)(f.FormLabel,{children:"Funnel Name"}),(0,d.jsx)(f.FormControl,{children:(0,d.jsx)(i.Input,{placeholder:"Name",...a})})]})}),(0,d.jsx)(f.FormField,{disabled:x,control:w.control,name:"description",render:({field:a})=>(0,d.jsxs)(f.FormItem,{children:[(0,d.jsx)(f.FormLabel,{children:"Funnel Description"}),(0,d.jsx)(f.FormControl,{children:(0,d.jsx)(j.Textarea,{placeholder:"Tell us a little bit more about this funnel.",...a})})]})}),(0,d.jsx)(f.FormField,{disabled:x,control:w.control,name:"subDomainName",render:({field:a})=>(0,d.jsxs)(f.FormItem,{children:[(0,d.jsx)(f.FormLabel,{children:"Sub domain"}),(0,d.jsx)(f.FormControl,{children:(0,d.jsx)(i.Input,{placeholder:"Sub domain for funnel",...a})})]})}),(0,d.jsx)(f.FormField,{disabled:x,control:w.control,name:"favicon",render:({field:a})=>(0,d.jsxs)(f.FormItem,{children:[(0,d.jsx)(f.FormLabel,{children:"Favicon"}),(0,d.jsx)(f.FormControl,{children:(0,d.jsx)(u.default,{apiEndpoint:"subaccountLogo",value:a.value,onChange:a.onChange})}),(0,d.jsx)(f.FormMessage,{})]})}),(0,d.jsx)(k.Button,{className:"w-20 mt-4",disabled:x,type:"submit",children:w.formState.isSubmitting?(0,d.jsx)(l.default,{}):"Save"})]})})})]})}]),c()}catch(a){c(a)}},!1),950209,a=>{"use strict";var b=a.i(187924),c=a.i(478788),d=a.i(452308),e=a.i(587532),f=a.i(206015),g=a.i(864527),h=a.i(866718),i=a.i(699570),j=a.i(874235);function k({columns:a,data:k,filterValue:l,modalChildren:m,actionButtonText:n}){let{isOpen:o,setOpen:p,setClose:q}=(0,g.useModal)(),r=(0,c.useReactTable)({data:k,columns:a,getCoreRowModel:(0,d.getCoreRowModel)(),getFilteredRowModel:(0,d.getFilteredRowModel)()});return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center py-4 gap-2",children:[(0,b.jsx)(e.Search,{}),(0,b.jsx)(h.Input,{placeholder:"Search funnel name...",value:r.getColumn(l)?.getFilterValue()??"",onChange:a=>r.getColumn(l)?.setFilterValue(a.target.value),className:"h-12"})]}),(0,b.jsx)(i.Button,{className:"flex gap-2",onClick:()=>{m&&p((0,b.jsx)(j.default,{title:"Create A Funnel",subheading:"Funnels are a like websites, but better! Try creating one!",children:m}))},children:n})]}),(0,b.jsx)("div",{className:" border bg-background rounded-lg",children:(0,b.jsxs)(f.Table,{className:"",children:[(0,b.jsx)(f.TableHeader,{children:r.getHeaderGroups().map(a=>(0,b.jsx)(f.TableRow,{children:a.headers.map(a=>(0,b.jsx)(f.TableHead,{children:a.isPlaceholder?null:(0,c.flexRender)(a.column.columnDef.header,a.getContext())},a.id))},a.id))}),(0,b.jsx)(f.TableBody,{children:r.getRowModel().rows.length?r.getRowModel().rows.map(a=>(0,b.jsx)(f.TableRow,{"data-state":a.getIsSelected()&&"selected",children:a.getVisibleCells().map(a=>(0,b.jsx)(f.TableCell,{children:(0,c.flexRender)(a.column.columnDef.cell,a.getContext())},a.id))},a.id)):(0,b.jsx)(f.TableRow,{children:(0,b.jsx)(f.TableCell,{colSpan:a.length,className:"h-24 text-center",children:"No Results."})})})]})})]})}a.s(["default",()=>k])},223197,a=>{"use strict";var b=a.i(187924),c=a.i(786304),d=a.i(452495),e=a.i(238246);let f=[{accessorKey:"name",header:"Name",cell:({row:a})=>(0,b.jsxs)(e.default,{className:"flex gap-2 items-center",href:`/subaccount/${a.original.subAccountId}/funnels/${a.original.id}`,children:[a.getValue("name"),(0,b.jsx)(d.ExternalLink,{size:15})]})},{accessorKey:"updatedAt",header:"Last Updated",cell:({row:a})=>{let c=` ${a.original.updatedAt.toDateString()} ${a.original.updatedAt.toLocaleTimeString()} `;return(0,b.jsx)("span",{className:"text-muted-foreground",children:c})}},{accessorKey:"published",header:"Status",cell:({row:a})=>a.original.published?(0,b.jsxs)(c.Badge,{variant:"default",children:["Live - ",a.original.subDomainName]}):(0,b.jsx)(c.Badge,{variant:"secondary",children:"Draft"})}];a.s(["columns",0,f])}];

//# sourceMappingURL=_c288d39d._.js.map