module.exports=[193695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},650645,a=>{a.n(a.i(827572))},43619,a=>{a.n(a.i(379962))},13718,a=>{a.n(a.i(685523))},118198,a=>{a.n(a.i(545518))},262212,a=>{a.n(a.i(866114))},449993,a=>{a.n(a.i(943644))},462449,a=>{"use strict";a.s(["CheckoutForm",()=>b]);let b=(0,a.i(211857).registerClientReference)(function(){throw Error("Attempted to call CheckoutForm() from the server but CheckoutForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/app/site/pricing/checkout/[priceId]/_components/checkout-form.tsx <module evaluation>","CheckoutForm")},483881,a=>{"use strict";a.s(["CheckoutForm",()=>b]);let b=(0,a.i(211857).registerClientReference)(function(){throw Error("Attempted to call CheckoutForm() from the server but CheckoutForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/app/site/pricing/checkout/[priceId]/_components/checkout-form.tsx","CheckoutForm")},505491,a=>{"use strict";a.i(462449);var b=a.i(483881);a.n(b)},721769,a=>{"use strict";var b=a.i(907997);a.i(570396);var c=a.i(673727),d=a.i(860023),e=a.i(505491),f=a.i(577607),g=a.i(284293),h=a.i(142338);async function i({params:a}){let{priceId:i}=await a,j=await (0,f.auth)(),k=(0,d.getPricingCardByPriceId)(i),l=await (0,g.getUser)(j?.user?.id||"");k||(0,c.notFound)(),j?.user&&l||(0,c.redirect)("/sign-in?callbackUrl="+encodeURIComponent(`/site/pricing/checkout/${i}`));let m=null,n=[];if(l.customerId)try{(m=await h.stripe.customers.retrieve(l.customerId)).deleted||(n=(await h.stripe.paymentMethods.list({customer:l.customerId,type:"card"})).data)}catch(a){console.error("Error fetching customer data:",a)}let o=m&&!m.deleted?{id:m.id,email:m.email??null,name:m.name??null,phone:m.phone??null,address:m.address?{line1:m.address.line1??null,line2:m.address.line2??null,city:m.address.city??null,state:m.address.state??null,postal_code:m.address.postal_code??null,country:m.address.country??null}:null,metadata:m.metadata,default_payment_method:m.invoice_settings.default_payment_method??null}:null,p=n.map(a=>({id:a.id,card:a.card?{cardholder_name:a.card_present?.cardholder_name||null,brand:a.card.brand,last4:a.card.last4,exp_month:a.card.exp_month,exp_year:a.card.exp_year,isDefault:a.id===o?.default_payment_method}:null})),q={title:k.title,price:k.price,duration:"month"===k.interval?"Monthly":"Yearly",features:k.features,trialEnabled:k.trialEnabled,trialPeriodDays:k.trialDays};return(0,b.jsx)("div",{className:"w-full min-h-screen justify-center",children:(0,b.jsx)(e.CheckoutForm,{priceId:i,planConfig:q,agencyEmail:j?.user.email,user:{id:l.id,email:l.email,name:l.name||"",firstName:l.firstName||"",lastName:l.lastName||"",trialEligible:l.trialEligible},existingCustomer:o,existingPaymentMethods:p})})}a.s(["default",()=>i])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__dbff7a11._.js.map