module.exports=[875083,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(507554),e=a.i(750104),f=a.i(224050),g=a.i(777192),h=a.i(30553),i=a.i(507827),j=a.i(225152),k=a.i(392843),l="Tabs",[m,n]=(0,e.createContextScope)(l,[f.createRovingFocusGroupScope]),o=(0,f.createRovingFocusGroupScope)(),[p,q]=m(l),r=c.forwardRef((a,c)=>{let{__scopeTabs:d,value:e,onValueChange:f,defaultValue:g,orientation:m="horizontal",dir:n,activationMode:o="automatic",...q}=a,r=(0,i.useDirection)(n),[s,t]=(0,j.useControllableState)({prop:e,onChange:f,defaultProp:g??"",caller:l});return(0,b.jsx)(p,{scope:d,baseId:(0,k.useId)(),value:s,onValueChange:t,orientation:m,dir:r,activationMode:o,children:(0,b.jsx)(h.Primitive.div,{dir:r,"data-orientation":m,...q,ref:c})})});r.displayName=l;var s="TabsList",t=c.forwardRef((a,c)=>{let{__scopeTabs:d,loop:e=!0,...g}=a,i=q(s,d),j=o(d);return(0,b.jsx)(f.Root,{asChild:!0,...j,orientation:i.orientation,dir:i.dir,loop:e,children:(0,b.jsx)(h.Primitive.div,{role:"tablist","aria-orientation":i.orientation,...g,ref:c})})});t.displayName=s;var u="TabsTrigger",v=c.forwardRef((a,c)=>{let{__scopeTabs:e,value:g,disabled:i=!1,...j}=a,k=q(u,e),l=o(e),m=y(k.baseId,g),n=z(k.baseId,g),p=g===k.value;return(0,b.jsx)(f.Item,{asChild:!0,...l,focusable:!i,active:p,children:(0,b.jsx)(h.Primitive.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":n,"data-state":p?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:m,...j,ref:c,onMouseDown:(0,d.composeEventHandlers)(a.onMouseDown,a=>{i||0!==a.button||!1!==a.ctrlKey?a.preventDefault():k.onValueChange(g)}),onKeyDown:(0,d.composeEventHandlers)(a.onKeyDown,a=>{[" ","Enter"].includes(a.key)&&k.onValueChange(g)}),onFocus:(0,d.composeEventHandlers)(a.onFocus,()=>{let a="manual"!==k.activationMode;p||i||!a||k.onValueChange(g)})})})});v.displayName=u;var w="TabsContent",x=c.forwardRef((a,d)=>{let{__scopeTabs:e,value:f,forceMount:i,children:j,...k}=a,l=q(w,e),m=y(l.baseId,f),n=z(l.baseId,f),o=f===l.value,p=c.useRef(o);return c.useEffect(()=>{let a=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(a)},[]),(0,b.jsx)(g.Presence,{present:i||o,children:({present:c})=>(0,b.jsx)(h.Primitive.div,{"data-state":o?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":m,hidden:!c,id:n,tabIndex:0,...k,ref:d,style:{...a.style,animationDuration:p.current?"0s":void 0},children:c&&j})})});function y(a,b){return`${a}-trigger-${b}`}function z(a,b){return`${a}-content-${b}`}x.displayName=w;var A=a.i(368114);let B=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(t,{ref:d,className:(0,A.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...c}));B.displayName=t.displayName;let C=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(v,{ref:d,className:(0,A.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...c}));C.displayName=v.displayName;let D=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(x,{ref:d,className:(0,A.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...c}));D.displayName=x.displayName,a.s(["Tabs",()=>r,"TabsContent",()=>D,"TabsList",()=>B,"TabsTrigger",()=>C],875083)},104720,a=>{"use strict";let b=(0,a.i(170106).default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);a.s(["FileText",()=>b],104720)},429246,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(368114);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("textarea",{className:(0,d.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:e,...c}));e.displayName="Textarea",a.s(["Textarea",()=>e])},717545,a=>{"use strict";let b=(0,a.i(170106).default)("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);a.s(["Layers",()=>b],717545)},217201,892692,a=>{"use strict";let b=(0,a.i(170106).default)("trash",[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);a.s(["default",()=>b],892692),a.s(["Trash",()=>b],217201)},539726,a=>{"use strict";var b=a.i(156757);let c=b.z.object({name:b.z.string().min(1),pathName:b.z.string().optional()}),d=b.z.object({name:b.z.string().min(1)}),e=b.z.object({name:b.z.string().min(1),description:b.z.string(),subDomainName:b.z.string().optional(),favicon:b.z.string().optional()}),f=b.z.object({name:b.z.string().min(1)}),g=/^\d+(\.\d{1,2})?$/,h=b.z.object({name:b.z.string().min(1),description:b.z.string().optional(),value:b.z.string().refine(a=>g.test(a),{message:"Value must be a valid price."})}),i=b.z.object({name:b.z.string().min(1,"Required"),email:b.z.string().email()});a.s(["ContactUserFormSchema",0,i,"CreateFunnelFormSchema",0,e,"CreatePipelineFormSchema",0,d,"FunnelPageSchema",0,c,"LaneFormSchema",0,f,"TicketFormSchema",0,h])},565994,a=>{"use strict";function b(a,b){if(!a)throw Error("Invariant failed")}a.s(["default",()=>b])},806053,a=>{"use strict";let b=(0,a.i(170106).default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);a.s(["default",()=>b])},992258,a=>{"use strict";let b=(0,a.i(170106).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);a.s(["Mail",()=>b],992258)},310340,a=>{"use strict";var b=a.i(405050);let c=(0,b.createServerReference)("703b820f754dbf26ce5a2eb3e694e89ed46e4746b4",b.callServer,void 0,b.findSourceMapURL,"upsertFunnelPage");a.s(["upsertFunnelPage",()=>c])},849625,a=>{"use strict";let b=(0,a.i(170106).default)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);a.s(["default",()=>b])},728874,a=>{"use strict";var b=a.i(405050);let c=(0,b.createServerReference)("704ec26aac1ae7f8cb08a0bd240a8a07e832cd2722",b.callServer,void 0,b.findSourceMapURL,"upsertFunnel");a.s(["upsertFunnel",()=>c])},754878,a=>{"use strict";var b=a.i(405050);let c=(0,b.createServerReference)("606e68984bfc7c4dd372fb7eaec13c366b6d7ea801",b.callServer,void 0,b.findSourceMapURL,"updateFunnelProducts");a.s(["updateFunnelProducts",()=>c])},512487,a=>{"use strict";var b=a.i(405050);let c=(0,b.createServerReference)("409803f7ade07abe17217434dfcb1846bb0de68466",b.callServer,void 0,b.findSourceMapURL,"deleteFunnelePage");a.s(["deleteFunnelePage",()=>c])},432747,a=>{"use strict";var b=a.i(405050);let c=(0,b.createServerReference)("400e4d995979460cf4c84b25cb2d9f8149e51e230a",b.callServer,void 0,b.findSourceMapURL,"getFunnels");a.s(["getFunnels",()=>c])},794497,a=>a.a(async(b,c)=>{try{var d=a.i(187924),e=a.i(572131),f=a.i(441921),g=a.i(591119),h=a.i(695245),i=a.i(866718),j=a.i(429246),k=a.i(699570),l=a.i(187624),m=a.i(539726),n=a.i(125581),o=a.i(728874),p=a.i(970806),q=a.i(878125),r=a.i(864527),s=a.i(50944),t=a.i(159501),u=a.i(391441),v=b([u]);[u]=v.then?(await v)():v,a.s(["default",0,({defaultData:a,subAccountId:b})=>{let{setClose:c}=(0,r.useModal)(),v=(0,s.useRouter)(),w=(0,h.useForm)({mode:"onChange",resolver:(0,t.zodResolver)(m.CreateFunnelFormSchema),defaultValues:{name:a?.name||"",description:a?.description||"",favicon:a?.favicon||"",subDomainName:a?.subDomainName||""}});(0,e.useEffect)(()=>{a&&w.reset({description:a.description||"",favicon:a.favicon||"",name:a.name||"",subDomainName:a.subDomainName||""})},[a]);let x=w.formState.isLoading,y=async d=>{if(!b)return;let e=await (0,o.upsertFunnel)(b,{...d,liveProducts:a?.liveProducts||"[]"},a?.id||(0,p.v4)());await (0,n.saveActivityLogsNotification)({agencyId:void 0,description:`Update funnel | ${e.name}`,subaccountId:b}),e?(0,q.toast)({title:"Success",description:"Saved funnel details"}):(0,q.toast)({variant:"destructive",title:"Oppse!",description:"Could not save funnel details"}),c(),v.refresh()};return(0,d.jsxs)(g.Card,{className:"flex-1",children:[(0,d.jsx)(g.CardHeader,{children:(0,d.jsx)(g.CardTitle,{children:"Funnel Details"})}),(0,d.jsx)(g.CardContent,{children:(0,d.jsx)(f.Form,{...w,children:(0,d.jsxs)("form",{onSubmit:w.handleSubmit(y),className:"flex flex-col gap-4",children:[(0,d.jsx)(f.FormField,{disabled:x,control:w.control,name:"name",render:({field:a})=>(0,d.jsxs)(f.FormItem,{children:[(0,d.jsx)(f.FormLabel,{children:"Funnel Name"}),(0,d.jsx)(f.FormControl,{children:(0,d.jsx)(i.Input,{placeholder:"Name",...a})})]})}),(0,d.jsx)(f.FormField,{disabled:x,control:w.control,name:"description",render:({field:a})=>(0,d.jsxs)(f.FormItem,{children:[(0,d.jsx)(f.FormLabel,{children:"Funnel Description"}),(0,d.jsx)(f.FormControl,{children:(0,d.jsx)(j.Textarea,{placeholder:"Tell us a little bit more about this funnel.",...a})})]})}),(0,d.jsx)(f.FormField,{disabled:x,control:w.control,name:"subDomainName",render:({field:a})=>(0,d.jsxs)(f.FormItem,{children:[(0,d.jsx)(f.FormLabel,{children:"Sub domain"}),(0,d.jsx)(f.FormControl,{children:(0,d.jsx)(i.Input,{placeholder:"Sub domain for funnel",...a})})]})}),(0,d.jsx)(f.FormField,{disabled:x,control:w.control,name:"favicon",render:({field:a})=>(0,d.jsxs)(f.FormItem,{children:[(0,d.jsx)(f.FormLabel,{children:"Favicon"}),(0,d.jsx)(f.FormControl,{children:(0,d.jsx)(u.default,{apiEndpoint:"subaccountLogo",value:a.value,onChange:a.onChange})}),(0,d.jsx)(f.FormMessage,{})]})}),(0,d.jsx)(k.Button,{className:"w-20 mt-4",disabled:x,type:"submit",children:w.formState.isSubmitting?(0,d.jsx)(l.default,{}):"Save"})]})})})]})}]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=_32c4a6c7._.js.map