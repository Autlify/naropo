module.exports=[915618,a=>{"use strict";let b=(0,a.i(170106).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],915618)},603314,a=>{"use strict";let b=(0,a.i(170106).default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);a.s(["Shield",()=>b],603314)},660246,a=>{"use strict";let b=(0,a.i(170106).default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);a.s(["Users",()=>b],660246)},206015,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(368114);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{className:"relative w-full overflow-auto",children:(0,b.jsx)("table",{ref:e,className:(0,d.cn)("w-full caption-bottom text-sm",a),...c})}));e.displayName="Table";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("thead",{ref:e,className:(0,d.cn)("[&_tr]:border-b",a),...c}));f.displayName="TableHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tbody",{ref:e,className:(0,d.cn)("[&_tr:last-child]:border-0",a),...c}));g.displayName="TableBody";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tfoot",{ref:e,className:(0,d.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...c}));h.displayName="TableFooter";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tr",{ref:e,className:(0,d.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...c}));i.displayName="TableRow";let j=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("th",{ref:e,className:(0,d.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...c}));j.displayName="TableHead";let k=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("td",{ref:e,className:(0,d.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...c}));k.displayName="TableCell";let l=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("caption",{ref:e,className:(0,d.cn)("mt-4 text-sm text-muted-foreground",a),...c}));l.displayName="TableCaption",a.s(["Table",()=>e,"TableBody",()=>g,"TableCaption",()=>l,"TableCell",()=>k,"TableFooter",()=>h,"TableHead",()=>j,"TableHeader",()=>f,"TableRow",()=>i])},130656,a=>{"use strict";function b(a,[b,c]){return Math.min(c,Math.max(b,a))}a.s(["clamp",()=>b])},486192,a=>{"use strict";let b;var c=a.i(187924),d=a.i(572131),e=a.i(750104),f=a.i(470121),g=a.i(897942),h=a.i(507554),i=Symbol("radix.slottable"),j="AlertDialog",[k,l]=(0,e.createContextScope)(j,[g.createDialogScope]),m=(0,g.createDialogScope)(),n=a=>{let{__scopeAlertDialog:b,...d}=a,e=m(b);return(0,c.jsx)(g.Root,{...e,...d,modal:!0})};n.displayName=j;var o=d.forwardRef((a,b)=>{let{__scopeAlertDialog:d,...e}=a,f=m(d);return(0,c.jsx)(g.Trigger,{...f,...e,ref:b})});o.displayName="AlertDialogTrigger";var p=a=>{let{__scopeAlertDialog:b,...d}=a,e=m(b);return(0,c.jsx)(g.Portal,{...e,...d})};p.displayName="AlertDialogPortal";var q=d.forwardRef((a,b)=>{let{__scopeAlertDialog:d,...e}=a,f=m(d);return(0,c.jsx)(g.Overlay,{...f,...e,ref:b})});q.displayName="AlertDialogOverlay";var r="AlertDialogContent",[s,t]=k(r),u=((b=({children:a})=>(0,c.jsx)(c.Fragment,{children:a})).displayName="AlertDialogContent.Slottable",b.__radixId=i,b),v=d.forwardRef((a,b)=>{let{__scopeAlertDialog:e,children:i,...j}=a,k=m(e),l=d.useRef(null),n=(0,f.useComposedRefs)(b,l),o=d.useRef(null);return(0,c.jsx)(g.WarningProvider,{contentName:r,titleName:w,docsSlug:"alert-dialog",children:(0,c.jsx)(s,{scope:e,cancelRef:o,children:(0,c.jsxs)(g.Content,{role:"alertdialog",...k,...j,ref:n,onOpenAutoFocus:(0,h.composeEventHandlers)(j.onOpenAutoFocus,a=>{a.preventDefault(),o.current?.focus({preventScroll:!0})}),onPointerDownOutside:a=>a.preventDefault(),onInteractOutside:a=>a.preventDefault(),children:[(0,c.jsx)(u,{children:i}),(0,c.jsx)(D,{contentRef:l})]})})})});v.displayName=r;var w="AlertDialogTitle",x=d.forwardRef((a,b)=>{let{__scopeAlertDialog:d,...e}=a,f=m(d);return(0,c.jsx)(g.Title,{...f,...e,ref:b})});x.displayName=w;var y="AlertDialogDescription",z=d.forwardRef((a,b)=>{let{__scopeAlertDialog:d,...e}=a,f=m(d);return(0,c.jsx)(g.Description,{...f,...e,ref:b})});z.displayName=y;var A=d.forwardRef((a,b)=>{let{__scopeAlertDialog:d,...e}=a,f=m(d);return(0,c.jsx)(g.Close,{...f,...e,ref:b})});A.displayName="AlertDialogAction";var B="AlertDialogCancel",C=d.forwardRef((a,b)=>{let{__scopeAlertDialog:d,...e}=a,{cancelRef:h}=t(B,d),i=m(d),j=(0,f.useComposedRefs)(b,h);return(0,c.jsx)(g.Close,{...i,...e,ref:j})});C.displayName=B;var D=({contentRef:a})=>{let b=`\`${r}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${r}\` by passing a \`${y}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${r}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return d.useEffect(()=>{document.getElementById(a.current?.getAttribute("aria-describedby"))||console.warn(b)},[b,a]),null},E=a.i(368114),F=a.i(699570);let G=d.forwardRef(({className:a,...b},d)=>(0,c.jsx)(q,{className:(0,E.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...b,ref:d}));G.displayName=q.displayName;let H=d.forwardRef(({className:a,...b},d)=>(0,c.jsxs)(p,{children:[(0,c.jsx)(G,{}),(0,c.jsx)(v,{ref:d,className:(0,E.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...b})]}));H.displayName=v.displayName;let I=({className:a,...b})=>(0,c.jsx)("div",{className:(0,E.cn)("flex flex-col space-y-2 text-center sm:text-left",a),...b});I.displayName="AlertDialogHeader";let J=({className:a,...b})=>(0,c.jsx)("div",{className:(0,E.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...b});J.displayName="AlertDialogFooter";let K=d.forwardRef(({className:a,...b},d)=>(0,c.jsx)(x,{ref:d,className:(0,E.cn)("text-lg font-semibold",a),...b}));K.displayName=x.displayName;let L=d.forwardRef(({className:a,...b},d)=>(0,c.jsx)(z,{ref:d,className:(0,E.cn)("text-sm text-muted-foreground",a),...b}));L.displayName=z.displayName;let M=d.forwardRef(({className:a,...b},d)=>(0,c.jsx)(A,{ref:d,className:(0,E.cn)((0,F.buttonVariants)(),a),...b}));M.displayName=A.displayName;let N=d.forwardRef(({className:a,...b},d)=>(0,c.jsx)(C,{ref:d,className:(0,E.cn)((0,F.buttonVariants)({variant:"outline"}),"mt-2 sm:mt-0",a),...b}));N.displayName=C.displayName,a.s(["AlertDialog",()=>n,"AlertDialogAction",()=>M,"AlertDialogCancel",()=>N,"AlertDialogContent",()=>H,"AlertDialogDescription",()=>L,"AlertDialogFooter",()=>J,"AlertDialogHeader",()=>I,"AlertDialogOverlay",()=>G,"AlertDialogPortal",()=>p,"AlertDialogTitle",()=>K,"AlertDialogTrigger",()=>o],486192)},315055,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(470121),e=a.i(750104),f=a.i(507554),g=a.i(225152),h=a.i(77994),i=a.i(3688),j=a.i(777192),k=a.i(30553),l="Checkbox",[m,n]=(0,e.createContextScope)(l),[o,p]=m(l);function q(a){let{__scopeCheckbox:d,checked:e,children:f,defaultChecked:h,disabled:i,form:j,name:k,onCheckedChange:m,required:n,value:p="on",internal_do_not_use_render:q}=a,[r,s]=(0,g.useControllableState)({prop:e,defaultProp:h??!1,onChange:m,caller:l}),[t,u]=c.useState(null),[v,w]=c.useState(null),x=c.useRef(!1),z=!t||!!j||!!t.closest("form"),A={checked:r,disabled:i,setChecked:s,control:t,setControl:u,name:k,form:j,value:p,hasConsumerStoppedPropagationRef:x,required:n,defaultChecked:!y(h)&&h,isFormControl:z,bubbleInput:v,setBubbleInput:w};return(0,b.jsx)(o,{scope:d,...A,children:"function"==typeof q?q(A):f})}var r="CheckboxTrigger",s=c.forwardRef(({__scopeCheckbox:a,onKeyDown:e,onClick:g,...h},i)=>{let{control:j,value:l,disabled:m,checked:n,required:o,setControl:q,setChecked:s,hasConsumerStoppedPropagationRef:t,isFormControl:u,bubbleInput:v}=p(r,a),w=(0,d.useComposedRefs)(i,q),x=c.useRef(n);return c.useEffect(()=>{let a=j?.form;if(a){let b=()=>s(x.current);return a.addEventListener("reset",b),()=>a.removeEventListener("reset",b)}},[j,s]),(0,b.jsx)(k.Primitive.button,{type:"button",role:"checkbox","aria-checked":y(n)?"mixed":n,"aria-required":o,"data-state":z(n),"data-disabled":m?"":void 0,disabled:m,value:l,...h,ref:w,onKeyDown:(0,f.composeEventHandlers)(e,a=>{"Enter"===a.key&&a.preventDefault()}),onClick:(0,f.composeEventHandlers)(g,a=>{s(a=>!!y(a)||!a),v&&u&&(t.current=a.isPropagationStopped(),t.current||a.stopPropagation())})})});s.displayName=r;var t=c.forwardRef((a,c)=>{let{__scopeCheckbox:d,name:e,checked:f,defaultChecked:g,required:h,disabled:i,value:j,onCheckedChange:k,form:l,...m}=a;return(0,b.jsx)(q,{__scopeCheckbox:d,checked:f,defaultChecked:g,disabled:i,required:h,onCheckedChange:k,name:e,form:l,value:j,internal_do_not_use_render:({isFormControl:a})=>(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(s,{...m,ref:c,__scopeCheckbox:d}),a&&(0,b.jsx)(x,{__scopeCheckbox:d})]})})});t.displayName=l;var u="CheckboxIndicator",v=c.forwardRef((a,c)=>{let{__scopeCheckbox:d,forceMount:e,...f}=a,g=p(u,d);return(0,b.jsx)(j.Presence,{present:e||y(g.checked)||!0===g.checked,children:(0,b.jsx)(k.Primitive.span,{"data-state":z(g.checked),"data-disabled":g.disabled?"":void 0,...f,ref:c,style:{pointerEvents:"none",...a.style}})})});v.displayName=u;var w="CheckboxBubbleInput",x=c.forwardRef(({__scopeCheckbox:a,...e},f)=>{let{control:g,hasConsumerStoppedPropagationRef:j,checked:l,defaultChecked:m,required:n,disabled:o,name:q,value:r,form:s,bubbleInput:t,setBubbleInput:u}=p(w,a),v=(0,d.useComposedRefs)(f,u),x=(0,h.usePrevious)(l),z=(0,i.useSize)(g);c.useEffect(()=>{if(!t)return;let a=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,b=!j.current;if(x!==l&&a){let c=new Event("click",{bubbles:b});t.indeterminate=y(l),a.call(t,!y(l)&&l),t.dispatchEvent(c)}},[t,x,l,j]);let A=c.useRef(!y(l)&&l);return(0,b.jsx)(k.Primitive.input,{type:"checkbox","aria-hidden":!0,defaultChecked:m??A.current,required:n,disabled:o,name:q,value:r,form:s,...e,tabIndex:-1,ref:v,style:{...e.style,...z,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function y(a){return"indeterminate"===a}function z(a){return y(a)?"indeterminate":a?"checked":"unchecked"}x.displayName=w;var A=a.i(533441),B=a.i(368114);let C=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(t,{ref:d,className:(0,B.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...c,children:(0,b.jsx)(v,{className:(0,B.cn)("flex items-center justify-center text-current"),children:(0,b.jsx)(A.Check,{className:"h-4 w-4"})})}));C.displayName=t.displayName,a.s(["Checkbox",()=>C],315055)},781560,a=>{"use strict";let b=(0,a.i(170106).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);a.s(["Trash2",()=>b],781560)},699464,a=>{"use strict";let b=(0,a.i(170106).default)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);a.s(["Pencil",()=>b],699464)},52123,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(405050);let e=(0,d.createServerReference)("6011a8992cb92945c217ee1eca1e244c9bf9fe7c6e",d.callServer,void 0,d.findSourceMapURL,"createRole"),f=(0,d.createServerReference)("606d1b955de2203579b8b8270c5546fce95a1461c3",d.callServer,void 0,d.findSourceMapURL,"updateRole"),g=(0,d.createServerReference)("400a6a038a8108a9da1d56cec4b0de0a39efc5261b",d.callServer,void 0,d.findSourceMapURL,"deleteRole"),h=(0,d.createServerReference)("407211c770e8ae4b42fae1866fa9494bcbe94c0003",d.callServer,void 0,d.findSourceMapURL,"getAvailablePermissions");var i=a.i(699570),j=a.i(591119),k=a.i(786304),l=a.i(814574),m=a.i(866718),n=a.i(870430),o=a.i(315055),p=a.i(206015),q=a.i(486192),r=a.i(915618),s=a.i(699464),t=a.i(781560),u=a.i(603314),v=a.i(943108),w=a.i(660246),x=a.i(596221),y=a.i(823292),z=a.i(269876);function A({agencyId:a,initialRoles:d}){let[A,B]=(0,c.useState)(d),[C,D]=(0,c.useState)(!1),[E,F]=(0,c.useState)(!1),[G,H]=(0,c.useState)(null),[I,J]=(0,c.useState)(null),[K,L]=(0,c.useState)(!1),[M,N]=(0,c.useState)(""),[O,P]=(0,c.useState)([]),[Q,R]=(0,c.useState)([]);(0,c.useEffect)(()=>{!async function(){let b=await h({agencyId:a});b.success&&R(b.data)}()},[]),(0,c.useEffect)(()=>{G?(N(G.name),P(G.Permissions.map(a=>a.Permission.id))):(N(""),P([]))},[G,C]);let S=async()=>{if(!M.trim())return void y.toast.error("Please enter a role name");if(0===O.length)return void y.toast.error("Please select at least one permission");L(!0);try{if(G){let a=await f(G.id,{name:M,permissionIds:O});a.success?(B(b=>b.map(b=>b.id===G.id?a.data:b)),y.toast.success("Role updated successfully"),D(!1)):y.toast.error(a.error)}else{let b=await e(a,{name:M,permissionIds:O,scope:"AGENCY"});b.success?(B(a=>[...a,b.data]),y.toast.success("Role created successfully"),D(!1)):y.toast.error(b.error)}}catch{y.toast.error("An unexpected error occurred")}finally{L(!1)}},T=async()=>{if(I){L(!0);try{let a=await g(I.id);a.success?(B(a=>a.filter(a=>a.id!==I.id)),y.toast.success("Role deleted successfully"),F(!1)):y.toast.error(a.error)}catch{y.toast.error("An unexpected error occurred")}finally{L(!1),J(null)}}},U=A.filter(a=>a.isSystem),V=A.filter(a=>!a.isSystem);return(0,b.jsxs)("div",{className:"space-y-6 w-full h-full",children:[(0,b.jsxs)(j.Card,{children:[(0,b.jsxs)(j.CardHeader,{children:[(0,b.jsxs)(j.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(u.Shield,{className:"h-5 w-5"}),"System Roles"]}),(0,b.jsx)(j.CardDescription,{children:"Predefined roles that cannot be modified. These are shared across all agencies."})]}),(0,b.jsx)(j.CardContent,{children:(0,b.jsxs)(p.Table,{children:[(0,b.jsx)(p.TableHeader,{children:(0,b.jsxs)(p.TableRow,{children:[(0,b.jsx)(p.TableHead,{children:"Name"}),(0,b.jsx)(p.TableHead,{children:"Scope"}),(0,b.jsx)(p.TableHead,{children:"Permissions"}),(0,b.jsx)(p.TableHead,{className:"text-right",children:"Users"})]})}),(0,b.jsxs)(p.TableBody,{children:[U.map(a=>(0,b.jsxs)(p.TableRow,{children:[(0,b.jsx)(p.TableCell,{className:"font-medium",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(v.Lock,{className:"h-4 w-4 text-muted-foreground"}),a.name]})}),(0,b.jsx)(p.TableCell,{children:(0,b.jsx)(k.Badge,{variant:"secondary",children:a.scope})}),(0,b.jsx)(p.TableCell,{children:(0,b.jsxs)("span",{className:"text-muted-foreground",children:[a.Permissions.length," permissions"]})}),(0,b.jsx)(p.TableCell,{className:"text-right",children:(0,b.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[(0,b.jsx)(w.Users,{className:"h-4 w-4 text-muted-foreground"}),a._count.AgencyMemberships+a._count.SubAccountMemberships]})})]},a.id)),0===U.length&&(0,b.jsx)(p.TableRow,{children:(0,b.jsx)(p.TableCell,{colSpan:4,className:"text-center text-muted-foreground",children:"No system roles found"})})]})]})})]}),(0,b.jsxs)(j.Card,{children:[(0,b.jsxs)(j.CardHeader,{className:"flex flex-row items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(j.CardTitle,{children:"Custom Roles"}),(0,b.jsx)(j.CardDescription,{children:"Agency-specific roles you can create and manage."})]}),(0,b.jsxs)(i.Button,{onClick:()=>{H(null),D(!0)},children:[(0,b.jsx)(r.Plus,{className:"mr-2 h-4 w-4"}),"Add Role"]})]}),(0,b.jsx)(j.CardContent,{children:(0,b.jsxs)(p.Table,{children:[(0,b.jsx)(p.TableHeader,{children:(0,b.jsxs)(p.TableRow,{children:[(0,b.jsx)(p.TableHead,{children:"Name"}),(0,b.jsx)(p.TableHead,{children:"Scope"}),(0,b.jsx)(p.TableHead,{children:"Permissions"}),(0,b.jsx)(p.TableHead,{className:"text-right",children:"Users"}),(0,b.jsx)(p.TableHead,{className:"text-right",children:"Actions"})]})}),(0,b.jsxs)(p.TableBody,{children:[V.map(a=>(0,b.jsxs)(p.TableRow,{children:[(0,b.jsx)(p.TableCell,{className:"font-medium",children:a.name}),(0,b.jsx)(p.TableCell,{children:(0,b.jsx)(k.Badge,{variant:"outline",children:a.scope})}),(0,b.jsx)(p.TableCell,{children:(0,b.jsxs)("span",{className:"text-muted-foreground",children:[a.Permissions.length," permissions"]})}),(0,b.jsx)(p.TableCell,{className:"text-right",children:(0,b.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[(0,b.jsx)(w.Users,{className:"h-4 w-4 text-muted-foreground"}),a._count.AgencyMemberships+a._count.SubAccountMemberships]})}),(0,b.jsx)(p.TableCell,{className:"text-right",children:(0,b.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,b.jsx)(i.Button,{variant:"ghost",size:"icon",onClick:()=>{H(a),D(!0)},children:(0,b.jsx)(s.Pencil,{className:"h-4 w-4"})}),(0,b.jsx)(i.Button,{variant:"ghost",size:"icon",onClick:()=>{J(a),F(!0)},disabled:a._count.AgencyMemberships+a._count.SubAccountMemberships>0,children:(0,b.jsx)(t.Trash2,{className:"h-4 w-4"})})]})})]},a.id)),0===V.length&&(0,b.jsx)(p.TableRow,{children:(0,b.jsx)(p.TableCell,{colSpan:5,className:"text-center text-muted-foreground",children:'No custom roles yet. Click "Add Role" to create one.'})})]})]})})]}),(0,b.jsx)(l.Dialog,{open:C,onOpenChange:D,children:(0,b.jsxs)(l.DialogContent,{className:"max-w-3xl  overflow-auto",children:[(0,b.jsxs)(l.DialogHeader,{children:[(0,b.jsx)(l.DialogTitle,{children:G?"Edit Role":"Create Role"}),(0,b.jsx)(l.DialogDescription,{children:G?"Modify the role name and permissions.":"Create a new custom role with specific permissions."})]}),(0,b.jsxs)("div",{className:"space-y-4 py-4 h-full",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(n.Label,{htmlFor:"roleName",children:"Role Name"}),(0,b.jsx)(m.Input,{id:"roleName",value:M,onChange:a=>N(a.target.value),placeholder:"e.g., Finance Manager"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(n.Label,{children:"Permissions"}),(0,b.jsxs)(z.ScrollArea,{className:"h-64 rounded-md border p-4",children:[Q.map(a=>(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("h4",{className:"mb-2 font-medium text-sm",children:a.category}),(0,b.jsx)("div",{className:"grid grid-cols-2 gap-2",children:a.permissions.map(a=>(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(o.Checkbox,{id:a.id,checked:O.includes(a.id),onCheckedChange:()=>{var b;return b=a.id,void P(a=>a.includes(b)?a.filter(a=>a!==b):[...a,b])}}),(0,b.jsx)(n.Label,{htmlFor:a.id,className:"text-sm font-normal cursor-pointer",children:a.key.split(".").pop()})]},a.id))})]},a.category)),0===Q.length&&(0,b.jsx)("p",{className:"text-muted-foreground text-sm",children:"Loading permissions..."})]}),(0,b.jsxs)("p",{className:"text-muted-foreground text-xs",children:["Selected: ",O.length," permission(s)"]})]})]}),(0,b.jsxs)(l.DialogFooter,{children:[(0,b.jsx)(i.Button,{variant:"outline",onClick:()=>D(!1),disabled:K,children:"Cancel"}),(0,b.jsxs)(i.Button,{onClick:S,disabled:K,children:[K&&(0,b.jsx)(x.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),G?"Update":"Create"]})]})]})}),(0,b.jsx)(q.AlertDialog,{open:E,onOpenChange:F,children:(0,b.jsxs)(q.AlertDialogContent,{children:[(0,b.jsxs)(q.AlertDialogHeader,{children:[(0,b.jsx)(q.AlertDialogTitle,{children:"Delete Role"}),(0,b.jsxs)(q.AlertDialogDescription,{children:['Are you sure you want to delete the role "',I?.name,'"? This action cannot be undone.']})]}),(0,b.jsxs)(q.AlertDialogFooter,{children:[(0,b.jsx)(q.AlertDialogCancel,{disabled:K,children:"Cancel"}),(0,b.jsxs)(q.AlertDialogAction,{onClick:T,disabled:K,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:[K&&(0,b.jsx)(x.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Delete"]})]})]})})]})}a.s(["RolesClient",()=>A],52123)}];

//# sourceMappingURL=_c8763f86._.js.map