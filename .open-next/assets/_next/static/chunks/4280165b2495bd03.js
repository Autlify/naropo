(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,868499,e=>{"use strict";let a;var t=e.i(843476),r=e.i(271645),i=e.i(30030),l=e.i(820783),s=e.i(326999),o=e.i(981140),n=Symbol("radix.slottable"),d="AlertDialog",[c,u]=(0,i.createContextScope)(d,[s.createDialogScope]),m=(0,s.createDialogScope)(),p=e=>{let{__scopeAlertDialog:a,...r}=e,i=m(a);return(0,t.jsx)(s.Root,{...i,...r,modal:!0})};p.displayName=d;var f=r.forwardRef((e,a)=>{let{__scopeAlertDialog:r,...i}=e,l=m(r);return(0,t.jsx)(s.Trigger,{...l,...i,ref:a})});f.displayName="AlertDialogTrigger";var x=e=>{let{__scopeAlertDialog:a,...r}=e,i=m(a);return(0,t.jsx)(s.Portal,{...i,...r})};x.displayName="AlertDialogPortal";var g=r.forwardRef((e,a)=>{let{__scopeAlertDialog:r,...i}=e,l=m(r);return(0,t.jsx)(s.Overlay,{...l,...i,ref:a})});g.displayName="AlertDialogOverlay";var h="AlertDialogContent",[j,y]=c(h),v=((a=({children:e})=>(0,t.jsx)(t.Fragment,{children:e})).displayName="AlertDialogContent.Slottable",a.__radixId=n,a),b=r.forwardRef((e,a)=>{let{__scopeAlertDialog:i,children:n,...d}=e,c=m(i),u=r.useRef(null),p=(0,l.useComposedRefs)(a,u),f=r.useRef(null);return(0,t.jsx)(s.WarningProvider,{contentName:h,titleName:D,docsSlug:"alert-dialog",children:(0,t.jsx)(j,{scope:i,cancelRef:f,children:(0,t.jsxs)(s.Content,{role:"alertdialog",...c,...d,ref:p,onOpenAutoFocus:(0,o.composeEventHandlers)(d.onOpenAutoFocus,e=>{e.preventDefault(),f.current?.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,t.jsx)(v,{children:n}),(0,t.jsx)(R,{contentRef:u})]})})})});b.displayName=h;var D="AlertDialogTitle",N=r.forwardRef((e,a)=>{let{__scopeAlertDialog:r,...i}=e,l=m(r);return(0,t.jsx)(s.Title,{...l,...i,ref:a})});N.displayName=D;var A="AlertDialogDescription",w=r.forwardRef((e,a)=>{let{__scopeAlertDialog:r,...i}=e,l=m(r);return(0,t.jsx)(s.Description,{...l,...i,ref:a})});w.displayName=A;var C=r.forwardRef((e,a)=>{let{__scopeAlertDialog:r,...i}=e,l=m(r);return(0,t.jsx)(s.Close,{...l,...i,ref:a})});C.displayName="AlertDialogAction";var M="AlertDialogCancel",F=r.forwardRef((e,a)=>{let{__scopeAlertDialog:r,...i}=e,{cancelRef:o}=y(M,r),n=m(r),d=(0,l.useComposedRefs)(a,o);return(0,t.jsx)(s.Close,{...n,...i,ref:d})});F.displayName=M;var R=({contentRef:e})=>{let a=`\`${h}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${h}\` by passing a \`${A}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${h}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return r.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(a)},[a,e]),null},S=e.i(975157),T=e.i(519455);let k=r.forwardRef(({className:e,...a},r)=>(0,t.jsx)(g,{className:(0,S.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a,ref:r}));k.displayName=g.displayName;let I=r.forwardRef(({className:e,...a},r)=>(0,t.jsxs)(x,{children:[(0,t.jsx)(k,{}),(0,t.jsx)(b,{ref:r,className:(0,S.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a})]}));I.displayName=b.displayName;let z=({className:e,...a})=>(0,t.jsx)("div",{className:(0,S.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...a});z.displayName="AlertDialogHeader";let U=({className:e,...a})=>(0,t.jsx)("div",{className:(0,S.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...a});U.displayName="AlertDialogFooter";let L=r.forwardRef(({className:e,...a},r)=>(0,t.jsx)(N,{ref:r,className:(0,S.cn)("text-lg font-semibold",e),...a}));L.displayName=N.displayName;let O=r.forwardRef(({className:e,...a},r)=>(0,t.jsx)(w,{ref:r,className:(0,S.cn)("text-sm text-muted-foreground",e),...a}));O.displayName=w.displayName;let P=r.forwardRef(({className:e,...a},r)=>(0,t.jsx)(C,{ref:r,className:(0,S.cn)((0,T.buttonVariants)(),e),...a}));P.displayName=C.displayName;let H=r.forwardRef(({className:e,...a},r)=>(0,t.jsx)(F,{ref:r,className:(0,S.cn)((0,T.buttonVariants)({variant:"outline"}),"mt-2 sm:mt-0",e),...a}));H.displayName=F.displayName,e.s(["AlertDialog",()=>p,"AlertDialogAction",()=>P,"AlertDialogCancel",()=>H,"AlertDialogContent",()=>I,"AlertDialogDescription",()=>O,"AlertDialogFooter",()=>U,"AlertDialogHeader",()=>z,"AlertDialogOverlay",()=>k,"AlertDialogPortal",()=>x,"AlertDialogTitle",()=>L,"AlertDialogTrigger",()=>f],868499)},116019,373765,e=>{"use strict";let a=(0,e.i(475254).default)("trash",[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["default",()=>a],373765),e.s(["Trash",()=>a],116019)},174886,e=>{"use strict";let a=(0,e.i(475254).default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);e.s(["Copy",()=>a],174886)},816728,e=>{"use strict";var a=e.i(95187);let t=(0,a.createServerReference)("60ae9e9ff5d91aa0a6f693f97d22098c5f6bc42625",a.callServer,void 0,a.findSourceMapURL,"createMedia");e.s(["createMedia",()=>t])},185280,e=>{"use strict";var a=e.i(95187);let t=(0,a.createServerReference)("409feba97418d61bf67ccd13c453bb92e5e40e3d5f",a.callServer,void 0,a.findSourceMapURL,"deleteMedia");e.s(["deleteMedia",()=>t])},658258,e=>{"use strict";var a=e.i(843476),t=e.i(86896),r=e.i(519455),i=e.i(824609),l=e.i(681307),s=e.i(922140),o=e.i(618566),n=e.i(653145),d=e.i(994814),c=e.i(515288),u=e.i(903133),m=e.i(816728),p=e.i(2170),f=e.i(793479),x=e.i(795320);let g=l.z.object({link:l.z.string().min(1,{message:"Media File is required"}),name:l.z.string().min(1,{message:"Name is required"})}),h=({subaccountId:e})=>{let{toast:t}=(0,s.useToast)(),i=(0,o.useRouter)(),l=(0,n.useForm)({resolver:(0,d.zodResolver)(g),mode:"onSubmit",defaultValues:{link:"",name:""}});async function h(a){try{let r=await (0,m.createMedia)(e,a);await (0,p.saveActivityLogsNotification)({agencyId:void 0,description:`Uploaded a media file | ${r.name}`,subaccountId:e}),t({title:"Succes",description:"Uploaded media"}),i.refresh()}catch(e){console.log(e),t({variant:"destructive",title:"Failed",description:"Could not uploaded media"})}}return(0,a.jsxs)(c.Card,{className:"w-full",children:[(0,a.jsxs)(c.CardHeader,{children:[(0,a.jsx)(c.CardTitle,{children:"Media Information"}),(0,a.jsx)(c.CardDescription,{children:"Please enter the details for your file"})]}),(0,a.jsx)(c.CardContent,{children:(0,a.jsx)(u.Form,{...l,children:(0,a.jsxs)("form",{onSubmit:l.handleSubmit(h),children:[(0,a.jsx)(u.FormField,{control:l.control,name:"name",render:({field:e})=>(0,a.jsxs)(u.FormItem,{className:"flex-1",children:[(0,a.jsx)(u.FormLabel,{children:"File Name"}),(0,a.jsx)(u.FormControl,{children:(0,a.jsx)(f.Input,{placeholder:"Your agency name",...e})}),(0,a.jsx)(u.FormMessage,{})]})}),(0,a.jsx)(u.FormField,{control:l.control,name:"link",render:({field:e})=>(0,a.jsxs)(u.FormItem,{children:[(0,a.jsx)(u.FormLabel,{children:"Media File"}),(0,a.jsx)(u.FormControl,{children:(0,a.jsx)(x.default,{apiEndpoint:"subaccountLogo",value:e.value,onChange:e.onChange})}),(0,a.jsx)(u.FormMessage,{})]})}),(0,a.jsx)(r.Button,{type:"submit",className:"mt-4",children:"Upload Media"})]})})})]})};e.s(["default",0,({subaccountId:e})=>{let{isOpen:l,setOpen:s,setClose:o}=(0,t.useModal)();return(0,a.jsx)(r.Button,{onClick:()=>{s((0,a.jsx)(i.default,{title:"Upload Media",subheading:"Upload a file to your media bucket",children:(0,a.jsx)(h,{subaccountId:e})}))},children:"Upload"})}],658258)},63428,e=>{"use strict";var a=e.i(843476),t=e.i(618566),r=e.i(271645),i=e.i(755146),l=e.i(868499),s=e.i(174886),o=e.i(541071),n=e.i(116019),d=e.i(657688),c=e.i(185280),u=e.i(2170),m=e.i(922140);e.s(["default",0,({file:e})=>{let[p,f]=(0,r.useState)(!1),x=(0,t.useRouter)();return(0,a.jsxs)(l.AlertDialog,{children:[(0,a.jsx)(i.DropdownMenu,{children:(0,a.jsxs)("article",{className:"border w-full rounded-lg bg-slate-900",children:[(0,a.jsx)("div",{className:"relative w-full h-40",children:(0,a.jsx)(d.default,{src:e.link,alt:"preview image",fill:!0,className:"object-cover rounded-lg"})}),(0,a.jsx)("p",{className:"opacity-0 h-0 w-0",children:e.name}),(0,a.jsxs)("div",{className:"p-4 relative",children:[(0,a.jsx)("p",{className:"text-muted-foreground",children:e.createdAt.toDateString()}),(0,a.jsx)("p",{children:e.name}),(0,a.jsx)("div",{className:"absolute top-4 right-4 p-[1px] cursor-pointer ",children:(0,a.jsx)(i.DropdownMenuTrigger,{children:(0,a.jsx)(o.MoreHorizontal,{})})})]}),(0,a.jsxs)(i.DropdownMenuContent,{children:[(0,a.jsx)(i.DropdownMenuLabel,{children:"Menu"}),(0,a.jsx)(i.DropdownMenuSeparator,{}),(0,a.jsxs)(i.DropdownMenuItem,{className:"flex gap-2",onClick:()=>{navigator.clipboard.writeText(e.link),(0,m.toast)({title:"Copied To Clipboard"})},children:[(0,a.jsx)(s.Copy,{size:15})," Copy Image Link"]}),(0,a.jsx)(l.AlertDialogTrigger,{asChild:!0,children:(0,a.jsxs)(i.DropdownMenuItem,{className:"flex gap-2",children:[(0,a.jsx)(n.Trash,{size:15})," Delete File"]})})]})]})}),(0,a.jsxs)(l.AlertDialogContent,{children:[(0,a.jsxs)(l.AlertDialogHeader,{children:[(0,a.jsx)(l.AlertDialogTitle,{className:"text-left",children:"Are you absolutely sure?"}),(0,a.jsx)(l.AlertDialogDescription,{className:"text-left",children:"Are you sure you want to delete this file? All subaccount using this file will no longer have access to it!"})]}),(0,a.jsxs)(l.AlertDialogFooter,{className:"flex items-center",children:[(0,a.jsx)(l.AlertDialogCancel,{className:"mb-2",children:"Cancel"}),(0,a.jsx)(l.AlertDialogAction,{disabled:p,className:"bg-destructive hover:bg-destructive",onClick:async()=>{f(!0);let a=await (0,c.deleteMedia)(e.id);await (0,u.saveActivityLogsNotification)({agencyId:void 0,description:`Deleted a media file | ${a?.name}`,subaccountId:a.subAccountId}),(0,m.toast)({title:"Deleted File",description:"Successfully deleted the file"}),f(!1),x.refresh()},children:"Delete"})]})]})]})}])}]);