(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,795320,e=>{"use strict";let t,n,r,a,s,i,o,u,c;var l,d,f,p,h=e.i(843476);let g=(0,e.i(475254).default)("file",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]]);var m=e.i(37727),x=e.i(657688),v=e.i(519455),b=e.i(247167);let y=function(e,t){if("function"==typeof e)return function(){return e(arguments)?t.apply(this,arguments):e=>t(e,...arguments)};switch(e){case 0:case 1:throw RangeError(`Invalid arity ${e}`);case 2:return function(e,n){return arguments.length>=2?t(e,n):function(n){return t(n,e)}};case 3:return function(e,n,r){return arguments.length>=3?t(e,n,r):function(r){return t(r,e,n)}};case 4:return function(e,n,r,a){return arguments.length>=4?t(e,n,r,a):function(a){return t(a,e,n,r)}};case 5:return function(e,n,r,a,s){return arguments.length>=5?t(e,n,r,a,s):function(s){return t(s,e,n,r,a)}};default:return function(){if(arguments.length>=e)return t.apply(this,arguments);let n=arguments;return function(e){return t(e,...n)}}}},w=e=>e,_=e=>()=>e,j=_(void 0),S="effect/GlobalValue",k=(e,n)=>(t||(globalThis[S]??=new Map,t=globalThis[S]),t.has(e)||t.set(e,n()),t.get(e)),E=e=>"object"==typeof e&&null!==e,O=y(2,(e,t)=>(E(e)||"function"==typeof e)&&t in e),R=y(2,(e,t)=>O(e,"_tag")&&e._tag===t),A=e=>E(e)&&!Array.isArray(e),T=Symbol.for("effect/Gen/GenKind");Symbol.iterator;class C{self;called=!1;constructor(e){this.self=e}next(e){return this.called?{value:e,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(e){return{value:e,done:!0}}throw(e){throw e}[Symbol.iterator](){return new C(this.self)}}let M=Symbol.for("effect/Utils/YieldWrap");class N{#e;constructor(e){this.#e=e}[M](){return this.#e}}let U=k("effect/Utils/isStructuralRegion",()=>({enabled:!1,tester:void 0})),F=(Error().stack?.includes("effect_internal_function"),k(Symbol.for("effect/Hash/randomHashCache"),()=>new WeakMap)),L=Symbol.for("effect/Hash"),I=e=>{if(!0===U.enabled)return 0;switch(typeof e){case"number":return J(e);case"bigint":return B(e.toString(10));case"boolean":case"symbol":return B(String(e));case"string":return B(e);case"undefined":return B("undefined");case"function":case"object":if(null===e)return B("null");if(e instanceof Date)return I(e.toISOString());if(e instanceof URL)return I(e.href);else if($(e))return e[L]();else return z(e);default:throw Error(`BUG: unhandled typeof ${typeof e} - please report an issue at https://github.com/Effect-TS/effect/issues`)}},z=e=>(F.has(e)||F.set(e,J(Math.floor(Math.random()*Number.MAX_SAFE_INTEGER))),F.get(e)),D=e=>t=>53*t^e,P=e=>0xbfffffff&e|e>>>1&0x40000000,$=e=>O(e,L),J=e=>{if(e!=e||e===1/0)return 0;let t=0|e;for(t!==e&&(t^=0xffffffff*e);e>0xffffffff;)t^=e/=0xffffffff;return P(t)},B=e=>{let t=5381,n=e.length;for(;n;)t=33*t^e.charCodeAt(--n);return P(t)},H=function(){if(1==arguments.length){let e=arguments[0];return function(t){return Object.defineProperty(e,L,{value:()=>t,enumerable:!1}),t}}let e=arguments[0],t=arguments[1];return Object.defineProperty(e,L,{value:()=>t,enumerable:!1}),t},V=Symbol.for("effect/Equal");function G(){return 1==arguments.length?e=>q(e,arguments[0]):q(arguments[0],arguments[1])}function q(e,t){if(e===t)return!0;let n=typeof e;if(n!==typeof t)return!1;if("object"===n||"function"===n){if(null!==e&&null!==t){if(W(e)&&W(t))if(I(e)===I(t)&&e[V](t))return!0;else return!!U.enabled&&!!U.tester&&U.tester(e,t);else if(e instanceof Date&&t instanceof Date)return e.toISOString()===t.toISOString();else if(e instanceof URL&&t instanceof URL)return e.href===t.href}if(U.enabled){if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((e,n)=>q(e,t[n]));if(Object.getPrototypeOf(e)===Object.prototype&&Object.getPrototypeOf(e)===Object.prototype){let n=Object.keys(e),r=Object.keys(t);if(n.length===r.length){for(let r of n)if(!(r in t&&q(e[r],t[r])))return!!U.tester&&U.tester(e,t);return!0}}return!!U.tester&&U.tester(e,t)}}return!!U.enabled&&!!U.tester&&U.tester(e,t)}let W=e=>O(e,V),Y=Symbol.for("nodejs.util.inspect.custom"),X=e=>{try{let t;if(O(e,"toJSON")&&(t=e.toJSON,"function"==typeof t)&&0===e.toJSON.length)return e.toJSON();if(Array.isArray(e))return e.map(X)}catch{return{}}return ee(e)},K=Symbol.for("effect/Inspectable/Redactable"),Z=e=>"object"==typeof e&&null!==e&&K in e,Q=k("effect/Inspectable/redactableState",()=>({fiberRefs:void 0})),ee=e=>Z(e)&&void 0!==Q.fiberRefs?e[K](Q.fiberRefs):e,et=(e,t)=>{switch(t.length){case 0:return e;case 1:return t[0](e);case 2:return t[1](t[0](e));case 3:return t[2](t[1](t[0](e)));case 4:return t[3](t[2](t[1](t[0](e))));case 5:return t[4](t[3](t[2](t[1](t[0](e)))));case 6:return t[5](t[4](t[3](t[2](t[1](t[0](e))))));case 7:return t[6](t[5](t[4](t[3](t[2](t[1](t[0](e)))))));case 8:return t[7](t[6](t[5](t[4](t[3](t[2](t[1](t[0](e))))))));case 9:return t[8](t[7](t[6](t[5](t[4](t[3](t[2](t[1](t[0](e)))))))));default:{let n=e;for(let e=0,r=t.length;e<r;e++)n=t[e](n);return n}}},en=Symbol.for("effect/Effect"),er=Symbol.for("effect/Stream"),ea=Symbol.for("effect/Sink"),es=Symbol.for("effect/Channel"),ei={_R:e=>e,_E:e=>e,_A:e=>e,_V:"3.17.7"},eo={[en]:ei,[er]:ei,[ea]:{_A:e=>e,_In:e=>e,_L:e=>e,_E:e=>e,_R:e=>e},[es]:{_Env:e=>e,_InErr:e=>e,_InElem:e=>e,_InDone:e=>e,_OutErr:e=>e,_OutElem:e=>e,_OutDone:e=>e},[V](e){return this===e},[L](){return H(this,z(this))},[Symbol.iterator](){return new C(new N(this))},pipe(){return et(this,arguments)}},eu={[L](){return H(this,((e,t)=>{let n=12289;for(let r=0;r<t.length;r++)n^=function(e,t,n,r,a,s,i,o,u){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return n(t(e));case 4:return r(n(t(e)));case 5:return a(r(n(t(e))));case 6:return s(a(r(n(t(e)))));case 7:return i(s(a(r(n(t(e))))));case 8:return o(i(s(a(r(n(t(e)))))));case 9:return u(o(i(s(a(r(n(t(e))))))));default:{let e=arguments[0];for(let t=1;t<arguments.length;t++)e=arguments[t](e);return e}}}(B(t[r]),D(I(e[t[r]])));return P(n)})(this,Object.keys(this)))},[V](e){let t=Object.keys(this),n=Object.keys(e);if(t.length!==n.length)return!1;for(let n of t)if(!(n in e&&G(this[n],e[n])))return!1;return!0}},ec=Symbol.for("effect/Option"),el={...eo,[ec]:{_A:e=>e},[Y](){return this.toJSON()},toString(){return JSON.stringify(this.toJSON(),null,2)}},ed=Object.assign(Object.create(el),{_tag:"Some",_op:"Some",[V](e){return eh(e)&&em(e)&&G(this.value,e.value)},[L](){return H(this,D(I(this._tag))(I(this.value)))},toJSON(){return{_id:"Option",_tag:this._tag,value:X(this.value)}}}),ef=I("None"),ep=Object.assign(Object.create(el),{_tag:"None",_op:"None",[V]:e=>eh(e)&&eg(e),[L]:()=>ef,toJSON(){return{_id:"Option",_tag:this._tag}}}),eh=e=>O(e,ec),eg=e=>"None"===e._tag,em=e=>"Some"===e._tag,ex=Object.create(ep),ev=e=>{let t=Object.create(ed);return t.value=e,t},eb=Symbol.for("effect/Either"),ey={...eo,[eb]:{_R:e=>e},[Y](){return this.toJSON()},toString(){return JSON.stringify(this.toJSON(),null,2)}},ew=Object.assign(Object.create(ey),{_tag:"Right",_op:"Right",[V](e){return ej(e)&&ek(e)&&G(this.right,e.right)},[L](){return D(I(this._tag))(I(this.right))},toJSON(){return{_id:"Either",_tag:this._tag,right:X(this.right)}}}),e_=Object.assign(Object.create(ey),{_tag:"Left",_op:"Left",[V](e){return ej(e)&&eS(e)&&G(this.left,e.left)},[L](){return D(I(this._tag))(I(this.left))},toJSON(){return{_id:"Either",_tag:this._tag,left:X(this.left)}}}),ej=e=>O(e,eb),eS=e=>"Left"===e._tag,ek=e=>"Right"===e._tag,eE=e=>{let t=Object.create(e_);return t.left=e,t},eO=y(2,(e,t)=>{var n;let r;return ek(e)?(n=t(e.right),(r=Object.create(ew)).right=n,r):eE(e.left)}),eR=y(2,(e,t)=>eS(e)?eE(e.left):t(e.right)),eA=((e,t,n)=>eR(e,e=>eO(t,t=>n(e,t))),e=>e.length>0),eT=y(2,(e,t)=>eg(e)?ex:ev(t(e.value))),eC=y(2,(e,t)=>eg(e)?ex:t(e.value)),eM=((e,t)=>eC(e,e=>eT(t(e),()=>e)),y(2,(e,t)=>({[Symbol.iterator](){let n,r=e[Symbol.iterator](),a=!1;return{next(){if(!a){let e=r.next();return e.done?(a=!0,(n=t[Symbol.iterator]()).next()):e}return n.next()}}}})));(e,t,n)=>({[Symbol.iterator](){let r=e[Symbol.iterator](),a=t[Symbol.iterator]();return{next(){let e=r.next(),t=a.next();return e.done||t.done?{done:!0,value:void 0}:{done:!1,value:n(e.value,t.value)}}}}});let eN=y(2,(e,t)=>({[Symbol.iterator](){let n=e[Symbol.iterator](),r=0;return{next(){let e=n.next();return e.done?{done:!0,value:void 0}:{done:!1,value:t(e.value,r++)}}}}})),eU=y(2,(e,t)=>eF(eN(e,t))),eF=e=>({[Symbol.iterator](){let t,n=e[Symbol.iterator]();return{next:function e(){if(void 0===t){let e=n.next();if(e.done)return e;t=e.value[Symbol.iterator]()}let r=t.next();return r.done?(t=void 0,e()):r}}}});(e,t)=>({[Symbol.iterator](){let n=e[Symbol.iterator](),r=0;return{next(){let e=n.next();for(;!e.done;){let a=t(e.value,r++);if(em(a))return{done:!1,value:a.value};e=n.next()}return{done:!0,value:void 0}}}}});(e,t,n)=>eU(e,e=>eN(t,t=>n(e,t)));let eL=y(2,(e,t)=>Object.prototype.hasOwnProperty.call(e,t));(e,t,n)=>eL(e,t)?ev({...e,[t]:n(e[t])}):ex,(e,t)=>{if(!eL(e,t))return{...e};let n={...e};return delete n[t],n};let eI=((e,t)=>{let n=Math.max(1,Math.floor(e)),r=Array(n);for(let e=0;e<n;e++)r[e]=t(e);return r},e=>Array.isArray(e)?e:Array.from(e)),ez=e=>Array.isArray(e)?e:[e],eD=y(2,(e,t)=>[t,...e]),eP=y(2,(e,t)=>[...e,t]),e$=y(2,(e,t)=>eI(e).concat(eI(t))),eJ=(e,t)=>e<0||e>=t.length,eB=y(2,(e,t)=>{let n=Math.floor(t);if(eJ(n,e))throw Error(`Index ${n} out of bounds`);return e[n]})(0),eH=((e,t)=>{let n=eI(e);return n.slice(0,Math.floor(Math.min(Math.max(0,t),n.length)))},y(2,(e,t)=>{let n=eI(e);if(eA(n)){let r=n.length,a=Math.round(t)%r;if(eJ(Math.abs(a),n)||0===a)return eW(n);if(!(a<0))return eH(e,a-r);{let[e,t]=eq(n,-a);return e$(t,e)}}return[]})),eV=y(2,(e,t)=>{let n=eI(e);if(eA(n)){let[e,r]=t(n),a=[e],s=r;for(;eA(s);){let[e,n]=t(s);a.push(e),s=n}return a}return[]}),eG=y(2,(e,t)=>{let n=Array.from(e),r=Math.floor(t);return eA(n)?r>=1?eq(n,r):[[],n]:[n,[]]}),eq=y(2,(e,t)=>{let n=Math.max(1,Math.floor(t));return n>=e.length?[eW(e),[]]:[eD(e.slice(1,n),eB(e)),e.slice(n)]}),eW=e=>e.slice();(e,t)=>{let n=eI(e);return eA(n)?eV(n,eq(t)):[]};(e,t,n)=>{let r=eI(e),a=eI(t);return eA(r)?eA(a)?eK(n)(e$(r,a)):r:a};let eY=y(2,(e,t)=>e.map(t)),eX=y(2,(e,t)=>{if(0===e.length)return[];let n=[];for(let r=0;r<e.length;r++){let a=t(e[r],r);for(let e=0;e<a.length;e++)n.push(a[e])}return n}),eK=y(2,(e,t)=>{let n=eI(e);if(eA(n)){let e=[eB(n)];for(let r of n.slice(1))e.every(e=>!t(r,e))&&e.push(r);return e}return[]});(e,t,n)=>eX(e,e=>eY(t,t=>n(e,t)));let eZ=Symbol.for("effect/Context/Tag"),eQ=Symbol.for("effect/Context/Reference"),e0=Symbol.for("effect/STM"),e1={...eo,_op:"Tag",[e0]:ei,[eZ]:{_Service:e=>e,_Identifier:e=>e},toString(){return JSON.stringify(this.toJSON(),null,2)},toJSON(){return{_id:"Tag",key:this.key,stack:this.stack}},[Y](){return this.toJSON()},of:e=>e,context(e){return e7(this,e)}},e2={...e1,[eQ]:eQ},e3=Symbol.for("effect/Context"),e4={[e3]:{_Services:e=>e},[V](e){if(e6(e)&&this.unsafeMap.size===e.unsafeMap.size){for(let t of this.unsafeMap.keys())if(!e.unsafeMap.has(t)||!G(this.unsafeMap.get(t),e.unsafeMap.get(t)))return!1;return!0}return!1},[L](){return H(this,J(this.unsafeMap.size))},pipe(){return et(this,arguments)},toString(){return JSON.stringify(this.toJSON(),null,2)},toJSON(){return{_id:"Context",services:Array.from(this.unsafeMap).map(X)}},[Y](){return this.toJSON()}},e5=e=>{let t=Object.create(e4);return t.unsafeMap=e,t},e6=e=>O(e,e3),e7=(e,t)=>e5(new Map([[e.key,t]])),e8=y(3,(e,t,n)=>{let r=new Map(e.unsafeMap);return r.set(t.key,n),e5(r)}),e9=k("effect/Context/defaultValueCache",()=>new Map),te=e=>{if(e9.has(e.key))return e9.get(e.key);let t=e.defaultValue();return e9.set(e.key,t),t},tt=y(2,(e,t)=>{if(!e.unsafeMap.has(t.key)){if(eQ in t)return te(t);throw(e=>{let t=Error(`Service not found${e.key?`: ${String(e.key)}`:""}`);if(e.stack){let n=e.stack.split("\n");if(n.length>2){let e=n[2].match(/at (.*)/);e&&(t.message=t.message+` (defined at ${e[1]})`)}}if(t.stack){let e=t.stack.split("\n");e.splice(1,3),t.stack=e.join("\n")}return t})(t)}return e.unsafeMap.get(t.key)}),tn=((e,t)=>{let n=new Map(e.unsafeMap);for(let[e,r]of t.unsafeMap)n.set(e,r);return e5(n)},e=>()=>{let t=Error.stackTraceLimit;Error.stackTraceLimit=2;let n=Error();function r(){}return Error.stackTraceLimit=t,Object.setPrototypeOf(r,e1),r.key=e,Object.defineProperty(r,"stack",{get:()=>n.stack}),r}),tr=()=>(e,t)=>{let n=Error.stackTraceLimit;Error.stackTraceLimit=2;let r=Error();function a(){}return Error.stackTraceLimit=n,Object.setPrototypeOf(a,e2),a.key=e,a.defaultValue=t.defaultValue,Object.defineProperty(a,"stack",{get:()=>r.stack}),a},ta=Symbol.for("effect/Micro"),ts=Symbol.for("effect/Micro/MicroExit"),ti=e=>"object"==typeof e&&null!==e&&ta in e,to=Symbol.for("effect/Micro/MicroCause"),tu={_E:w};class tc extends globalThis.Error{_tag;traces;[to];constructor(e,t,n){let r,a,s;const i=`MicroCause.${e}`;if(t instanceof globalThis.Error){r=`(${i}) ${t.name}`;const e=(a=t.message).split("\n").length;s=t.stack?`(${i}) ${t.stack.split("\n").slice(0,e+3).join("\n")}`:`${r}: ${a}`}else r=i,a=((e,t=2)=>{if("string"==typeof e)return e;try{var n,r;let a,s;return"object"==typeof e?(n=e,r=t,a=[],s=JSON.stringify(n,(e,t)=>"object"==typeof t&&null!==t?a.includes(t)?void 0:a.push(t)&&(void 0!==Q.fiberRefs&&Z(t)?t[K](Q.fiberRefs):t):t,r),a=void 0,s):String(e)}catch{return String(e)}})(t,0),s=`${r}: ${a}`;n.length>0&&(s+=`
    ${n.join("\n    ")}`),super(a),this._tag=e,this.traces=n,this[to]=tu,this.name=r,this.stack=s}pipe(){return et(this,arguments)}toString(){return this.stack}[Y](){return this.stack}}class tl extends tc{error;constructor(e,t=[]){super("Fail",e,t),this.error=e}}let td=(e,t=[])=>new tl(e,t);class tf extends tc{defect;constructor(e,t=[]){super("Die",e,t),this.defect=e}}let tp=(e,t=[])=>new tf(e,t);class th extends tc{constructor(e=[]){super("Interrupt","interrupted",e)}}let tg=(e=[])=>new th(e),tm=e=>"Fail"===e._tag,tx=e=>"Interrupt"===e._tag,tv=e=>"Fail"===e._tag?e.error:"Die"===e._tag?e.defect:e,tb=y(2,(e,t)=>{let n=[...e.traces,t];switch(e._tag){case"Die":return tp(e.defect,n);case"Interrupt":return tg(n);case"Fail":return td(e.error,n)}}),ty=Symbol.for("effect/Micro/MicroFiber"),tw={_A:w,_E:w};class t_{context;interruptible;[ty];_stack=[];_observers=[];_exit;_children;currentOpCount=0;constructor(e,t=!0){this.context=e,this.interruptible=t,this[ty]=tw}getRef(e){let t;return t=this.context,t.unsafeMap.has(e.key)?t.unsafeMap.get(e.key):te(e)}addObserver(e){return this._exit?(e(this._exit),j):(this._observers.push(e),()=>{let t=this._observers.indexOf(e);t>=0&&this._observers.splice(t,1)})}_interrupted=!1;unsafeInterrupt(){!this._exit&&(this._interrupted=!0,this.interruptible&&this.evaluate(t7))}unsafePoll(){return this._exit}evaluate(e){if(this._exit)return;if(void 0!==this._yielded){let e=this._yielded;this._yielded=void 0,e()}let t=this.runLoop(e);if(t===tC)return;let n=tj.interruptChildren&&tj.interruptChildren(this);if(void 0!==n)return this.evaluate(t1(n,()=>t));this._exit=t;for(let e=0;e<this._observers.length;e++)this._observers[e](t);this._observers.length=0}runLoop(e){let t=!1,n=e;this.currentOpCount=0;try{for(;;){if(this.currentOpCount++,!t&&this.getRef(nu).shouldYield(this)){t=!0;let e=n;n=t1(t$,()=>e)}if((n=n[tO](this))===tC){let e=this._yielded;if(ts in e)return this._yielded=void 0,e;return tC}}}catch(e){if(!O(n,tO))return t8(`MicroFiber.runLoop: Not a valid effect: ${String(n)}`);return t8(e)}}getCont(e){for(;;){let t=this._stack.pop();if(!t)return;let n=t[tT]&&t[tT](this);if(n)return{[e]:n};if(t[e])return t}}_yielded=void 0;yieldWith(e){return this._yielded=e,tC}children(){return this._children??=new Set}}let tj=k("effect/Micro/fiberMiddleware",()=>({interruptChildren:void 0})),tS=e=>tP(()=>{for(let t of e)t.unsafeInterrupt();let t=e[Symbol.iterator](),n=tP(()=>{let e=t.next();for(;!e.done;){if(e.value.unsafePoll()){e=t.next();continue}let r=e.value;return tq(e=>{r.addObserver(t=>{e(n)})})}return ne});return n}),tk=Symbol.for("effect/Micro/identifier"),tE=Symbol.for("effect/Micro/args"),tO=Symbol.for("effect/Micro/evaluate"),tR=Symbol.for("effect/Micro/successCont"),tA=Symbol.for("effect/Micro/failureCont"),tT=Symbol.for("effect/Micro/ensureCont"),tC=Symbol.for("effect/Micro/Yield"),tM={...eo,_op:"Micro",[ta]:{_A:w,_E:w,_R:w},pipe(){return et(this,arguments)},[Symbol.iterator](){return new C(new N(this))},toJSON(){return{_id:"Micro",op:this[tk],...tE in this?{args:this[tE]}:void 0}},toString(){return JSON.stringify(this,null,2)},[Y](){return JSON.stringify(this,null,2)}};function tN(e){return t8("Micro.evaluate: Not implemented")}let tU=e=>({...tM,[tk]:e.op,[tO]:e.eval??tN,[tR]:e.contA,[tA]:e.contE,[tT]:e.ensure}),tF=e=>{let t=tU(e);return function(){let n=Object.create(t);return n[tE]=!1===e.single?arguments:arguments[0],n}},tL=e=>{let t={...tU(e),[ts]:ts,_tag:e.op,get[e.prop](){return this[tE]},toJSON(){return{_id:"MicroExit",_tag:e.op,[e.prop]:this[tE]}},[V](t){return t4(t)&&t._tag===e.op&&G(this[tE],t[tE])},[L](){return H(this,D(B(e.op))(I(this[tE])))}};return function(e){let n=Object.create(t);return n[tE]=e,n[tR]=void 0,n[tA]=void 0,n[tT]=void 0,n}},tI=tL({op:"Success",prop:"value",eval(e){let t=e.getCont(tR);return t?t[tR](this[tE],e):e.yieldWith(this)}}),tz=tL({op:"Failure",prop:"cause",eval(e){let t=e.getCont(tA);for(;tx(this[tE])&&t&&e.interruptible;)t=e.getCont(tA);return t?t[tA](this[tE],e):e.yieldWith(this)}}),tD=tF({op:"Sync",eval(e){let t=this[tE](),n=e.getCont(tR);return n?n[tR](t,e):e.yieldWith(t5(t))}}),tP=tF({op:"Suspend",eval(e){return this[tE]()}}),t$=tF({op:"Yield",eval(e){let t=!1;return e.getRef(nu).scheduleTask(()=>{t||e.evaluate(ne)},this[tE]??0),e.yieldWith(()=>{t=!0})}})(0),tJ=tI(void 0),tB=e=>tV(function(t,n){try{e.try(n).then(e=>t(tI(e)),n=>{let r;return t((r=e.catch(n),tz(td(r))))})}catch(n){t(tz(td(e.catch(n))))}},0!==e.try.length),tH=tF({op:"WithMicroFiber",eval(e){return this[tE](e)}}),tV=tF({op:"Async",single:!1,eval(e){let t=this[tE][0],n=!1,r=!1,a=this[tE][1]?new AbortController:void 0,s=t(t=>{n||(n=!0,r?e.evaluate(t):r=t)},a?.signal);return!1!==r?r:(r=!0,e._yielded=()=>{n=!0},void 0===a&&void 0===s||e._stack.push(tG(()=>(n=!0,a?.abort(),s??ne))),tC)}}),tG=tF({op:"AsyncFinalizer",ensure(e){e.interruptible&&(e.interruptible=!1,e._stack.push(nO(!0)))},contE(e,t){return tx(e)?t1(this[tE](),()=>tz(e)):tz(e)}}),tq=e=>tV(e,e.length>=2),tW=(...e)=>tP(()=>tY(1===e.length?e[0]():e[1].call(e[0]))),tY=tF({op:"Iterator",contA(e,t){let n=this[tE].next(e);if(n.done)return tI(n.value);t._stack.push(this);var r=n.value;if("object"==typeof r&&null!==r&&M in r)return r[M]();throw Error("BUG: yieldWrapGet - please report an issue at https://github.com/Effect-TS/effect/issues")},eval(e){return this[tR](void 0,e)}}),tX=y(2,(e,t)=>t3(e,e=>t)),tK=y(2,(e,t)=>t1(e,e=>{let n=ti(t)?t:"function"==typeof t?t(e):t;return ti(n)?n:tI(n)})),tZ=y(2,(e,t)=>t1(e,e=>{let n=ti(t)?t:"function"==typeof t?t(e):t;return ti(n)?tX(n,e):tI(e)})),tQ=e=>ny(e,{onFailure:t6,onSuccess:t5}),t0=y(2,(e,t)=>{let n;return n=[e,t],tH(e=>tq(t=>{let r=!1,a=new Set,s=e=>{r=!0,t(0===a.size?e:t1(tS(a),()=>e))};for(let t of n){if(r)break;let n=nN(e,nR(t),!0,!0);a.add(n),n.addObserver(e=>{a.delete(n),s(e)})}return tS(a)}))}),t1=y(2,(e,t)=>{let n=Object.create(t2);return n[tE]=e,n[tR]=t,n}),t2=tU({op:"OnSuccess",eval(e){return e._stack.push(this),this[tE]}}),t3=y(2,(e,t)=>t1(e,e=>tI(t(e)))),t4=e=>O(e,ts),t5=tI,t6=tz,t7=t6(tg()),t8=e=>t6(tp(e)),t9=e=>"Failure"===e._tag,ne=t5(void 0),nt=e=>{for(let t of e)if("Failure"===t._tag)return t;return ne},nn="setImmediate"in globalThis?globalThis.setImmediate:e=>setTimeout(e,0);class nr{tasks=[];running=!1;scheduleTask(e,t){this.tasks.push(e),this.running||(this.running=!0,nn(this.afterScheduled))}afterScheduled=()=>{this.running=!1,this.runTasks()};runTasks(){let e=this.tasks;this.tasks=[];for(let t=0,n=e.length;t<n;t++)e[t]()}shouldYield(e){return e.currentOpCount>=e.getRef(ni)}flush(){for(;this.tasks.length>0;)this.runTasks()}}let na=y(2,(e,t)=>tH(n=>{let r=n.context;return n.context=t(r),nS(e,()=>(n.context=r,tJ))})),ns=y(3,(e,t,n)=>na(e,e8(t,n)));class ni extends tr()("effect/Micro/currentMaxOpsBeforeYield",{defaultValue:()=>2048}){}class no extends tr()("effect/Micro/currentConcurrency",{defaultValue:()=>"unbounded"}){}class nu extends tr()("effect/Micro/currentScheduler",{defaultValue:()=>new nr}){}e=>ti(e[1]),(e,t,n,r)=>r?.concurrent?t3(nT([e,t],{concurrency:2}),([e,t])=>n(e,t)):t1(e,e=>t3(t,t=>n(e,t)));let nc=y(e=>ti(e[0]),(e,t,n)=>t1(e,e=>t(e)?tI(e):tz(td(n(e))))),nl=((e,t)=>tP(()=>{let n=t.schedule?Date.now():0,r=0,a=t1(tQ(e),e=>{if(void 0!==t.while&&!t.while(e)||void 0!==t.times&&r>=t.times)return e;r++;let s=t$;if(void 0!==t.schedule){let a=Date.now()-n,i=t.schedule(r,a);if(eg(i))return e;s=nw(i.value)}return t1(s,()=>a)});return a}),y(2,(e,t)=>{let n=Object.create(nd);return n[tE]=e,n[tA]=t,n})),nd=tU({op:"OnFailure",eval(e){return e._stack.push(this),this[tE]}}),nf=y(3,(e,t,n)=>nl(e,e=>t(e)?n(e):tz(e))),np=((e,t)=>nf(e,tm,e=>t(e.error)),y(3,(e,t,n)=>nf(e,t,e=>tK(n(e),tz(e))))),nh=y(2,(e,t)=>np(e,tm,e=>t(e.error))),ng=y(3,(e,t,n)=>nf(e,e=>tm(e)&&t(e.error),e=>n(e.error))),nm=y(3,(e,t,n)=>ng(e,R(t),n)),nx=function(){let e=globalThis.Error.stackTraceLimit;globalThis.Error.stackTraceLimit=2;let t=new globalThis.Error;globalThis.Error.stackTraceLimit=e;let n=e=>n=>nE(n,n=>tz(function(e,n){let r=t.stack;if(!r)return n;let a=r.split("\n")[2]?.trim().replace(/^at /,"");if(!a)return n;let s=a.match(/\((.*)\)$/);return tb(n,`at ${e} (${s?s[1]:a})`)}(e,n)));return 2==arguments.length?n(arguments[1])(arguments[0]):n(arguments[0])},nv=y(2,(e,t)=>{let n=Object.create(nb);return n[tE]=e,n[tR]=t.onSuccess,n[tA]=t.onFailure,n}),nb=tU({op:"OnSuccessAndFailure",eval(e){return e._stack.push(this),this[tE]}}),ny=y(2,(e,t)=>nv(e,{onFailure:e=>tD(()=>t.onFailure(e)),onSuccess:e=>tD(()=>t.onSuccess(e))})),nw=((e,t)=>nv(e,{onFailure:e=>"Fail"===e._tag?t.onFailure(e.error):tz(e),onSuccess:t.onSuccess}),e=>tq(t=>{let n=setTimeout(()=>{t(tJ)},e);return tD(()=>{clearTimeout(n)})})),n_=((e,t)=>t0(e,tK(nR(nw(t.duration)),t.onTimeout)),Symbol.for("effect/Micro/MicroScope"));n=Error.stackTraceLimit,Error.stackTraceLimit=2,r=Error(),Error.stackTraceLimit=n,Object.defineProperty(a=Object.create(e1),"stack",{get:()=>r.stack}),a.key="effect/Micro/MicroScope";class nj{[n_];state={_tag:"Open",finalizers:new Set};constructor(){this[n_]=n_}unsafeAddFinalizer(e){"Open"===this.state._tag&&this.state.finalizers.add(e)}addFinalizer(e){return tP(()=>"Open"===this.state._tag?(this.state.finalizers.add(e),tJ):e(this.state.exit))}unsafeRemoveFinalizer(e){"Open"===this.state._tag&&this.state.finalizers.delete(e)}close(e){return tP(()=>{if("Open"===this.state._tag){let t=Array.from(this.state.finalizers).reverse();return this.state={_tag:"Closed",exit:e},t1(nM(t,t=>tQ(t(e))),nt)}return tJ})}get fork(){return tD(()=>{let e=new nj;if("Closed"===this.state._tag)return e.state=this.state,e;function t(t){return e.close(t)}return this.state.finalizers.add(t),e.unsafeAddFinalizer(e=>tD(()=>this.unsafeRemoveFinalizer(t))),e})}}let nS=y(2,(e,t)=>nA(n=>nv(n(e),{onFailure:e=>t1(t(t6(e)),()=>tz(e)),onSuccess:e=>t1(t(t5(e)),()=>tI(e))}))),nk=y(3,(e,t,n)=>nS(e,e=>t(e)?n(e):ne)),nE=y(2,(e,t)=>nk(e,t9,e=>t(e.cause))),nO=tF({op:"SetInterruptible",ensure(e){if(e.interruptible=this[tE],e._interrupted&&e.interruptible)return()=>t7}}),nR=e=>tH(t=>t.interruptible?e:(t.interruptible=!0,t._stack.push(nO(!1)),t._interrupted)?t7:e),nA=e=>tH(t=>t.interruptible?(t.interruptible=!1,t._stack.push(nO(!0)),e(nR)):e(w)),nT=(e,t)=>Array.isArray(e)||O(e,Symbol.iterator)?nM(e,w,t):t?.discard?nM(Object.values(e),w,t):tP(()=>{let n={};return tX(nM(Object.entries(e),([e,t])=>t3(t,t=>{n[e]=t}),{discard:!0,concurrency:t?.concurrency}),n)}),nC=tF({op:"While",contA(e,t){return(this[tE].step(e),this[tE].while())?(t._stack.push(this),this[tE].body()):ne},eval(e){return this[tE].while()?(e._stack.push(this),this[tE].body()):ne}}),nM=(e,t,n)=>tH(r=>{let a=n?.concurrency==="inherit"?r.getRef(no):n?.concurrency??1,s="unbounded"===a?1/0:Math.max(1,a),i=eI(e),o=i.length;if(0===o)return n?.discard?tJ:tI([]);let u=n?.discard?void 0:Array(o),c=0;return 1===s?tX(nC({while:()=>c<i.length,body:()=>t(i[c],c),step:u?e=>u[c++]=e:e=>c++}),u):tq(e=>{let n,a=new Set,l=0,d=0,f=!1,p=!1;return!function h(){for(f=!0;l<s&&c<o;){let g=c,m=i[g];c++,l++;try{let i=nN(r,t(m,g),!0,!0);a.add(i),i.addObserver(t=>{a.delete(i),p||("Failure"===t._tag?void 0===n&&(n=t,o=c,a.forEach(e=>e.unsafeInterrupt())):void 0!==u&&(u[g]=t.value),d++,l--,d===o?e(n??tI(u)):!f&&l<s&&h())})}catch(e){n=t8(e),o=c,a.forEach(e=>e.unsafeInterrupt())}}f=!1}(),tP(()=>(p=!0,c=o,tS(a)))})}),nN=(e,t,n=!1,r=!1)=>{let a=new t_(e.context,e.interruptible);return r||(e.children().add(a),a.addObserver(()=>e.children().delete(a))),n?a.evaluate(t):e.getRef(nu).scheduleTask(()=>a.evaluate(t),0),a},nU=(e,t)=>{let n=new t_(nu.context(t?.scheduler??new nr));if(n.evaluate(e),t?.signal)if(t.signal.aborted)n.unsafeInterrupt();else{let e=()=>n.unsafeInterrupt();t.signal.addEventListener("abort",e,{once:!0}),n.addObserver(()=>t.signal.removeEventListener("abort",e))}return n},nF=(e,t)=>new Promise((n,r)=>{nU(e,t).addObserver(n)}),nL=function(){class e extends globalThis.Error{}return Object.assign(e.prototype,tM,eu,{[tk]:"Failure",[tO](){return tz(td(this))},toString(){return this.message?`${this.name}: ${this.message}`:this.name},toJSON(){return{...this}},[Y](){let e=this.stack;return e?`${this.toString()}
${e.split("\n").slice(1).join("\n")}`:this.toString()}}),e}(),nI=class extends nL{constructor(e){super(),e&&Object.assign(this,e)}},nz=e=>{class t extends nI{_tag=e}return t.prototype.name=e,t},nD={"audio/3gpp":{source:"iana",extensions:["3gpp"]},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/basic":{source:"iana",extensions:["au","snd"]},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp4":{source:"iana",extensions:["m4a","mp4a"]},"audio/mpeg":{source:"iana",extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/ogg":{source:"iana",extensions:["oga","ogg","spx","opus"]},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/silk":{source:"apache",extensions:["sil"]},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/webm":{source:"apache",extensions:["weba"]},"audio/x-aac":{source:"apache",extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/x-gsm":{source:"apache",extensions:["gsm"]},"audio/xm":{source:"apache",extensions:["xm"]}},nP={"image/aces":{source:"iana",extensions:["exr"]},"image/avci":{source:"iana",extensions:["avci"]},"image/avcs":{source:"iana",extensions:["avcs"]},"image/avif":{source:"iana",extensions:["avif"]},"image/bmp":{source:"iana",extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/hsj2":{source:"iana",extensions:["hsj2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",extensions:["jpeg","jpg","jpe","jfif","pjpeg","pjp"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",extensions:["jpm"]},"image/jpx":{source:"iana",extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/png":{source:"iana",extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.microsoft.icon":{source:"iana",extensions:["ico"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]}},n$={"text/cache-manifest":{source:"iana",extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/css":{source:"iana",charset:"UTF-8",extensions:["css"]},"text/csv":{source:"iana",extensions:["csv"]},"text/html":{source:"iana",extensions:["html","htm","shtml"]},"text/markdown":{source:"iana",extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/n3":{source:"iana",charset:"UTF-8",extensions:["n3"]},"text/plain":{source:"iana",extensions:["txt","text","conf","def","list","log","in","ini"]},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/richtext":{source:"iana",extensions:["rtx"]},"text/rtf":{source:"iana",extensions:["rtf"]},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shex":{source:"iana",extensions:["shex"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/tab-separated-values":{source:"iana",extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/uri-list":{source:"iana",extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",extensions:["vcard"]},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.familysearch.gedcom":{source:"iana",extensions:["ged"]},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{source:"iana",charset:"UTF-8",extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",extensions:["xml"]}},nJ={"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h264":{source:"iana",extensions:["h264"]},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",extensions:["mp4","mp4v","mpg4"]},"video/mpeg":{source:"iana",extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/ogg":{source:"iana",extensions:["ogv"]},"video/quicktime":{source:"iana",extensions:["qt","mov"]},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/webm":{source:"apache",extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]}};({...nD,...nP,...n$,...nJ,"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",extensions:["otf"]},"font/ttf":{source:"iana",extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/rfc822":{source:"iana",extensions:["eml","mime"]},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/gltf+json":{source:"iana",extensions:["gltf"]},"model/gltf-binary":{source:"iana",extensions:["glb"]},"model/iges":{source:"iana",extensions:["igs","iges"]},"model/mesh":{source:"iana",extensions:["msh","mesh","silo"]},"model/mtl":{source:"iana",extensions:["mtl"]},"model/obj":{source:"iana",extensions:["obj"]},"model/step":{source:"iana",extensions:[".p21",".stp",".step",".stpnc",".210"]},"model/step+xml":{source:"iana",extensions:["stpx"]},"model/step+zip":{source:"iana",extensions:["stpz"]},"model/step-xml+zip":{source:"iana",extensions:["stpxz"]},"model/stl":{source:"iana",extensions:["stl"]},"model/vnd.collada+xml":{source:"iana",extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.sap.vds":{source:"iana",extensions:["vds"]},"model/vnd.usdz+zip":{source:"iana",extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]}});nz("InvalidRouteConfig"),nz("UnknownFileType"),nz("InvalidFileType"),nz("InvalidFileSize");var nB=class extends nz("InvalidURL"){constructor(e){super({reason:`Failed to parse '${e}' as a URL.`})}};nz("RetryError");var nH=class extends nz("FetchError"){},nV=class extends nz("InvalidJson"){},nG=class extends nz("BadRequestError"){getMessage(){return A(this.json)&&"string"==typeof this.json.message?this.json.message:this.message}},nq=class extends nz("UploadAborted"){},nW=class extends nz("UploadAborted"){};async function nY(e){let t=await e.text();try{return JSON.parse(t)}catch(e){return console.error(`Error parsing JSON, got '${t}'`,e),Error(`Error parsing JSON, got '${t}'`)}}function nX(e){return Object.keys(e)}function nK(e,t,n){!function(e,t){let n=/(\d+)\.?(\d+)?\.?(\d+)?/,r=n.exec(e);if(!r?.[0])throw Error(`Invalid semver requirement: ${e}`);let a=n.exec(t);if(!a?.[0])throw Error(`Invalid semver to check: ${t}`);let[s,i,o,u]=r,[c,l,d,f]=a;return e.startsWith("^")?i===l&&(!o||!d||!(o>d)):e.startsWith("~")?i===l&&o===d:i===l&&o===d&&u===f}(t,n)&&console.warn(`!!!WARNING::: ${e} requires "uploadthing@${t}", but version "${n}" is installed`)}let nZ=e=>e instanceof URL?e:(e=>{let t,n,r=(n=nU(e,{scheduler:t=new nr}),t.flush(),n._exit??t8(n));if("Failure"===r._tag)throw r.cause;return r.value})(tW(function*(){let t,n="u">typeof window?window.location.origin:b.default.env.VERCEL_URL?`https://${b.default.env.VERCEL_URL}`:"http://localhost:3000",r=yield*(t={try:()=>new URL(e??"/api/uploadthing",n),catch:()=>new nB(e??"/api/uploadthing")},tP(()=>{try{return tI(t.try())}catch(e){return tz(td(t.catch(e)))}}));return"/"===r.pathname&&(r.pathname="/api/uploadthing"),r}));function nQ(){}function n0(e,...t){return"function"==typeof e?e(...t):e}let n1={BAD_REQUEST:400,NOT_FOUND:404,FORBIDDEN:403,INTERNAL_SERVER_ERROR:500,INTERNAL_CLIENT_ERROR:500,TOO_LARGE:413,TOO_SMALL:400,TOO_MANY_FILES:400,KEY_TOO_LONG:400,URL_GENERATION_FAILED:500,UPLOAD_FAILED:500,MISSING_ENV:500,INVALID_SERVER_CONFIG:500,FILE_LIMIT_EXCEEDED:500};var n2=class e extends nI{_tag="UploadThingError";name="UploadThingError";cause;code;data;constructor(e){const t="string"==typeof e?{code:"INTERNAL_SERVER_ERROR",message:e}:e;super({message:t.message??function(e,t){return"string"==typeof e?e:e instanceof Error||e&&"object"==typeof e&&"message"in e&&"string"==typeof e.message?e.message:t??"An unknown error occurred"}(t.cause,t.code)}),this.code=t.code,this.data=t.data,t.cause instanceof Error?this.cause=t.cause:A(t.cause)&&(e=>"number"==typeof e)(t.cause.status)&&(e=>"string"==typeof e)(t.cause.statusText)?this.cause=Error(`Response ${t.cause.status} ${t.cause.statusText}`):(e=>"string"==typeof e)(t.cause)?this.cause=Error(t.cause):this.cause=t.cause}static toObject(e){return{code:e.code,message:e.message,data:e.data}}static serialize(t){return JSON.stringify(e.toObject(t))}},n3=class extends tn("uploadthing/Fetch")(){};let n4=(e,t)=>t1(tH(e=>tI(tt(e.context,n3))),n=>{let r=new Headers(t?.headers??[]),a={url:e.toString(),method:t?.method,body:t?.body,headers:Object.fromEntries(r)};return tB({try:a=>n(e,{...t,headers:r,signal:a}),catch:e=>new nH({error:e instanceof Error?{...e,name:e.name,message:e.message,stack:e.stack}:e,input:a})}).pipe(nh(e=>tD(()=>console.error(e.input))),t3(e=>Object.assign(e,{requestUrl:a.url})),nx("fetch"))}),n5=e=>tB({try:async()=>({json:await e.json(),ok:e.ok,status:e.status}),catch:t=>new nV({error:t,input:e.requestUrl})}).pipe(nc(({ok:e})=>e,({json:t,status:n})=>new nG({status:n,message:`Request to ${e.requestUrl} failed with status ${n}`,json:t})),t3(({json:e})=>e),nx("parseJson")),n6=e=>{let t=Array.isArray(e)?e:nX(e);return t.includes("blob")?[]:t.map(e=>"pdf"===e?"application/pdf":e.includes("/")?e:"audio"===e?["audio/*",...nX(nD)].join(", "):"image"===e?["image/*",...nX(nP)].join(", "):"text"===e?["text/*",...nX(n$)].join(", "):"video"===e?["video/*",...nX(nJ)].join(", "):`${e}/*`)};function n7(e){let t=e.clipboardData?.items;if(t)return Array.from(t).reduce((e,t)=>{let n=t.getAsFile();return n?[...e,n]:e},[])}let n8=e=>({fileTypes:e?nX(e):[],multiple:(e?Object.values(e).map(e=>e.maxFileCount):[]).some(e=>e&&e>1)}),n9=e=>{let t;return(t=(e=>{if(!e)return"";let t=nX(e),n=t.map(e=>"blob"===e?"file":e);if(n.length>1){let e=n.pop();return`${n.join("s, ")} and ${e}s`}let r=t[0],a=n[0];if(!r||!a)return"";let{maxFileSize:s,maxFileCount:i,minFileCount:o}=e[r];return i&&i>1?o>1?`${o} - ${i} ${a}s up to ${s}`:`${a}s up to ${s}, max ${i}`:`${a} (${s})`})(e)).charAt(0).toUpperCase()+t.slice(1)},re=(e,t)=>{if("string"==typeof e)return e;if("function"==typeof e){let n=e(t);if("string"==typeof n)return n}return""},rt=(e,t)=>{if("object"==typeof e)return e;if("function"==typeof e){let n=e(t);if("object"==typeof n)return n}return{}},rn=(e,t)=>e?"function"!=typeof e?e:"function"==typeof e?e(t):void 0:null,rr=(...e)=>e.filter(Boolean).join(" ");function ra(e,t){return"application/x-moz-file"===e.type||function(e,t){if(t){let n=Array.isArray(t)?t:t.split(","),r=e.name,a=e.type.toLowerCase(),s=a.replace(/\/.*$/,"");return n.some(e=>{let t=e.trim().toLowerCase();return t.startsWith(".")?r.toLowerCase().endsWith(t):t.endsWith("/*")?s===t.replace(/\/.*$/,""):a===t})}return!0}(e,t)}function rs(e,t,n){return null==e.size||(null!=t&&null!=n?e.size>=t&&e.size<=n:(null==t||!(e.size<t))&&(null==n||!(e.size>n)))}function ri(e,t,n){return(!!t||!(e.length>1))&&(!t||!(n>=1)||!(e.length>n))}function ro(e){return"dataTransfer"in e&&null!==e.dataTransfer?Array.prototype.some.call(e.dataTransfer?.types,e=>"Files"===e||"application/x-moz-file"===e):!!e.target&&"files"in e.target&&!!e.target.files}new TextEncoder;let ru={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[]};function rc(e,t){switch(t.type){case"focus":return{...e,isFocused:!0};case"blur":return{...e,isFocused:!1};case"openDialog":return{...ru,isFileDialogActive:!0};case"closeDialog":return{...e,isFileDialogActive:!1};case"setDraggedFiles":case"setFiles":return{...e,...t.payload};case"reset":return ru;default:return e}}var rl="7.7.4";let rd=()=>{let e,t,n=new AbortController;return{promise:new Promise((n,r)=>{e=n,t=r}),ac:n,resolve:e,reject:t}},rf=function(e){let t="";for(let n=0;n<e;n++)t+="abcdef0123456789".charAt(Math.floor(16*Math.random()));return t},rp=()=>{let e=rf(32),t=rf(16);return{b3:`${e}-${t}-01`,traceparent:`00-${e}-${t}-01`}},rh=e=>(t,n)=>tW(function*(){var r;let a,s,i,o=((s=new URLSearchParams((a=new URL((r={url:e.url,slug:e.endpoint,actionType:t}).url)).search)).set("actionType",r.actionType),s.set("slug",r.slug),a.search=s.toString(),a),u=new Headers((yield*tV(function(e,t){i(t).then(t=>e(tI(t)),t=>e(t8(t)))},0!==(i=async()=>"function"==typeof e.headers?await e.headers():e.headers).length)));return e.package&&u.set("x-uploadthing-package",e.package),u.set("x-uploadthing-version",rl),u.set("Content-Type","application/json"),u.set("b3",e.traceHeaders.b3),u.set("traceparent",e.traceHeaders.traceparent),yield*n4(o,{method:"POST",body:JSON.stringify(n),headers:u}).pipe(tK(n5),t3(w),nm("FetchError",e=>tz(td(new n2({code:"INTERNAL_CLIENT_ERROR",message:`Failed to report event "${t}" to UploadThing server`,cause:e})))),nm("BadRequestError",e=>tz(td(new n2({code:function(e){for(let[t,n]of Object.entries(n1))if(n===e)return t;return"INTERNAL_SERVER_ERROR"}(e.status),message:e.getMessage(),cause:e.json})))),nm("InvalidJson",e=>tz(td(new n2({code:"INTERNAL_CLIENT_ERROR",message:"Failed to parse response from UploadThing server",cause:e})))))}),rg=e=>{console.warn(`⚠️ [uploadthing][deprecated] ${e}`)},rm=(e,t,n)=>n4(t.url,{method:"HEAD",headers:n.traceHeaders}).pipe(t3(({headers:e})=>parseInt(e.get("x-ut-range-start")??"0",10)),tZ(e=>n.onUploadProgress?.({delta:e,loaded:e})),t1(r=>{let a;return a={traceHeaders:n.traceHeaders,onUploadProgress:e=>n.onUploadProgress?.({delta:e.delta,loaded:e.loaded+r})},tq(n=>{let s=new XMLHttpRequest;s.open("PUT",t.url,!0),s.setRequestHeader("Range",`bytes=${r}-`),s.setRequestHeader("x-uploadthing-version",rl),s.setRequestHeader("b3",a.traceHeaders.b3),s.setRequestHeader("traceparent",a.traceHeaders.traceparent),s.responseType="json";let i=0;s.upload.addEventListener("progress",({loaded:e})=>{let t=e-i;a.onUploadProgress?.({loaded:e,delta:t}),i=e}),s.addEventListener("load",()=>{s.status>=200&&s.status<300&&A(s.response)?O(s.response,"error")?n(new n2({code:"UPLOAD_FAILED",message:String(s.response.error),data:s.response})):n(tI(s.response)):n(new n2({code:"UPLOAD_FAILED",message:`XHR failed ${s.status} ${s.statusText}`,data:s.response}))}),s.addEventListener("error",()=>{n(new n2({code:"UPLOAD_FAILED"}))});let o=new FormData;return"uri"in e?o.append("file",{uri:e.uri,type:e.type,name:e.name,...r>0&&{range:r}}):o.append("file",r>0?e.slice(r):e),s.send(o),tD(()=>s.abort())})}),t3(w),t3(n=>({name:e.name,size:e.size,key:t.key,lastModified:e.lastModified,serverData:n.serverData,get url(){return rg("`file.url` is deprecated and will be removed in uploadthing v9. Use `file.ufsUrl` instead."),n.url},get appUrl(){return rg("`file.appUrl` is deprecated and will be removed in uploadthing v9. Use `file.ufsUrl` instead."),n.appUrl},ufsUrl:n.ufsUrl,customId:t.customId,type:e.type,fileHash:n.fileHash}))),rx=e=>{let t=new Proxy(nQ,{get:(e,t)=>t});return{uploadFiles:(n,r)=>{var a;let s,i,o,u,c="function"==typeof n?n(t):n,l=e?.fetch??window.fetch;return(a={...r,skipPolling:{},url:nZ(e?.url),package:e?.package??"uploadthing/client",input:r.input},s=rp(),i=rh({endpoint:String(c),package:a.package,url:a.url,headers:a.headers,traceHeaders:s}),o=a.files.reduce((e,t)=>e+t.size,0),u=0,t1(i("upload",{input:"input"in a?a.input:null,files:a.files.map(e=>({name:e.name,size:e.size,type:e.type,lastModified:e.lastModified}))}),e=>nM(e,(e,t)=>t1(tD(()=>a.onUploadBegin?.({file:a.files[t].name})),()=>rm(a.files[t],e,{traceHeaders:s,onUploadProgress:e=>{u+=e.delta,a.onUploadProgress?.({file:a.files[t],progress:e.loaded/a.files[t].size*100,loaded:e.loaded,delta:e.delta,totalLoaded:u,totalProgress:u/o})}})),{concurrency:6}))).pipe(ns(n3,l),e=>nF(e,r.signal&&{signal:r.signal})).then(e=>{if("Success"===e._tag)return e.value;if("Interrupt"===e.cause._tag)throw new nW;throw tv(e.cause)})},createUpload:async(n,r)=>{let a,s=new Map,i="function"==typeof n?n(t):n,o=rp(),u=rh({endpoint:String(i),package:e?.package??"uploadthing/client",url:nZ(e?.url),headers:r.headers,traceHeaders:o}),c=e?.fetch??window.fetch,l=await nF(u("upload",{input:"input"in r?r.input:null,files:r.files.map(e=>({name:e.name,size:e.size,type:e.type,lastModified:e.lastModified}))}).pipe(ns(n3,c)),a).then(e=>{if("Failure"===e._tag)throw e.cause;return e.value}),d=r.files.reduce((e,t)=>e+t.size,0),f=0,p=(e,t)=>rm(e,t,{traceHeaders:o,onUploadProgress:t=>{f+=t.delta,r.onUploadProgress?.({...t,file:e,progress:Math.round(t.loaded/e.size*100),totalLoaded:f,totalProgress:Math.round(f/d*100)})}}).pipe(ns(n3,c));for(let[e,t]of l.entries()){let n=r.files[e];if(!n)continue;let a=rd();s.set(n,{deferred:a,presigned:t}),nF(p(n,t),{signal:a.ac.signal}).then(e=>{if("Success"===e._tag)return a.resolve(e.value);if("Interrupt"===e.cause._tag)throw new nq;throw tv(e.cause)}).catch(e=>{e instanceof nq||a.reject(e)})}return{pauseUpload:e=>{for(let t of ez(e??r.files)){let e=s.get(t);if(!e)return;if(e.deferred.ac.signal.aborted)throw new nW;e.deferred.ac.abort()}},resumeUpload:e=>{for(let t of ez(e??r.files)){let e=s.get(t);if(!e)throw"No upload found";e.deferred.ac=new AbortController,nF(p(t,e.presigned),{signal:e.deferred.ac.signal}).then(t=>{if("Success"===t._tag)return e.deferred.resolve(t.value);if("Interrupt"===t.cause._tag)throw new nq;throw tv(t.cause)}).catch(t=>{t instanceof nq||e.deferred.reject(t)})}},done:async e=>{let t=[];for(let n of ez(e??r.files)){let e=s.get(n);if(!e)throw"No upload found";t.push(e.deferred.promise)}let n=await Promise.all(t);return e?n[0]:n}}},routeRegistry:t}};var rv=e.i(271645),rb="^7.2.0";let ry="u">typeof window?rv.default.useInsertionEffect:()=>void 0;function rw(e){let t=rv.default.useRef(r_);ry(()=>{t.current=e},[e]);let n=rv.default.useRef(null);return n.current??=function(){return t.current.apply(this,arguments)},n.current}function r_(){throw Error("INVALID_USEEVENT_INVOCATION: the callback from useEvent cannot be invoked before the component has mounted.")}var rj=function(e,t,n){let r=(0,rv.useRef)({}),a=(0,rv.useRef)(!1),s={error:void 0,data:void 0},[i,o]=(0,rv.useReducer)((e,t)=>{switch(t.type){case"loading":return{...s};case"fetched":return{...s,data:t.payload};case"error":return{...s,error:t.payload};default:return e}},s);return(0,rv.useEffect)(()=>{if(t)return a.current=!1,(async()=>{if(o({type:"loading"}),r.current[t])return o({type:"fetched",payload:r.current[t]});try{let s=await e(t,n);if(!s.ok)throw Error(s.statusText);let i=await nY(s);if(i instanceof Error)throw i;if(r.current[t]=i,a.current)return;o({type:"fetched",payload:i})}catch(e){if(a.current)return;o({type:"error",payload:e})}})(),()=>{a.current=!0}},[t]),i};let rS=function(e,t,n,r){let a=r?.uploadProgressGranularity??"coarse",{uploadFiles:s,routeRegistry:i}=rx({fetch:n,url:e,package:"@uploadthing/react"}),[o,u]=(0,rv.useState)(!1),c=(0,rv.useRef)(0),l=(0,rv.useRef)(new Map);return{startUpload:rw(async(...e)=>{let n=await r?.onBeforeUploadBegin?.(e[0])??e[0],i=e[1];u(!0),n.forEach(e=>l.current.set(e,0)),r?.onUploadProgress?.(0);try{let e=await s(t,{signal:r?.signal,headers:r?.headers,files:n,onUploadProgress:e=>{var t;if(!r?.onUploadProgress)return;l.current.set(e.file,e.progress);let n=0;l.current.forEach(e=>{n+=e});let s=(t=Math.min(100,n/l.current.size),"all"===a?t:"fine"===a?Math.round(t):10*Math.floor(t/10));s!==c.current&&(r.onUploadProgress(s),c.current=s)},onUploadBegin({file:e}){r?.onUploadBegin&&r.onUploadBegin(e)},input:i});return await r?.onClientUploadComplete?.(e),e}catch(t){let e;if(t instanceof nW)throw t;t instanceof n2?e=t:console.error("Something went wrong. Please contact UploadThing and provide the following cause:",(e=new n2({code:"INTERNAL_CLIENT_ERROR",message:"Something went wrong. Please report this to UploadThing.",cause:t})).cause instanceof Error?e.cause.toString():e.cause),await r?.onUploadError?.(e)}finally{u(!1),l.current=new Map,c.current=0}}),isUploading:o,routeConfig:((e,t,n)=>{let r=globalThis.__UPLOADTHING,{data:a}=rj(e,r?void 0:t.href);return(r??a)?.find(e=>e.slug===n)?.config})(n,e,n0(t,i))}};function rk(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{u(r.next(e))}catch(e){s(e)}}function o(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?a(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(i,o)}u((r=r.apply(e,t||[])).next())})}function rE(e,t){var n,r,a,s,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(o){return function(u){var c=[o,u];if(n)throw TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&c[0]?r.return:c[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,c[1])).done)return a;switch(r=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===c[0]||2===c[0])){i=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){i.label=c[1];break}if(6===c[0]&&i.label<a[1]){i.label=a[1],a=c;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(c);break}a[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}function rO(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,s=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)i.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(a)throw a.error}}return i}function rR(e,t,n){if(n||2==arguments.length)for(var r,a=0,s=t.length;a<s;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;var rA=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function rT(e,t){var n=function(e){var t=e.name;if(t&&-1!==t.lastIndexOf(".")&&!e.type){var n=t.split(".").pop().toLowerCase(),r=rA.get(n);r&&Object.defineProperty(e,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}(e);if("string"!=typeof n.path){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:"string"==typeof t?t:"string"==typeof r&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}var rC=[".DS_Store","Thumbs.db"];function rM(e){return rk(this,void 0,void 0,function(){return rE(this,function(t){var n;if(rN(e)&&rN(e.dataTransfer))return[2,function(e,t){return rk(this,void 0,void 0,function(){var n;return rE(this,function(r){switch(r.label){case 0:if(!e.items)return[3,2];if(n=rF(e.items).filter(function(e){return"file"===e.kind}),"drop"!==t)return[2,n];return[4,Promise.all(n.map(rL))];case 1:return[2,rU(function e(t){return t.reduce(function(t,n){return rR(rR([],rO(t),!1),rO(Array.isArray(n)?e(n):[n]),!1)},[])}(r.sent()))];case 2:return[2,rU(rF(e.files).map(function(e){return rT(e)}))]}})})}(e.dataTransfer,e.type)];if(rN(n=e)&&rN(n.target))return[2,rF(e.target.files).map(function(e){return rT(e)})];return Array.isArray(e)&&e.every(function(e){return"getFile"in e&&"function"==typeof e.getFile})?[2,function(e){return rk(this,void 0,void 0,function(){return rE(this,function(t){switch(t.label){case 0:return[4,Promise.all(e.map(function(e){return e.getFile()}))];case 1:return[2,t.sent().map(function(e){return rT(e)})]}})})}(e)]:[2,[]]})})}function rN(e){return"object"==typeof e&&null!==e}function rU(e){return e.filter(function(e){return -1===rC.indexOf(e.name)})}function rF(e){if(null===e)return[];for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function rL(e){if("function"!=typeof e.webkitGetAsEntry)return rI(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?rD(t):rI(e)}function rI(e){var t=e.getAsFile();return t?Promise.resolve(rT(t)):Promise.reject("".concat(e," is not a File"))}function rz(e){return rk(this,void 0,void 0,function(){return rE(this,function(t){return[2,e.isDirectory?rD(e):function(e){return rk(this,void 0,void 0,function(){return rE(this,function(t){return[2,new Promise(function(t,n){e.file(function(n){t(rT(n,e.fullPath))},function(e){n(e)})})]})})}(e)]})})}function rD(e){var t=e.createReader();return new Promise(function(e,n){var r=[];!function a(){var s=this;t.readEntries(function(t){return rk(s,void 0,void 0,function(){var s;return rE(this,function(i){switch(i.label){case 0:if(t.length)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,Promise.all(r)];case 2:return e(i.sent()),[3,4];case 3:return n(i.sent()),[3,4];case 4:return[3,6];case 5:s=Promise.all(t.map(rz)),r.push(s),a(),i.label=6;case 6:return[2]}})})},function(e){n(e)})}()})}let rP=e=>{let t=rw(e);(0,rv.useEffect)(()=>{let e=new AbortController;return window.addEventListener("paste",t,{signal:e.signal}),()=>{e.abort()}},[t])};function r$(){return(0,h.jsx)("svg",{className:"z-10 block h-5 w-5 animate-spin align-middle text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 576 512",children:(0,h.jsx)("path",{fill:"currentColor",d:"M256 32C256 14.33 270.3 0 288 0C429.4 0 544 114.6 544 256C544 302.6 531.5 346.4 509.7 384C500.9 399.3 481.3 404.6 465.1 395.7C450.7 386.9 445.5 367.3 454.3 351.1C470.6 323.8 480 291 480 255.1C480 149.1 394 63.1 288 63.1C270.3 63.1 256 49.67 256 31.1V32z"})})}function rJ({className:e,cn:t,...n}){return(0,h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",className:t("fill-none stroke-current stroke-2",e),...n,children:[(0,h.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,h.jsx)("path",{d:"m4.9 4.9 14.2 14.2"})]})}function rB(e){let t,{mode:n="manual",appendOnPaste:r=!1,cn:a=rr}=e.config??{},s=(0,rv.useRef)(new AbortController),[i,o]=(0,rv.useState)([]),[u,c]=(0,rv.useState)(e.__internal_upload_progress??0),{startUpload:l,isUploading:d,routeConfig:f}=rS(nZ(e.url),e.endpoint,e.fetch??globalThis.fetch,{signal:s.current.signal,headers:e.headers,onClientUploadComplete:t=>{o([]),e.onClientUploadComplete?.(t),c(0)},uploadProgressGranularity:e.uploadProgressGranularity,onUploadProgress:t=>{c(t),e.onUploadProgress?.(t)},onUploadError:e.onUploadError,onUploadBegin:e.onUploadBegin,onBeforeUploadBegin:e.onBeforeUploadBegin}),{fileTypes:p,multiple:g}=n8(f),m=!!(e.__internal_dropzone_disabled??e.disabled),x=(t=e.__internal_ready??("ready"===e.__internal_state||p.length>0),e.__internal_state?e.__internal_state:m?"disabled":t?d?"uploading":"ready":"readying"),v=(0,rv.useCallback)(t=>{l(t,"input"in e?e.input:void 0).catch(t=>{if(t instanceof nW)e.onUploadAborted?.();else throw t})},[e,l]),{getRootProps:b,getInputProps:y,isDragActive:w,rootRef:_}=function({accept:e,disabled:t=!1,maxSize:n=1/0,minSize:r=0,multiple:a=!0,maxFiles:s=0,onDrop:i}){let o=(0,rv.useMemo)(()=>(function(e){if(null!=e)return Object.entries(e).reduce((e,[t,n])=>[...e,t,...n],[]).filter(e=>"audio/*"===e||"video/*"===e||"image/*"===e||"text/*"===e||/\w+\/[-+.\w]+/g.test(e)||/^.*\.[\w]+$/.test(e)).join(",")})(e),[e]),u=(0,rv.useRef)(null),c=(0,rv.useRef)(null),l=(0,rv.useRef)([]),[d,f]=(0,rv.useReducer)(rc,ru);(0,rv.useEffect)(()=>{let e=new AbortController;return window.addEventListener("focus",()=>{d.isFileDialogActive&&setTimeout(()=>{if(c.current){let{files:e}=c.current;e?.length||f({type:"closeDialog"})}},300)},{signal:e.signal}),()=>{e.abort()}},[d.isFileDialogActive]),(0,rv.useEffect)(()=>{let e=new AbortController;return document.addEventListener("dragover",e=>e.preventDefault(),{capture:!1,signal:e.signal}),document.addEventListener("drop",e=>{u.current?.contains(e.target)||(e.preventDefault(),l.current=[])},{capture:!1,signal:e.signal}),()=>{e.abort()}},[]);let p=(0,rv.useCallback)(e=>{e.preventDefault(),e.persist(),l.current=[...l.current,e.target],ro(e)&&Promise.resolve(rM(e)).then(t=>{if(e.isPropagationStopped())return;let i=t.length,u=i>0&&function({files:e,accept:t,minSize:n,maxSize:r,multiple:a,maxFiles:s}){return!!ri(e,a,s)&&e.every(e=>ra(e,t)&&rs(e,n,r))}({files:t,accept:o,minSize:r,maxSize:n,multiple:a,maxFiles:s});f({type:"setDraggedFiles",payload:{isDragAccept:u,isDragReject:i>0&&!u,isDragActive:!0}})}).catch(nQ)},[o,s,n,r,a]),h=(0,rv.useCallback)(e=>{if(e.preventDefault(),e.persist(),ro(e))try{e.dataTransfer.dropEffect="copy"}catch{nQ()}return!1},[]),g=(0,rv.useCallback)(e=>{e.preventDefault(),e.persist();let t=l.current.filter(e=>u.current?.contains(e)),n=t.indexOf(e.target);-1!==n&&t.splice(n,1),l.current=t,t.length>0||f({type:"setDraggedFiles",payload:{isDragActive:!1,isDragAccept:!1,isDragReject:!1}})},[]),m=(0,rv.useCallback)(e=>{let t=[];e.forEach(e=>{let a=ra(e,o),s=rs(e,r,n);a&&s&&t.push(e)}),ri(t,a,s)||t.splice(0),f({type:"setFiles",payload:{acceptedFiles:t}}),i(t)},[o,s,n,r,a,i]),x=(0,rv.useCallback)(e=>{e.preventDefault(),e.persist(),l.current=[],ro(e)&&Promise.resolve(rM(e)).then(t=>{e.isPropagationStopped()||m(t)}).catch(nQ),f({type:"reset"})},[m]),v=(0,rv.useCallback)(()=>{c.current&&(f({type:"openDialog"}),c.current.value="",c.current.click())},[]),b=(0,rv.useCallback)(e=>{u.current?.isEqualNode(e.target)&&("key"in e&&(" "===e.key||"Enter"===e.key)||"keyCode"in e&&(32===e.keyCode||13===e.keyCode))&&(e.preventDefault(),v())},[v]),y=(0,rv.useCallback)(e=>{e.stopPropagation(),d.isFileDialogActive&&e.preventDefault()},[d.isFileDialogActive]),w=(0,rv.useCallback)(()=>f({type:"focus"}),[]),_=(0,rv.useCallback)(()=>f({type:"blur"}),[]),j=(0,rv.useCallback)(()=>{!function(e=window.navigator.userAgent){return e.includes("MSIE ")||e.includes("Trident/")||e.includes("Edge/")}()?v():setTimeout(v,0)},[v]),S=(0,rv.useMemo)(()=>()=>({ref:u,role:"presentation",...!t?{tabIndex:0,onKeyDown:b,onFocus:w,onBlur:_,onClick:j,onDragEnter:p,onDragOver:h,onDragLeave:g,onDrop:x}:{}}),[t,_,j,p,g,h,x,w,b]),k=(0,rv.useMemo)(()=>()=>({ref:c,type:"file",style:{display:"none"},accept:o,multiple:a,tabIndex:-1,...!t?{onChange:x,onClick:y}:{}}),[o,a,x,y,t]);return{...d,getRootProps:S,getInputProps:k,rootRef:u}}({onDrop:(0,rv.useCallback)(t=>{e.onDrop?.(t),e.onChange?.(t),o(t),"auto"===n&&v(t)},[e,n,v]),multiple:g,accept:Object.fromEntries(n6(p).map(e=>[e,[]])),disabled:m});rP(t=>{if(!r||document.activeElement!==_.current)return;let a=n7(t);if(!a?.length)return;let s=a;o(t=>(s=[...t,...a],e.onChange?.(s),s)),e.onChange?.(s),"auto"===n&&v(s)});let j=(0,rv.useMemo)(()=>({ready:"readying"!==x,isUploading:"uploading"===x,uploadProgress:u,fileTypes:p,files:i,isDragActive:w}),[p,i,x,u,w]);return(0,h.jsxs)("div",{className:a("mt-2 flex flex-col items-center justify-center rounded-lg border border-dashed border-gray-900/25 px-6 py-10 text-center",w&&"bg-blue-600/10",e.className,re(e.appearance?.container,j)),...b(),style:rt(e.appearance?.container,j),"data-state":x,children:[rn(e.content?.uploadIcon,j)??(0,h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",className:a("mx-auto block h-12 w-12 align-middle text-gray-400",re(e.appearance?.uploadIcon,j)),style:rt(e.appearance?.uploadIcon,j),"data-ut-element":"upload-icon","data-state":x,children:(0,h.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M5.5 17a4.5 4.5 0 0 1-1.44-8.765a4.5 4.5 0 0 1 8.302-3.046a3.5 3.5 0 0 1 4.504 4.272A4 4 0 0 1 15 17H5.5Zm3.75-2.75a.75.75 0 0 0 1.5 0V9.66l1.95 2.1a.75.75 0 1 0 1.1-1.02l-3.25-3.5a.75.75 0 0 0-1.1 0l-3.25 3.5a.75.75 0 1 0 1.1 1.02l1.95-2.1v4.59Z",clipRule:"evenodd"})}),(0,h.jsxs)("label",{className:a("relative mt-4 flex w-64 cursor-pointer items-center justify-center text-sm font-semibold leading-6 text-gray-600 focus-within:outline-none focus-within:ring-2 focus-within:ring-blue-600 focus-within:ring-offset-2 hover:text-blue-500","ready"===x?"text-blue-600":"text-gray-500",re(e.appearance?.label,j)),style:rt(e.appearance?.label,j),"data-ut-element":"label","data-state":x,children:[(0,h.jsx)("input",{className:"sr-only",...y()}),rn(e.content?.label,j)??("ready"===x?`Choose ${g?"file(s)":"a file"} or drag and drop`:"Loading...")]}),(0,h.jsx)("div",{className:a("m-0 h-[1.25rem] text-xs leading-5 text-gray-600",re(e.appearance?.allowedContent,j)),style:rt(e.appearance?.allowedContent,j),"data-ut-element":"allowed-content","data-state":x,children:rn(e.content?.allowedContent,j)??n9(f)}),(0,h.jsx)("button",{className:a("group relative mt-4 flex h-10 w-36 items-center justify-center overflow-hidden rounded-md border-none text-base text-white","after:absolute after:left-0 after:h-full after:w-[var(--progress-width)] after:bg-blue-600 after:transition-[width] after:duration-500 after:content-['']","focus-within:ring-2 focus-within:ring-blue-600 focus-within:ring-offset-2","disabled:pointer-events-none","data-[state=disabled]:cursor-not-allowed data-[state=readying]:cursor-not-allowed","data-[state=disabled]:bg-blue-400 data-[state=ready]:bg-blue-600 data-[state=readying]:bg-blue-400 data-[state=uploading]:bg-blue-400",re(e.appearance?.button,j)),style:{"--progress-width":`${u}%`,...rt(e.appearance?.button,j)},onClick:e=>{if("uploading"===x){e.preventDefault(),e.stopPropagation(),s.current.abort(),s.current=new AbortController;return}"manual"===n&&i.length>0&&(e.preventDefault(),e.stopPropagation(),v(i))},"data-ut-element":"button","data-state":x,type:"button",disabled:0===i.length||"disabled"===x,children:(()=>{let t=rn(e.content?.button,j);if(t)return t;switch(x){case"readying":return"Loading...";case"uploading":if(u>=100)return(0,h.jsx)(r$,{});return(0,h.jsxs)("span",{className:"z-50",children:[(0,h.jsxs)("span",{className:"block group-hover:hidden",children:[Math.round(u),"%"]}),(0,h.jsx)(rJ,{cn:a,className:"hidden size-4 group-hover:block"})]});default:if("manual"===n&&i.length>0)return`Upload ${i.length} file${1===i.length?"":"s"}`;return`Choose File${g?"(s)":""}`}})()})]})}nK("@uploadthing/react",rb,rl),nZ(l?.url),l?.fetch;let rH=(nK("@uploadthing/react",rb,rl),s=nZ(d?.url),i=d?.fetch??globalThis.fetch,e=>(0,h.jsx)(rB,{...e,url:s,fetch:i}));nK("@uploadthing/react",rb,rl),nZ(f?.url),f?.fetch;let{useUploadThing:rV,uploadFiles:rG}=(nK("@uploadthing/react",rb,rl),o=p?.fetch??globalThis.fetch,{useUploadThing:function(e,t){return rS(u,e,o,t)},...c=rx({fetch:o,url:u=nZ(p?.url),package:"@uploadthing/react"}),getRouteConfig:function(e){let t=globalThis.__UPLOADTHING,n=n0(e,c.routeRegistry),r=t?.find(e=>e.slug===n)?.config;if(!r)throw Error(`No config found for endpoint "${n.toString()}". Please make sure to use the NextSSRPlugin in your Next.js app.`);return r}});e.s(["default",0,({apiEndpoint:e,onChange:t,value:n,className:r})=>{let a=n?.split(".").pop();return n?(0,h.jsxs)("div",{className:"flex flex-col justify-center items-center",children:["pdf"!==a?(0,h.jsx)("div",{className:`relative ${r} w-40 h-40`,children:(0,h.jsx)(x.default,{src:n,alt:"uploaded image",className:"object-contain",fill:!0})}):(0,h.jsxs)("div",{className:"relative flex items-center p-2 mt-2 rounded-md bg-background/10",children:[(0,h.jsx)(g,{}),(0,h.jsx)("a",{href:n,target:"_blank",rel:"noopener_noreferrer",className:"ml-2 text-sm text-accent hover-underline",children:"View PDF"})]}),(0,h.jsxs)(v.Button,{onClick:()=>t(""),variant:"ghost",type:"button",children:[(0,h.jsx)(m.X,{className:"h-4 w-4"}),"Remove Logo"]})]}):(0,h.jsx)("div",{className:"w-full bg-muted/30",children:(0,h.jsx)(rH,{endpoint:e,onClientUploadComplete:e=>{t(e?.[0].url)},onUploadError:e=>{console.log(e)}})})}],795320)}]);