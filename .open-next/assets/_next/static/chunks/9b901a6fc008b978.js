(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,225126,e=>{"use strict";var t=e.i(247167),a=e.i(843476),s=e.i(271645),r=e.i(618566),i=e.i(653145),n=e.i(994814),l=e.i(362201),o=e.i(225913),d=e.i(991918),c=e.i(975157);let m=(0,o.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",xs:"h-6 gap-1 rounded-md px-2 text-xs has-[>svg]:px-1.5 [&_svg:not([class*='size-'])]:size-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-xs":"size-6 rounded-md [&_svg:not([class*='size-'])]:size-3","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function u({className:e,variant:t="default",size:s="default",asChild:r=!1,...i}){let n=r?d.Slot:"button";return(0,a.jsx)(n,{"data-slot":"button","data-variant":t,"data-size":s,className:(0,c.cn)(m({variant:t,size:s,className:e})),...i})}function x({className:e,type:t,...s}){return(0,a.jsx)("input",{type:t,"data-slot":"input",className:(0,c.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...s})}var p=e.i(973741);function h({className:e,...t}){return(0,a.jsx)(p.Label,{"data-slot":"label",className:(0,c.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}let g=0,b=new Map,f=e=>{if(b.has(e))return;let t=setTimeout(()=>{b.delete(e),N({type:"REMOVE_TOAST",toastId:e})},1e6);b.set(e,t)},y=[],v={toasts:[]};function N(e){v=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?f(a):e.toasts.forEach(e=>{f(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(v,e),y.forEach(e=>{e(v)})}function j({...e}){let t=(g=(g+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>N({type:"DISMISS_TOAST",toastId:t});return N({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||a()}}}),{id:t,dismiss:a,update:e=>N({type:"UPDATE_TOAST",toast:{...e,id:t}})}}var C=e.i(531278),w=e.i(643531),S=e.i(373375),k=e.i(751975),_=e.i(561659),P=e.i(37727),E=e.i(667668);e.i(540259);var V=e.i(911860),T=e.i(519455);function A({billingData:e,onPaymentMethodCollected:t,onCardChange:r}){let i=(0,E.useStripe)(),n=(0,E.useElements)(),[l,o]=(0,s.useState)(null),[d,m]=(0,s.useState)(!1),[u,x]=(0,s.useState)(!1),p=async()=>{if(!i||!n)return void o("Stripe is not loaded yet. Please wait.");m(!0),o(null);try{let{error:e}=await n.submit();if(e){o(e.message||"Failed to validate payment details"),x(!1);return}let{error:a,paymentMethod:s}=await i.createPaymentMethod({elements:n});if(a){o(a.message||"Failed to validate payment method"),x(!1);return}s?.id&&(console.log("ðŸ’³ Payment method created:",s.id),s.card&&r?.({brand:s.card.brand||"visa",last4:s.card.last4||"",complete:!0}),t(s.id),x(!0),o(null))}catch(e){console.error("Error collecting payment method:",e),o("Failed to validate payment method"),x(!1)}finally{m(!1)}};return(0,a.jsxs)("div",{className:"space-y-5",children:[(0,a.jsxs)("div",{className:"border-l-4 border-accent-base pl-5 mb-5",children:[(0,a.jsx)("h3",{className:"text-xl font-black text-brand-gradient tracking-tight",children:"Card Information"}),(0,a.jsx)("p",{className:"text-sm text-fg-secondary mt-1",children:"Enter your card details securely"})]}),(0,a.jsx)(E.PaymentElement,{options:{layout:"tabs",defaultValues:{billingDetails:{name:e?`${e.firstName} ${e.lastName}`:void 0,email:e?.agencyEmail,phone:e?.companyPhone?`${e.phoneCode||""}${e.companyPhone}`:void 0,address:{line1:e?.line1,line2:e?.line2,city:e?.city,state:e?.state,postal_code:e?.postalCode,country:e?.countryCode}}}},onChange:e=>{"card"===e.value.type&&e.complete&&r?.({brand:"visa",last4:"",complete:e.complete})}}),(0,a.jsx)(T.Button,{type:"button",onClick:p,disabled:!i||d||u,className:(0,c.cn)("w-full h-12 font-bold transition-all duration-300",u?"bg-gradient-to-br from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white shadow-[0_8px_30px_rgba(34,197,94,0.3)] hover:shadow-[0_12px_40px_rgba(34,197,94,0.4)]":"bg-brand-gradient hover:bg-brand-gradient-hover text-white border border-brand-border hover:scale-[1.01] active:scale-[0.99]"),children:d?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(C.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Validating Card..."]}):u?(0,a.jsx)(a.Fragment,{children:"âœ“ Card Validated"}):"Validate Card"}),l&&(0,a.jsx)("div",{className:"bg-destructive/10 border border-destructive rounded-lg p-3",children:(0,a.jsx)("p",{className:"text-sm text-destructive font-medium",children:l})}),u&&(0,a.jsx)("div",{className:"bg-[hsl(var(--success-bg))] border border-[hsl(var(--success-border))] rounded-lg p-3",children:(0,a.jsx)("p",{className:"text-sm text-[hsl(var(--success-text))] font-medium",children:"âœ“ Payment method validated successfully"})}),(0,a.jsx)("p",{className:"text-xs text-fg-tertiary",children:"Your payment information is securely processed by Stripe. We never store your card details."})]})}var I=e.i(422233),F=e.i(758302),O=e.i(251454),R=e.i(713766),M=e.i(886883),z=e.i(781164),D=e.i(886392);function $({className:e,orientation:t="horizontal",decorative:s=!0,...r}){return(0,a.jsx)(D.Separator,{"data-slot":"separator",decorative:s,orientation:t,className:(0,c.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...r})}function B({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function L({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function Y({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",e),...t})}function U({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",e),...t})}function W({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",e),...t})}var q=e.i(995549),X=e.i(977388);let G=(0,V.loadStripe)(t.default.env.NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY),J=l.object({firstName:l.string().min(2,"First name must be at least 2 characters"),lastName:l.string().min(2,"Last name must be at least 2 characters"),userEmail:l.string().email("Invalid email address"),agencyName:l.string().min(2,"D.B.A. is required for your agency"),agencyEmail:l.string().email("Invalid email address"),companyPhone:l.string().min(1,"Phone number is required"),phoneCode:l.string().optional(),companyName:l.string().optional(),tinNumber:l.string().optional(),line1:l.string().min(1,"Address line 1 is required"),line2:l.string().optional(),city:l.string().min(1,"City is required"),state:l.string().min(1,"State is required"),postalCode:l.string().min(1,"Postal code is required"),country:l.string().min(2,"Country is required"),countryCode:l.string().optional(),stateCode:l.string().optional()}),K=[{id:"billing",label:"Billing",description:"Billing information"},{id:"payment",label:"Payment",description:"Payment method"},{id:"review",label:"Review",description:"Review & Confirm"}];function H({priceId:t,planConfig:l,user:o,agencyEmail:d,existingCustomer:m,existingPaymentMethods:p}){let g,b=(0,r.useRouter)(),{toast:f}=function(){let[e,t]=s.useState(v);return s.useEffect(()=>(y.push(t),()=>{let e=y.indexOf(t);e>-1&&y.splice(e,1)}),[e]),{...e,toast:j,dismiss:e=>N({type:"DISMISS_TOAST",toastId:e})}}(),[V,T]=(0,s.useState)(!1),[D,H]=(0,s.useState)(null),[Q,Z]=(0,s.useState)(m?.id||null),[ee,et]=(0,s.useState)("billing"),[ea,es]=(0,s.useState)(new Set),[er,ei]=(0,s.useState)(null),[en,el]=(0,s.useState)(null),[eo,ed]=(0,s.useState)(p.length>0),[ec,em]=(0,s.useState)(p.length>0?p[0].id:null),[eu,ex]=(0,s.useState)(!1),[ep,eh]=(0,s.useState)("add"),[eg,eb]=(0,s.useState)({brand:"visa",last4:"",complete:!1,isFlipped:!1}),[ef,ey]=(0,s.useState)(null),[ev,eN]=(0,s.useState)(!1),[ej,eC]=(0,s.useState)(""),[ew,eS]=(0,s.useState)(null),[ek,e_]=(0,s.useState)(!1),[eP,eE]=(0,s.useState)(""),[eV,eT]=(0,s.useState)(""),[eA,eI]=(0,s.useState)(""),[eF,eO]=(0,s.useState)(""),[eR,eM]=(0,s.useState)("");R.Country.getAllCountries(),eP&&M.State.getStatesOfCountry(eP),eP&&eV&&z.City.getCitiesOfState(eP,eV);let ez=(0,i.useForm)({resolver:(0,n.zodResolver)(J),mode:"onChange",defaultValues:{firstName:o.firstName||"",lastName:o.lastName||"",userEmail:o.email||"",agencyName:"",agencyEmail:o.email||"",companyPhone:"",phoneCode:"",line1:"",line2:"",city:"",state:"",postalCode:"",stateCode:"",country:"",countryCode:""}}),eD=ez.formState.isSubmitting;(0,s.useEffect)(()=>{if(m){console.log("ðŸ”„ Pre-filling form with existing customer data:",m.id);let e=m.metadata||{};if(m.address){let e=R.Country.getAllCountries().find(e=>e.name===m.address?.country),t=M.State.getStatesOfCountry(e?.isoCode).find(e=>e.name===m.address?.state),a=z.City.getCitiesOfState(t?.countryCode||"",t?.isoCode||"").find(e=>e.name===m.address?.city);e&&e.isoCode.length,m.phone&&m.phone.match(/^(\+\d+)(.*)$/);let s=m.phone&&e?m.phone.match(RegExp(`^(\\+${e.phonecode})(.*)$`)):null,r=s?s[1]:null,i=s?s[2].toString().trim():null;ez.setValue("line1",m.address.line1||""),ez.setValue("line2",m.address.line2||""),eE(e?e.isoCode:""),ez.setValue("country",e?e.name:m.address.country||""),ez.setValue("countryCode",e?e.isoCode:""),eT(t?t.isoCode:""),ez.setValue("state",t?t.name:m.address.state||""),ez.setValue("stateCode",t?t.isoCode:""),eI(a?a.name:""),ez.setValue("city",a?a.name:m.address.city||""),ez.setValue("postalCode",m.address.postal_code||""),eO(r||""),ez.setValue("phoneCode",r||""),eM(i||m.phone||""),ez.setValue("companyPhone",i||m.phone||""),console.log("ðŸ™ï¸ Pre-filled address:",{line1:m.address.line1||"",line2:m.address.line2||"",country:e?e.name:m.address.country||"",countryCode:e?e.isoCode:"",state:t?t.name:m.address.state||"",stateCode:t?t.isoCode:"",city:a?a.name:m.address.city||"",postalCode:m.address.postal_code||"",phoneCode:r||"",companyPhone:i||`${m.phone} (stripe)`||""})}e.agencyName&&ez.setValue("agencyName",e.agencyName),e.companyName&&ez.setValue("companyName",e.companyName),e.tinNumber&&ez.setValue("tinNumber",e.tinNumber),console.log("âœ… Form pre-filled successfully")}},[m,ez]),(0,s.useEffect)(()=>{l.trialEnabled&&o.trialEligible?T(!0):T(!1)},[l,o]);let e$=K.findIndex(e=>e.id===ee),eB=async e=>await ez.trigger({billing:["firstName","lastName","userEmail","agencyName","agencyEmail","phoneCode","companyPhone","line1","line2","city","state","postalCode","country"],payment:[],review:[]}[e]),eL=async()=>{if(!await eB(ee)){let e=ez.formState.errors,t=Object.keys(e);console.log("Validation failed for fields:",t,e),f({title:"Validation Error",description:t.length>0?`Please check: ${t.join(", ")}`:"Please fill in all required fields correctly.",variant:"destructive"});return}es(e=>new Set(e).add(ee)),"billing"===ee&&ei(ez.getValues());let e=e$+1;e<K.length&&et(K[e].id)},eY=()=>{let e=e$-1;e>=0&&et(K[e].id)},eU=async e=>{(K.findIndex(t=>t.id===e)<e$||ea.has(e))&&et(e)},eW=async()=>{let a="";try{let s;eN(!0);let r=er||ez.getValues(),i=r.phoneCode&&r.companyPhone?`${r.phoneCode}${r.companyPhone}`:r.companyPhone;if(console.log("ðŸ“ž Phone formatting:",{phoneCode:r.phoneCode,companyPhone:r.companyPhone,formattedPhone:i}),Q)s=Q;else{console.log("ðŸ” Checking for existing customer:",r.userEmail);let e=await fetch(`/api/stripe/customer?email=${encodeURIComponent(r.userEmail)}`);if(!e.ok)throw Error("Failed to check existing customer");let t=await e.json();if(t.exists&&t.customer)console.log("âœ… Found existing customer, reusing:",t.customer.id),s=t.customer.id,Z(s);else{console.log("ðŸ“ Creating new customer");let e=await fetch("/api/stripe/customer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r.userEmail,name:r.companyName||`${r.firstName} ${r.lastName}`,phone:i,individual_name:`${r.firstName} ${r.lastName}`,business_name:r.companyName||"",address:{line1:r.line1,line2:r.line2||"",city:r.city,state:r.state,postal_code:r.postalCode,country:r.country},shipping:{address:{city:r.city,country:r.country,line1:r.line1,line2:r.line2||void 0,postal_code:r.postalCode,state:r.state},name:r.companyName||`${r.firstName} ${r.lastName}`},metadata:{userId:o.id,agencyName:r.agencyName,companyName:r.companyName||"",tinNumber:r.tinNumber||"",source:"checkout"},userId:o.id})});if(!e.ok){let t=await e.json();throw Error(t.error||"Failed to create customer")}let t=await e.json();s=t.customerId,Z(s),console.log("âœ… New customer created:",s,"userUpdated:",t.userUpdated)}}console.log("ðŸ“ Creating agency...");let{upsertAgency:n}=await e.A(306201);a=(0,I.v4)(),await n({id:a,customerId:s,name:r.agencyName,companyEmail:r.userEmail,companyPhone:i,whiteLabel:!1,line1:r.line1,line2:r.line2||"",city:r.city,postalCode:r.postalCode,state:r.state,country:r.country,agencyLogo:"",connectAccountId:"",taxIdentityId:null,goal:5,createdAt:new Date,updatedAt:new Date}),console.log("âœ… Agency created:",a),console.log("ðŸ’° Creating subscription");let d=await fetch("/api/stripe/create-subscription",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customerId:s,agencyId:a,priceId:t,country:r.country,coupon:ew?.id,paymentMethodId:en||ec,trialEnabled:l.trialEnabled&&V,trialPeriodDays:l.trialEnabled&&V?l.trialPeriodDays:void 0})});if(!d.ok)throw Error("Failed to create subscription");let c=await d.json();console.log("âœ… Subscription created:",c.subscriptionId),f({title:"Success!",description:"Your agency has been created successfully."}),b.push(`/agency/${a}`)}catch(e){console.error("Checkout error:",e),eN(!1),f({title:"Error",description:e instanceof Error?e.message:"Failed to process checkout",variant:"destructive"})}},eq=async()=>{if(ej.trim()){e_(!0);try{let e=await fetch("/api/stripe/validate-coupon",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:ej})});if(!e.ok)throw Error("Invalid coupon code");let{coupon:t}=await e.json();eS(t),f({title:"Coupon Applied!",description:`${t.percent_off||t.amount_off}% discount applied`})}catch(e){f({title:"Invalid Coupon",description:"The coupon code you entered is not valid.",variant:"destructive"})}finally{e_(!1)}}},eX=parseFloat(l.price.replace(/[^0-9.]/g,"")),eG=ew?ew.percent_off?eX*ew.percent_off/100:ew.amount_off/100:0,eJ=eX-eG;return(0,a.jsxs)("div",{className:"bg-bg-primary",children:[(0,a.jsxs)("div",{className:"mx-auto max-w-6xl px-4 sm:px-6 lg:px-8 py-10 sm:py-12 relative z-10",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between gap-4 mb-6",children:[(0,a.jsx)("div",{children:(0,a.jsx)("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-black tracking-tight text-brand-gradient pb-1",children:"Complete Your Subscription"})}),(0,a.jsxs)(u,{variant:"ghost",size:"sm",onClick:()=>b.push("/site/pricing"),className:"hover:bg-accent transition-colors",children:[(0,a.jsx)(S.ChevronLeft,{className:"h-4 w-4 mr-1"}),"Back to Pricing"]})]}),(0,a.jsx)(X.motion.div,{className:"my-8 h-0.5 bg-gradient-to-r from-transparent via-blue-500/50 to-transparent",initial:{scaleX:0,opacity:0},animate:{scaleX:1,opacity:1},transition:{delay:.5,duration:.8,ease:"easeOut"}}),(0,a.jsx)("div",{className:"flex items-center justify-between w-full mb-6 px-10",children:K.map((e,t)=>{let r=ea.has(e.id),i=ee===e.id,n=t<=e$||r,l=t===K.length-1;return(0,a.jsxs)(s.default.Fragment,{children:[(0,a.jsxs)(u,{variant:"ghost",onClick:()=>n&&eU(e.id),disabled:!n,className:(0,c.cn)("h-full group flex flex-col items-center gap-1.5 transition-all duration-300",n&&"cursor-pointer hover:scale-105",!n&&"cursor-not-allowed opacity-50"),children:[(0,a.jsxs)(X.motion.div,{initial:!1,animate:{scale:i?1.1:1,backgroundColor:r||i?"hsl(var(--primary))":"hsl(var(--muted))"},transition:{type:"spring",stiffness:500,damping:30},className:(0,c.cn)("relative flex items-center justify-center w-9 h-9 rounded-full font-medium text-sm",r||i?"text-primary-foreground":"text-muted-foreground"),children:[r?(0,a.jsx)(X.motion.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:500,damping:25},children:(0,a.jsx)(w.Check,{className:"h-4 w-4",strokeWidth:3})}):(0,a.jsx)("span",{children:t+1}),i&&(0,a.jsx)(X.motion.div,{className:"absolute inset-0 rounded-full border-2 border-primary",initial:{scale:1,opacity:.8},animate:{scale:1.4,opacity:0},transition:{duration:1.5,repeat:1/0,ease:"easeOut"}})]}),(0,a.jsx)(X.motion.span,{initial:!1,animate:{color:i||r?"hsl(var(--primary))":"hsl(var(--muted-foreground))",fontWeight:i?600:500},className:"text-xs whitespace-nowrap",children:e.label})]}),!l&&(0,a.jsx)("div",{className:"relative -top-2 w-full flex-1 h-0.5 mx-2 rounded-full overflow-hidden min-w-[80px] bg-gradient-to-r from-transparent via-border to-transparent",children:(0,a.jsx)(X.motion.div,{className:"h-full bg-gradient-to-r from-primary via-blue-500 to-primary/80 rounded-full",initial:{width:"0%"},animate:{width:r?"100%":"0%"},transition:{duration:.4,ease:"easeOut"}})})]},e.id)})}),(0,a.jsxs)("div",{className:"grid lg:grid-cols-3 gap-6",children:[(0,a.jsx)("div",{className:"lg:col-span-2 space-y-4 w-full",children:(0,a.jsx)("div",{className:"module__WDhx3G__outer p-[8px] border rounded-2xl",children:(0,a.jsx)("div",{className:"module__WDhx3G__inner rounded-full",children:(0,a.jsx)("div",{className:"w-full p-[8px] pb-0 border-0 rounded-2xl",children:(0,a.jsx)(W,{className:"pt-6 pb-7 px-6 sm:px-7",children:(0,a.jsxs)("form",{children:["billing"===ee&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"border-l-4 border-primary pl-5",children:[(0,a.jsx)("h2",{className:"text-2xl font-black text-brand-gradient mb-1 tracking-tight",children:"Account"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Your contact information"})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-5",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(h,{className:"mb-2 block",children:"Full Name *"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsx)(x,{id:"firstName",type:"text",...ez.register("firstName"),placeholder:"First",className:"h-10"}),(0,a.jsx)(x,{id:"lastName",type:"text",...ez.register("lastName"),placeholder:"Last",className:"h-10"})]}),(ez.formState.errors.firstName||ez.formState.errors.lastName)&&(0,a.jsx)("p",{className:"text-sm text-destructive mt-1",children:ez.formState.errors.firstName?.message||ez.formState.errors.lastName?.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(h,{htmlFor:"agencyEmail",className:"mb-2 block",children:"Email Address *"}),(0,a.jsx)(x,{id:"agencyEmail",type:"email",readOnly:!0,...ez.register("agencyEmail"),placeholder:"john@example.com",className:"h-10"}),ez.formState.errors.agencyEmail&&(0,a.jsx)("p",{className:"text-sm text-destructive mt-1",children:ez.formState.errors.agencyEmail.message})]})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-5",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(h,{htmlFor:"agencyName",className:"mb-2 block",children:"Tenant Name *"}),(0,a.jsx)(x,{id:"agencyName",...ez.register("agencyName"),placeholder:"My Tenant",className:"h-10"}),ez.formState.errors.agencyName&&(0,a.jsx)("p",{className:"text-sm text-destructive mt-1",children:ez.formState.errors.agencyName.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(h,{htmlFor:"companyPhone",className:"mb-2 block",children:"Phone Number*"}),(0,a.jsx)(F.PhoneCodeSelector,{value:eR,onValueChange:(e,t)=>{eM(e),eO(t||""),ez.setValue("companyPhone",e),ez.setValue("phoneCode",t||"")},countryCode:eP,onCountryCodeChange:(e,t)=>{eE(e),ez.setValue("phoneCode",t?.phonecode||""),ez.setValue("country",t?.name||"",{shouldValidate:!0}),ez.setValue("countryCode",e)},placeholder:"Enter phone number",disabled:eD,styleVariant:"plain"}),ez.formState.errors.companyPhone&&(0,a.jsx)("p",{className:"text-sm text-destructive mt-1",children:ez.formState.errors.companyPhone.message})]})]}),(0,a.jsx)($,{className:"my-6"}),(0,a.jsxs)("div",{className:"border-l-4 border-primary pl-5",children:[(0,a.jsx)("h2",{className:"text-2xl font-black text-brand-gradient mb-1 tracking-tight",children:"Billing"}),(0,a.jsx)("p",{className:"text-sm text-fg-tertiary",children:"Billing address and tax information"})]}),(0,a.jsxs)("div",{className:"space-y-5 mt-2",children:[(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-5",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(h,{htmlFor:"companyName",className:"mb-2 block",children:["Company Name ",(0,a.jsx)("span",{className:"text-xs text-fg-tertiary ml-1 font-normal",children:"(Optional)"})]}),(0,a.jsx)(x,{id:"companyName",...ez.register("companyName"),placeholder:"My Company Ltd.",className:"h-10"}),ez.formState.errors.companyName&&(0,a.jsx)("p",{className:"text-sm text-destructive mt-1",children:ez.formState.errors.companyName.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(h,{htmlFor:"tinNumber",className:"mb-2 block",children:["Tax ID ",(0,a.jsx)("span",{className:"text-xs text-fg-tertiary ml-1 font-normal",children:"(Optional)"})]}),(0,a.jsx)(x,{id:"tinNumber",...ez.register("tinNumber"),placeholder:"123-45-6789",className:"h-10"}),ez.formState.errors.tinNumber&&(0,a.jsx)("p",{className:"text-sm text-destructive mt-1",children:ez.formState.errors.tinNumber.message})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(h,{className:"mb-2 block",children:"Address *"}),(0,a.jsxs)("div",{className:"grid md:grid-cols-4 gap-2",children:[(0,a.jsx)(x,{id:"line2",...ez.register("line2"),placeholder:"Apt/Suite (Optional)",className:"h-10"}),(0,a.jsx)(x,{id:"line1",className:"md:col-span-2 h-10",...ez.register("line1"),placeholder:"Street Address"}),(0,a.jsx)(F.PostalCodeInput,{value:ez.watch("postalCode"),onValueChange:e=>ez.setValue("postalCode",e),placeholder:"Postal Code",countryCode:eP,styleVariant:"plain"})]}),(ez.formState.errors.line1||ez.formState.errors.postalCode)&&(0,a.jsx)("p",{className:"text-sm text-destructive mt-1",children:ez.formState.errors.line1?.message||ez.formState.errors.postalCode?.message})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-3 gap-5",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(h,{htmlFor:"country",className:"mb-2 block",children:"Country *"}),(0,a.jsx)(F.CountrySelector,{value:eP,onValueChange:(e,t)=>{eE(e),eT(""),ez.setValue("country",t?.name||""),ez.setValue("countryCode",e),ez.setValue("state",""),ez.setValue("stateCode",""),ez.setValue("city","")},placeholder:"Select country",disabled:eD,styleVariant:"plain"}),ez.formState.errors.country&&(0,a.jsx)("p",{className:"text-sm text-destructive mt-1",children:ez.formState.errors.country.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(h,{htmlFor:"state",className:"mb-2 block",children:"State/Province *"}),(0,a.jsx)(F.StateSelector,{countryCode:eP,value:eV,onValueChange:(e,t)=>{eT(e),ez.setValue("state",t.name),ez.setValue("stateCode",e)},placeholder:"Select state",disabled:eD,styleVariant:"plain"}),ez.formState.errors.state&&(0,a.jsx)("p",{className:"text-sm text-destructive mt-1",children:ez.formState.errors.state.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(h,{htmlFor:"city",className:"mb-2 block",children:"City *"}),(0,a.jsx)(F.CitySelector,{countryCode:eP,stateCode:eV,value:eA,onValueChange:(e,t)=>{eI(t.name),ez.setValue("city",t.name)},placeholder:"Select city",disabled:eD,styleVariant:"plain"}),ez.formState.errors.city&&(0,a.jsx)("p",{className:"text-sm text-destructive mt-1",children:ez.formState.errors.city.message})]})]}),(0,a.jsx)("div",{className:"grid md:grid-cols-1 gap-6"})]})]}),"payment"===ee&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"border-l-4 border-primary pl-5",children:[(0,a.jsx)("h2",{className:"text-2xl font-black text-brand-gradient mb-2 tracking-tight",children:"Payment Method"}),(0,a.jsx)("p",{className:"text-fg-tertiary",children:p.length>0?"Choose a payment method or add a new card":"Securely add your payment information"})]}),p.length>0&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(q.SavedBankCardsGallery,{compact:!0,cards:p.map(e=>({id:e.id,cardNumber:`**** **** **** ${e.card?.last4}`,cardholderName:e.card?.cardholder_name||"N/A",expiryMonth:String(e.card?.exp_month).padStart(2,"0"),expiryYear:String(e.card?.exp_year),brand:e.card?.brand,variant:e.card?.brand==="visa"?"default":e.card?.brand==="mastercard"?"premium":e.card?.brand==="amex"?"platinum":"default",isDefault:e.card?.isDefault})),selectedCardId:eo&&ec?ec:void 0,onCardSelect:e=>{ed(!0),em(e)},onAddCard:()=>{eh("add"),ex(!0)},onSetDefault:e=>{f({title:"Set as Default",description:"This feature will be available soon."})},onReplaceCard:e=>{ey(e),eh("replace"),ex(!0)},onRemoveCard:async e=>{f({title:"Remove Card",description:"Are you sure? This feature will be available soon.",variant:"destructive"})},className:"mb-4"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,a.jsx)("span",{className:"w-full border-t border-border"})}),(0,a.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,a.jsx)("span",{className:"bg-background px-2 text-muted-foreground",children:eo?"Or add new card":"Adding new card"})})]})]}),!eo&&!en&&(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)("div",{onClick:()=>{eh("add"),ex(!0)},className:"p-6 border-2 border-dashed border-primary/30 rounded-xl cursor-pointer hover:border-primary hover:bg-primary/5 transition-all",children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-3 text-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:(0,a.jsx)(_.CreditCard,{className:"h-6 w-6 text-primary"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold text-fg-primary",children:"Add New Payment Method"}),(0,a.jsx)("p",{className:"text-sm text-fg-tertiary mt-1",children:"Click to securely add your card details"})]})]})})}),eu&&(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:()=>ex(!1),children:(0,a.jsxs)("div",{className:"relative bg-card rounded-2xl shadow-2xl max-w-md w-full p-6 max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-fg-primary",children:"add"===ep?"Add New Card":"Replace Card"}),(0,a.jsx)("p",{className:"text-sm text-fg-tertiary mt-1",children:"Your payment information is securely processed by Stripe"})]}),(0,a.jsx)("button",{type:"button",onClick:()=>ex(!1),className:"text-muted-foreground hover:text-foreground transition-colors",children:(0,a.jsx)(P.X,{className:"h-6 w-6"})})]}),(0,a.jsx)("div",{className:"relative rounded-2xl p-[1.5px] bg-gradient-to-br from-border/60 via-border/40 to-border/60 overflow-hidden shadow-md",children:(0,a.jsxs)("div",{className:"relative overflow-hidden rounded-2xl bg-card p-6",children:[(0,a.jsx)("div",{className:"absolute inset-x-0 top-0 h-px bg-gradient-to-r from-transparent via-border/60 to-transparent"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(600px_circle_at_50%_0%,rgba(59,130,246,0.03),transparent_60%)]"}),(0,a.jsx)("div",{className:"relative z-10",children:(0,a.jsx)(E.Elements,{stripe:G,options:{mode:"setup",currency:"myr",paymentMethodCreation:"manual",appearance:{variables:{colorSuccess:"var(--success-text)",colorPrimary:"var(--primary)",colorBackground:"linear-gradient(to_br, var(--bg-muted/30), var(--bg-muted/20), var(--bg-muted/10))",colorText:"var(--fg-primary)",colorDanger:"var(--warning-text)",fontFamily:"system-ui, sans-serif",borderRadius:"0.75rem",spacingUnit:"4px"}}},children:(0,a.jsx)(A,{billingData:er,onPaymentMethodCollected:e=>{el(e),ex(!1),"replace"===ep&&ef?f({title:"Card Replaced",description:"Your payment method has been updated."}):(ed(!1),f({title:"Card Added",description:"Your new payment method is ready to use."}))},onCardChange:e=>{eb({brand:e.brand,last4:e.last4,complete:e.complete,isFlipped:!1})}})})})]})}),(0,a.jsx)("div",{className:"mt-6 flex gap-3",children:(0,a.jsx)(u,{type:"button",variant:"outline",onClick:()=>ex(!1),className:"flex-1",children:"Cancel"})})]})}),!eo&&en&&(0,a.jsx)("div",{className:"mt-4 relative rounded-2xl p-[1.5px] bg-gradient-to-br from-green-400/60 via-green-300/40 to-green-400/60 overflow-hidden shadow-lg",children:(0,a.jsxs)("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-green-50 via-emerald-50 to-green-50 p-5",children:[(0,a.jsx)("div",{className:"absolute inset-x-0 top-0 h-px bg-gradient-to-r from-transparent via-green-300/60 to-transparent"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(400px_circle_at_50%_0%,rgba(34,197,94,0.08),transparent_60%)]"}),(0,a.jsxs)("div",{className:"relative z-10 flex items-center gap-4",children:[(0,a.jsx)("div",{className:"flex-shrink-0 w-12 h-12 rounded-full bg-gradient-to-br from-green-400 to-green-500 flex items-center justify-center shadow-lg shadow-green-500/20",children:(0,a.jsx)(w.Check,{className:"h-7 w-7 text-white",strokeWidth:3})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"font-bold text-lg text-green-900",children:"Payment Method Validated"}),(0,a.jsx)("p",{className:"text-sm text-green-700 mt-0.5",children:"Your new card has been successfully validated and is ready to use"})]}),(0,a.jsx)(u,{type:"button",variant:"outline",size:"sm",onClick:()=>{el(null),console.log("ðŸ”„ Resetting payment method")},className:"flex-shrink-0 bg-gradient-to-br from-green-600 via-emerald-500 to-emerald-500 text-white transition-colors",children:"Change Card"})]})]})})]}),"review"===ee&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"border-l-4 border-primary pl-5",children:[(0,a.jsx)("h2",{className:"text-2xl font-black text-brand-gradient mb-2 tracking-tight",children:"Review & Confirm"}),(0,a.jsx)("p",{className:"text-fg-tertiary",children:"Please review your information before confirming your subscription"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[(0,a.jsx)(w.Check,{className:"h-5 w-5 text-green-500"}),"Billing Information"]}),(0,a.jsxs)("div",{className:"bg-muted/50 rounded-lg p-4 space-y-2",children:[(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Name"}),(0,a.jsxs)("p",{className:"font-medium",children:[er?.firstName," ",er?.lastName]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Email"}),(0,a.jsx)("p",{className:"font-medium",children:er?.agencyEmail})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Phone"}),(0,a.jsxs)("p",{className:"font-medium",children:[er?.phoneCode," ",er?.companyPhone]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Tenant Name"}),(0,a.jsx)("p",{className:"font-medium",children:er?.agencyName})]})]}),er?.companyName&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Company"}),(0,a.jsx)("p",{className:"font-medium",children:er.companyName})]}),(0,a.jsx)($,{className:"my-2"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Address"}),(0,a.jsxs)("p",{className:"font-medium",children:[er?.line1,er?.line2&&`, ${er.line2}`]}),(0,a.jsxs)("p",{className:"font-medium",children:[er?.city,", ",er?.state," ",er?.postalCode]}),(0,a.jsx)("p",{className:"font-medium",children:er?.country})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[(0,a.jsx)(w.Check,{className:"h-5 w-5 text-green-500"}),"Payment Method"]}),(0,a.jsx)("div",{className:"bg-muted/50 rounded-lg p-4",children:eo&&ec?(0,a.jsx)("div",{children:(g=p.find(e=>e.id===ec))?(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-blue-600 font-semibold",children:g.card?.brand?.charAt(0).toUpperCase()})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"font-medium capitalize",children:[g.card?.brand," â€¢â€¢â€¢â€¢ ",g.card?.last4]}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Expires ",g.card?.exp_month,"/",g.card?.exp_year]})]})]}):null}):en?(0,a.jsx)("p",{className:"font-medium",children:"New card ending in â€¢â€¢â€¢â€¢"}):(0,a.jsx)("p",{className:"text-amber-600",children:"No payment method selected"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[(0,a.jsx)(w.Check,{className:"h-5 w-5 text-green-500"}),"Subscription"]}),(0,a.jsxs)("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold text-lg",children:l.title}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["month"===l.duration?"Monthly":"Yearly"," subscription"]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"font-bold text-xl",children:l.price}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["per ",l.duration]})]})]}),(0,a.jsx)($,{}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("p",{className:"font-semibold",children:"Total Due Today"}),(0,a.jsx)("p",{className:"font-bold text-xl text-blue-600",children:V?"RM 0.00":`$${l.price}`})]}),V?(0,a.jsx)("div",{className:"bg-blue-50 rounded-lg p-3 mt-3",children:(0,a.jsxs)("p",{className:"text-sm text-blue-700",children:["ðŸ’¡ Your ",l.trialPeriodDays,"-day free trial starts today. You'll be charged RM ",l.price," after your trial ends on the same day each ",l.duration,". You can cancel anytime from your account settings."]})}):(0,a.jsx)("div",{className:"bg-blue-50 rounded-lg p-3 mt-3",children:(0,a.jsxs)("p",{className:"text-sm text-blue-700",children:["ðŸ’¡ Your subscription will automatically renew on the same day each ",l.duration,". You can cancel anytime from your account settings."]})})]})]})]}),(0,a.jsxs)("div",{className:"flex gap-3 mt-7 pt-5 border-t border-border",children:[(0,a.jsxs)(u,{type:"button",variant:"outline",onClick:eY,className:"border-border hover:bg-muted/50 h-11 transition-all duration-300",children:[(0,a.jsx)(S.ChevronLeft,{className:"h-4 w-4 mr-1"}),"Back"]}),(0,a.jsxs)(u,{type:"button",className:"btn-brand-gradient shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.01] active:scale-[0.99] h-11",onClick:eW,disabled:ev||!eo&&!en||eo&&!ec,children:["ðŸ”’ Confirm & Pay ",V?"RM 0.00":`$${l.price}`]})]})]}),"review"!==ee&&(0,a.jsxs)("div",{className:"flex gap-3 mt-7 pt-5 border-t border-border",children:[e$>0&&(0,a.jsxs)(u,{type:"button",variant:"outline",onClick:eY,className:"border-border hover:bg-muted/50 h-11 transition-all duration-300",children:[(0,a.jsx)(S.ChevronLeft,{className:"h-4 w-4 mr-1"}),"Back"]}),(0,a.jsx)(u,{type:"button",className:"btn-brand-gradient h-11",onClick:eL,disabled:eD||"payment"===ee&&!eo&&!en||"payment"===ee&&eo&&!ec,children:"billing"===ee?"Continue to Payment â†’":"Continue to Review â†’"})]})]})})})})})}),(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsx)("div",{className:"lg:sticky lg:top-6 rounded-2xl p-[2px] bg-gradient-to-br from-border/50 via-border/30 to-border/50 shadow-md transition-all duration-500 hover:shadow-lg",children:(0,a.jsxs)(B,{className:"border-0 bg-card/95 backdrop-blur-xl backdrop-saturate-150 shadow-[inset_0_1px_0_rgba(255,255,255,0.95),inset_0_-1px_0_rgba(0,0,0,0.03)] rounded-2xl overflow-hidden relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-muted/5 via-transparent to-muted/5 pointer-events-none"}),(0,a.jsxs)(L,{className:"relative bg-gradient-to-br from-accent-base/8 via-accent-base/5 to-transparent border-b border-line-secondary pb-5",children:[(0,a.jsx)(Y,{className:"text-2xl font-black text-brand-gradient tracking-tight",children:"Order Summary"}),(0,a.jsx)(U,{className:"text-fg-tertiary font-medium mt-1.5",children:"Review your subscription details"})]}),(0,a.jsxs)(W,{className:"space-y-4 pt-6 relative",children:[(0,a.jsx)("div",{className:"relative bg-card backdrop-blur-sm border border-border rounded-xl p-4 shadow-sm transition-all duration-300 hover:shadow-md hover:border-border",children:(0,a.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"font-bold text-fg-primary",children:[l.title," Plan"]}),(0,a.jsx)("p",{className:"text-sm text-fg-secondary",children:"Monthly subscription"})]}),(0,a.jsx)("div",{className:"text-right",children:(0,a.jsxs)("div",{className:"font-bold text-fg-primary text-lg",children:[l.price,(0,a.jsxs)("span",{className:"text-xs text-fg-secondary ml-1",children:["/ ",l.duration]})]})})]})}),V&&(0,a.jsxs)("div",{className:"relative overflow-hidden bg-gradient-to-r from-blue-500 via-blue-600 to-cyan-500 text-white px-4 py-3 rounded-xl text-sm font-bold shadow-[0_4px_20px_rgba(59,130,246,0.4)] group",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"}),(0,a.jsxs)("div",{className:"relative flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-xl",children:"ðŸŽ"}),(0,a.jsxs)("span",{className:"tracking-wide",children:[l.trialPeriodDays,"-day free trial included"]})]})]}),(0,a.jsx)($,{}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-bold mb-4 text-sm uppercase tracking-wider text-fg-primary",children:"What's included"}),(0,a.jsx)("ul",{className:"space-y-3",children:l.features.map((e,t)=>(0,a.jsxs)("li",{className:"flex items-start gap-3 text-sm group",children:[(0,a.jsx)("div",{className:"flex-shrink-0 inline-flex h-5 w-5 items-center justify-center rounded-full bg-gradient-to-br from-primary/15 to-primary/10 border border-primary/30 mt-0.5 transition-all duration-300 group-hover:scale-110 group-hover:shadow-sm group-hover:shadow-primary/20",children:(0,a.jsx)(w.Check,{className:"h-3.5 w-3.5 text-primary",strokeWidth:2.5})}),(0,a.jsx)("span",{className:"text-fg-secondary leading-relaxed font-medium",children:e})]},t))})]}),(0,a.jsx)($,{className:"bg-blue-100"}),(0,a.jsxs)("div",{children:[(0,a.jsx)(h,{htmlFor:"coupon",className:"text-sm font-bold mb-3 block text-fg-primary uppercase tracking-wider",children:"Promo Code"}),ew?(0,a.jsxs)("div",{className:"flex items-center justify-between bg-gradient-to-r from-emerald-50 via-green-50 to-emerald-50 border border-success/30 rounded-xl px-4 py-3.5 shadow-sm transition-all duration-300 hover:shadow-md hover:border-success/50",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2.5",children:[(0,a.jsx)("div",{className:"bg-gradient-to-br from-green-100 to-emerald-100 rounded-full p-1.5 shadow-sm",children:(0,a.jsx)(k.Tag,{className:"h-3.5 w-3.5 text-green-600"})}),(0,a.jsx)("span",{className:"text-sm font-bold text-green-700 tracking-wide",children:ew.id})]}),(0,a.jsx)(u,{type:"button",variant:"ghost",size:"sm",onClick:()=>{eS(null),eC("")},className:"h-8 text-xs font-semibold text-success-foreground hover:bg-success/10 transition-all duration-300 hover:scale-105",children:"Remove"})]}):(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(x,{id:"coupon",placeholder:"Enter code",value:ej,onChange:e=>eC(e.target.value.toUpperCase()),disabled:ek,className:"focus:ring-primary/30"}),(0,a.jsx)(u,{type:"button",variant:"outline",size:"sm",onClick:eq,disabled:!ej.trim()||ek,className:"hover:bg-accent",children:ek?(0,a.jsx)(C.Loader2,{className:"h-4 w-4 animate-spin"}):(0,a.jsx)(k.Tag,{className:"h-4 w-4"})})]})]}),(0,a.jsx)($,{className:"bg-blue-100"}),(0,a.jsxs)("div",{className:"space-y-3 bg-muted/50 rounded-lg p-4 border border-border",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-fg-tertiary",children:"Subtotal"}),(0,a.jsxs)("span",{className:"font-medium text-fg-primary",children:["RM ",eX.toFixed(2)]})]}),ew&&(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsxs)("span",{className:"text-green-600 font-medium",children:["Discount (",ew.percent_off||"","%)"]}),(0,a.jsxs)("span",{className:"text-green-600 font-semibold",children:["- RM ",eG.toFixed(2)]})]}),(0,a.jsxs)("div",{className:"flex justify-between text-md font-bold pt-1",children:[(0,a.jsx)("span",{className:"text-fg-primary",children:"Total"}),(0,a.jsxs)("span",{className:"font-medium text-fg-primary",children:["RM ",eJ.toFixed(2)]})]}),(0,a.jsx)($,{className:"bg-border"}),V&&(0,a.jsxs)("div",{className:"flex justify-between text-lg font-bold pt-1",children:[(0,a.jsx)("span",{className:"text-primary",children:"Pay Now"}),(0,a.jsx)("span",{className:"text-primary",children:"RM 0.00"})]}),V&&(0,a.jsxs)("p",{className:"text-xs text-fg-secondary bg-primary/5 rounded-lg p-3 border border-primary/20 font-medium",children:["ðŸ’¡ You'll be charged RM ",eJ.toFixed(2)," after your ",l.trialPeriodDays,"-day trial ends"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 text-xs text-muted-foreground pt-4 border-t border-border bg-muted/30 -mx-6 px-6 pb-6 -mb-6 rounded-b-lg",children:[(0,a.jsx)("svg",{className:"h-5 w-5 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),(0,a.jsx)("span",{children:"Secure payment powered by Stripe"})]})]})]})})})]})]}),(0,a.jsx)(O.MultiStepLoader,{loadingStates:[{text:"Verifying payment method"},{text:"Creating your subscription"},{text:"Setting up your agency"},{text:"Finalizing your account"}],loading:ev,duration:2e3,loop:!1})]})}e.s(["CheckoutForm",()=>H],225126)}]);