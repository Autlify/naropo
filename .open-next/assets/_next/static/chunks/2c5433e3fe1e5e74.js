(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,927639,e=>{"use strict";var t=e.i(681307);let a=t.z.object({name:t.z.string().min(1),pathName:t.z.string().optional()}),i=t.z.object({name:t.z.string().min(1)}),n=t.z.object({name:t.z.string().min(1),description:t.z.string(),subDomainName:t.z.string().optional(),favicon:t.z.string().optional()}),r=t.z.object({name:t.z.string().min(1)}),s=/^\d+(\.\d{1,2})?$/,o=t.z.object({name:t.z.string().min(1),description:t.z.string().optional(),value:t.z.string().refine(e=>s.test(e),{message:"Value must be a valid price."})}),c=t.z.object({name:t.z.string().min(1,"Required"),email:t.z.string().email()});e.s(["ContactUserFormSchema",0,c,"CreateFunnelFormSchema",0,n,"CreatePipelineFormSchema",0,i,"FunnelPageSchema",0,a,"LaneFormSchema",0,r,"TicketFormSchema",0,o])},154523,e=>{"use strict";var t=e.i(95187);let a=(0,t.createServerReference)("4014e99c6800051bb437e2f35bba1024ed9917f9c2",t.callServer,void 0,t.findSourceMapURL,"upsertContact");e.s(["upsertContact",()=>a])},840473,e=>{"use strict";var t=e.i(843476),a=e.i(994814),i=e.i(271645),n=e.i(653145),r=e.i(903133),s=e.i(515288),o=e.i(793479),c=e.i(519455),l=e.i(888173),m=e.i(927639),d=e.i(2170),u=e.i(154523),h=e.i(922140),j=e.i(618566),p=e.i(86896);let b=({subaccountId:e})=>{let{setClose:b,data:g}=(0,p.useModal)(),C=(0,j.useRouter)(),x=(0,n.useForm)({mode:"onChange",resolver:(0,a.zodResolver)(m.ContactUserFormSchema),defaultValues:{name:"",email:""}});(0,i.useEffect)(()=>{g.contact&&x.reset(g.contact)},[g,x.reset]);let f=x.formState.isLoading,v=async t=>{try{let a=await (0,u.upsertContact)({email:t.email,subAccountId:e,name:t.name});await (0,d.saveActivityLogsNotification)({agencyId:void 0,description:`Updated a contact | ${a?.name}`,subaccountId:e}),(0,h.toast)({title:"Success",description:"Saved contact details"}),b(),C.refresh()}catch(e){(0,h.toast)({variant:"destructive",title:"Oppse!",description:"Could not save contact details"})}};return(0,t.jsxs)(s.Card,{className:" w-full",children:[(0,t.jsxs)(s.CardHeader,{children:[(0,t.jsx)(s.CardTitle,{children:"Contact Info"}),(0,t.jsx)(s.CardDescription,{children:"You can assign tickets to contacts and set a value for each contact in the ticket."})]}),(0,t.jsx)(s.CardContent,{children:(0,t.jsx)(r.Form,{...x,children:(0,t.jsxs)("form",{onSubmit:x.handleSubmit(v),className:"flex flex-col gap-4",children:[(0,t.jsx)(r.FormField,{disabled:f,control:x.control,name:"name",render:({field:e})=>(0,t.jsxs)(r.FormItem,{children:[(0,t.jsx)(r.FormLabel,{children:"Name"}),(0,t.jsx)(r.FormControl,{children:(0,t.jsx)(o.Input,{placeholder:"Name",...e})}),(0,t.jsx)(r.FormMessage,{})]})}),(0,t.jsx)(r.FormField,{disabled:f,control:x.control,name:"email",render:({field:e})=>(0,t.jsxs)(r.FormItem,{children:[(0,t.jsx)(r.FormLabel,{children:"Email"}),(0,t.jsx)(r.FormControl,{children:(0,t.jsx)(o.Input,{type:"email",placeholder:"Email",...e})}),(0,t.jsx)(r.FormMessage,{})]})}),(0,t.jsx)(c.Button,{className:"mt-4",disabled:f,type:"submit",children:x.formState.isSubmitting?(0,t.jsx)(l.default,{}):"Save Contact Details!"})]})})})]})};var g=e.i(824609);e.s(["default",0,({subaccountId:e})=>{let{setOpen:a}=(0,p.useModal)(),i=async()=>{a((0,t.jsx)(g.default,{title:"Create Or Update Contact information",subheading:"Contacts are like customers.",children:(0,t.jsx)(b,{subaccountId:e})}))};return(0,t.jsx)(c.Button,{onClick:i,children:"Create Contact"})}],840473)}]);