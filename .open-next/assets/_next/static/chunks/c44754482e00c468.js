(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,722619,e=>{"use strict";var t=e.i(843476),n=e.i(271645),a=e.i(784774),i=e.i(657688),l=e.i(803408),l=l,s=e.i(2170),r=e.i(823678),o=e.i(618566),c=e.i(793479),d=e.i(519455);e.s(["default",0,({products:e,defaultData:p})=>{let x=(0,o.useRouter)(),[m,f]=(0,n.useState)(!1),[u,h]=(0,n.useState)(JSON.parse(p?.liveProducts||"[]")),g=async()=>{f(!0);let e=await (0,r.updateFunnelProducts)(JSON.stringify(u),p.id);await (0,s.saveActivityLogsNotification)({agencyId:void 0,description:`Update funnel products | ${e.name}`,subaccountId:p.subAccountId}),f(!1),x.refresh()},y=async e=>{u.find(t=>t.productId===e.default_price?.id)?h(u.filter(t=>t.productId!==e.default_price?.id)):h([...u,{productId:e.default_price?.id,recurring:!!e.default_price?.recurring}])};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(a.Table,{className:"bg-card border-[1px] border rounded-md",children:[(0,t.jsx)(a.TableHeader,{className:"rounded-md",children:(0,t.jsxs)(a.TableRow,{children:[(0,t.jsx)(a.TableHead,{children:"Live"}),(0,t.jsx)(a.TableHead,{children:"Image"}),(0,t.jsx)(a.TableHead,{children:"Name"}),(0,t.jsx)(a.TableHead,{children:"Interval"}),(0,t.jsx)(a.TableHead,{className:"text-right",children:"Price"})]})}),(0,t.jsx)(a.TableBody,{className:"font-medium truncate",children:e.map(e=>(0,t.jsxs)(a.TableRow,{children:[(0,t.jsx)(a.TableCell,{children:(0,t.jsx)(c.Input,{defaultChecked:!!u.find(t=>t.productId===e.default_price?.id),onChange:()=>y(e),type:"checkbox",className:"w-4 h-4"})}),(0,t.jsx)(a.TableCell,{children:e.images?.[0]?(0,t.jsx)(i.default,{alt:"Product image",height:60,width:60,src:e.images[0],className:"rounded-md border bg-muted/20 object-cover"}):(0,t.jsx)("div",{className:"flex h-[60px] w-[60px] items-center justify-center rounded-md border bg-muted/20",children:(0,t.jsx)(l.default,{className:"h-5 w-5 text-muted-foreground"})})}),(0,t.jsx)(a.TableCell,{children:e.name}),(0,t.jsx)(a.TableCell,{children:e.default_price?.recurring?"Recurring":"One Time"}),(0,t.jsxs)(a.TableCell,{className:"text-right",children:["$",e.default_price?.unit_amount/100]})]},e.id))})]}),(0,t.jsx)(d.Button,{disabled:m,onClick:g,className:"mt-4",children:"Save Products"})]})}],722619)},423189,e=>{"use strict";var t=e.i(247167),n=e.i(843476),a=e.i(271645),i=e.i(515288),l=e.i(903133),s=e.i(653145),r=e.i(994814),o=e.i(793479),c=e.i(519455),d=e.i(888173),p=e.i(922140),x=e.i(927639),m=e.i(675321),f=e.i(579738),u=e.i(2170),h=e.i(832418),g=e.i(618566),y=e.i(422233),b=e.i(475254);let j=(0,b.default)("copy-plus",[["line",{x1:"15",x2:"15",y1:"12",y2:"18",key:"1p7wdc"}],["line",{x1:"12",x2:"18",y1:"15",y2:"15",key:"1nscbv"}],["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var v=e.i(116019);let N=({defaultData:e,funnelId:t,order:b,subaccountId:N})=>{let{toast:C}=(0,p.useToast)(),S=(0,g.useRouter)(),w=(0,s.useForm)({resolver:(0,r.zodResolver)(x.FunnelPageSchema),mode:"onChange",defaultValues:{name:e?.name||"",pathName:e?.pathName||""}});(0,a.useEffect)(()=>{e&&w.reset({name:e.name,pathName:e.pathName})},[e]);let k=async n=>{let a=w.getValues();if(0!==b&&!a.pathName)return w.setError("pathName",{message:"Pages other than the first page in the funnel require a path name example 'secondstep'."});try{let n=await (0,h.upsertFunnelPage)(N,{...a,id:e?.id||(0,y.v4)(),order:e?.order||b,pathName:a.pathName||""},t);await (0,u.saveActivityLogsNotification)({agencyId:void 0,description:`Updated a funnel page | ${n?.name}`,subaccountId:N}),C({title:"Success",description:"Saves Funnel Page Details"}),S.refresh()}catch(e){console.log(e),C({variant:"destructive",title:"Oppse!",description:"Could Save Funnel Page Details"})}};return(0,n.jsxs)(i.Card,{children:[(0,n.jsxs)(i.CardHeader,{children:[(0,n.jsx)(i.CardTitle,{children:"Funnel Page"}),(0,n.jsx)(i.CardDescription,{children:"Funnel pages are flow in the order they are created by default. You can move them around to change their order."})]}),(0,n.jsx)(i.CardContent,{children:(0,n.jsx)(l.Form,{...w,children:(0,n.jsxs)("form",{onSubmit:w.handleSubmit(k),className:"flex flex-col gap-6",children:[(0,n.jsx)(l.FormField,{disabled:w.formState.isSubmitting,control:w.control,name:"name",render:({field:e})=>(0,n.jsxs)(l.FormItem,{className:"flex-1",children:[(0,n.jsx)(l.FormLabel,{children:"Name"}),(0,n.jsx)(l.FormControl,{children:(0,n.jsx)(o.Input,{placeholder:"Name",...e})}),(0,n.jsx)(l.FormMessage,{})]})}),(0,n.jsx)(l.FormField,{disabled:w.formState.isSubmitting||0===b,control:w.control,name:"pathName",render:({field:e})=>(0,n.jsxs)(l.FormItem,{className:"flex-1",children:[(0,n.jsx)(l.FormLabel,{children:"Path Name"}),(0,n.jsx)(l.FormControl,{children:(0,n.jsx)(o.Input,{placeholder:"Path for the page",...e,value:e.value?.toLowerCase()})}),(0,n.jsx)(l.FormMessage,{})]})}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(c.Button,{className:"w-22 self-end",disabled:w.formState.isSubmitting,type:"submit",children:w.formState.isSubmitting?(0,n.jsx)(d.default,{}):"Save Page"}),e?.id&&(0,n.jsx)(c.Button,{variant:"outline",className:"w-22 self-end border-destructive text-destructive hover:bg-destructive",disabled:w.formState.isSubmitting,type:"button",onClick:async()=>{let t=await (0,m.deleteFunnelePage)(e.id);await (0,u.saveActivityLogsNotification)({agencyId:void 0,description:`Deleted a funnel page | ${t?.name}`,subaccountId:N}),S.refresh()},children:w.formState.isSubmitting?(0,n.jsx)(d.default,{}):(0,n.jsx)(v.Trash,{})}),e?.id&&(0,n.jsx)(c.Button,{variant:"outline",size:"icon",disabled:w.formState.isSubmitting,type:"button",onClick:async()=>{let n=await (0,f.getFunnels)(N),a=n.find(e=>e.id===t)?.FunnelPages.length;await (0,h.upsertFunnelPage)(N,{...e,id:(0,y.v4)(),order:a||0,visits:0,name:`${e.name} Copy`,pathName:`${e.pathName}copy`,content:e.content},t),C({title:"Success",description:"Saves Funnel Page Details"}),S.refresh()},children:w.formState.isSubmitting?(0,n.jsx)(d.default,{}):(0,n.jsx)(j,{})})]})]})})})]})};var C=e.i(824609),S=e.i(776639),w=e.i(677572),k=e.i(487486),T=e.i(759684);let P=[{id:"ecommerce-kit",name:"E-commerce Starter Kit",description:"Complete funnel for selling products online",thumbnail:"/assets/templates/kit-ecommerce.png",pages:[{name:"Product Landing",pathName:"landing",templateId:"landing-hero"},{name:"Checkout",pathName:"checkout",templateId:"checkout-premium"},{name:"Thank You",pathName:"thank-you",templateId:"thankyou-nextsteps"}]},{id:"saas-kit",name:"SaaS Starter Kit",description:"Complete funnel for SaaS products with pricing",thumbnail:"/assets/templates/kit-saas.png",pages:[{name:"Landing Page",pathName:"landing",templateId:"landing-hero"},{name:"Pricing",pathName:"pricing",templateId:"pricing-tiers"},{name:"Checkout",pathName:"checkout",templateId:"checkout-simple"},{name:"Thank You",pathName:"thank-you",templateId:"thankyou-basic"}]},{id:"leadgen-kit",name:"Lead Generation Kit",description:"Simple funnel for collecting leads",thumbnail:"/assets/templates/kit-leadgen.png",pages:[{name:"Landing Page",pathName:"landing",templateId:"landing-minimal"},{name:"Thank You",pathName:"thank-you",templateId:"thankyou-basic"}]}],L=[{id:"landing-hero",name:"Hero Landing Page",description:"Clean hero section with features and CTA",category:"landing",thumbnail:"/assets/templates/landing-hero.png",elements:[{id:"__body",name:"Body",type:"__body",styles:{backgroundColor:"#ffffff"},content:[{id:"hero-section",name:"Hero Section",type:"section",styles:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"80px 20px",minHeight:"500px",backgroundColor:"#0f172a"},content:[{id:"hero-container",name:"Container",type:"container",styles:{display:"flex",flexDirection:"column",alignItems:"center",maxWidth:"800px",gap:"24px",textAlign:"center"},content:[{id:"hero-headline",name:"Headline",type:"text",styles:{fontSize:"48px",fontWeight:"bold",color:"#ffffff",lineHeight:"1.2"},content:{innerText:"Build Something Amazing Today"}},{id:"hero-subheadline",name:"Subheadline",type:"text",styles:{fontSize:"20px",color:"#94a3b8",maxWidth:"600px"},content:{innerText:"Launch your product with a beautiful landing page that converts visitors into customers."}},{id:"hero-cta-container",name:"CTA Container",type:"container",styles:{display:"flex",gap:"16px",marginTop:"16px"},content:[{id:"hero-cta-primary",name:"Primary CTA",type:"link",styles:{backgroundColor:"#3b82f6",color:"#ffffff",padding:"16px 32px",borderRadius:"8px",fontWeight:"600",textDecoration:"none"},content:{href:"#",innerText:"Get Started Free"}},{id:"hero-cta-secondary",name:"Secondary CTA",type:"link",styles:{backgroundColor:"transparent",color:"#ffffff",padding:"16px 32px",borderRadius:"8px",fontWeight:"600",textDecoration:"none",border:"2px solid #475569"},content:{href:"#",innerText:"Learn More"}}]}]}]},{id:"features-section",name:"Features Section",type:"section",styles:{padding:"80px 20px",backgroundColor:"#ffffff"},content:[{id:"features-container",name:"Container",type:"container",styles:{display:"flex",flexDirection:"column",alignItems:"center",maxWidth:"1200px",margin:"0 auto"},content:[{id:"features-title",name:"Title",type:"text",styles:{fontSize:"36px",fontWeight:"bold",color:"#0f172a",marginBottom:"48px"},content:{innerText:"Everything You Need"}},{id:"features-grid",name:"3 Column",type:"3Col",styles:{display:"flex",gap:"32px",width:"100%"},content:[{id:"feature-1",name:"Feature 1",type:"container",styles:{flex:"1",padding:"24px",backgroundColor:"#f8fafc",borderRadius:"12px",textAlign:"center"},content:[{id:"feature-1-title",name:"Title",type:"text",styles:{fontSize:"20px",fontWeight:"600",color:"#0f172a",marginBottom:"12px"},content:{innerText:"Fast Performance"}},{id:"feature-1-desc",name:"Description",type:"text",styles:{fontSize:"16px",color:"#64748b"},content:{innerText:"Optimized for speed and efficiency to deliver the best experience."}}]},{id:"feature-2",name:"Feature 2",type:"container",styles:{flex:"1",padding:"24px",backgroundColor:"#f8fafc",borderRadius:"12px",textAlign:"center"},content:[{id:"feature-2-title",name:"Title",type:"text",styles:{fontSize:"20px",fontWeight:"600",color:"#0f172a",marginBottom:"12px"},content:{innerText:"Easy to Use"}},{id:"feature-2-desc",name:"Description",type:"text",styles:{fontSize:"16px",color:"#64748b"},content:{innerText:"Intuitive interface that anyone can master in minutes."}}]},{id:"feature-3",name:"Feature 3",type:"container",styles:{flex:"1",padding:"24px",backgroundColor:"#f8fafc",borderRadius:"12px",textAlign:"center"},content:[{id:"feature-3-title",name:"Title",type:"text",styles:{fontSize:"20px",fontWeight:"600",color:"#0f172a",marginBottom:"12px"},content:{innerText:"24/7 Support"}},{id:"feature-3-desc",name:"Description",type:"text",styles:{fontSize:"16px",color:"#64748b"},content:{innerText:"Our team is always here to help you succeed."}}]}]}]}]},{id:"cta-section",name:"CTA Section",type:"section",styles:{padding:"80px 20px",backgroundColor:"#3b82f6",textAlign:"center"},content:[{id:"cta-container",name:"Container",type:"container",styles:{display:"flex",flexDirection:"column",alignItems:"center",gap:"24px"},content:[{id:"cta-title",name:"Title",type:"text",styles:{fontSize:"36px",fontWeight:"bold",color:"#ffffff"},content:{innerText:"Ready to Get Started?"}},{id:"cta-subtitle",name:"Subtitle",type:"text",styles:{fontSize:"18px",color:"#e0f2fe"},content:{innerText:"Join thousands of satisfied customers today."}},{id:"cta-button",name:"CTA Button",type:"link",styles:{backgroundColor:"#ffffff",color:"#3b82f6",padding:"16px 48px",borderRadius:"8px",fontWeight:"600",textDecoration:"none",fontSize:"18px"},content:{href:"#",innerText:"Start Free Trial"}}]}]}]}]},{id:"landing-minimal",name:"Minimal Landing",description:"Clean and minimal landing page with focus on conversion",category:"landing",thumbnail:"/assets/templates/landing-minimal.png",elements:[{id:"__body",name:"Body",type:"__body",styles:{backgroundColor:"#ffffff"},content:[{id:"minimal-hero",name:"Hero Section",type:"section",styles:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",padding:"40px 20px",textAlign:"center"},content:[{id:"minimal-container",name:"Container",type:"container",styles:{display:"flex",flexDirection:"column",alignItems:"center",maxWidth:"640px",gap:"32px"},content:[{id:"minimal-headline",name:"Headline",type:"text",styles:{fontSize:"56px",fontWeight:"bold",color:"#0f172a",lineHeight:"1.1"},content:{innerText:"Simple. Powerful. Effective."}},{id:"minimal-subheadline",name:"Subheadline",type:"text",styles:{fontSize:"20px",color:"#64748b",lineHeight:"1.6"},content:{innerText:"Everything you need to grow your business, nothing you don't."}},{id:"minimal-cta",name:"CTA",type:"link",styles:{backgroundColor:"#0f172a",color:"#ffffff",padding:"18px 48px",borderRadius:"100px",fontWeight:"600",textDecoration:"none",fontSize:"16px"},content:{href:"#",innerText:"Get Started â†’"}}]}]}]}]},{id:"checkout-simple",name:"Simple Checkout",description:"Clean checkout page with payment form",category:"checkout",thumbnail:"/assets/templates/checkout-simple.png",elements:[{id:"__body",name:"Body",type:"__body",styles:{backgroundColor:"#f8fafc"},content:[{id:"checkout-section",name:"Checkout Section",type:"section",styles:{display:"flex",justifyContent:"center",alignItems:"flex-start",minHeight:"100vh",padding:"60px 20px"},content:[{id:"checkout-container",name:"Container",type:"container",styles:{display:"flex",flexDirection:"column",maxWidth:"500px",width:"100%",gap:"32px"},content:[{id:"checkout-header",name:"Header",type:"container",styles:{textAlign:"center"},content:[{id:"checkout-title",name:"Title",type:"text",styles:{fontSize:"32px",fontWeight:"bold",color:"#0f172a",marginBottom:"8px"},content:{innerText:"Complete Your Purchase"}},{id:"checkout-subtitle",name:"Subtitle",type:"text",styles:{fontSize:"16px",color:"#64748b"},content:{innerText:"Secure checkout powered by Stripe"}}]},{id:"checkout-form-container",name:"Form Container",type:"container",styles:{backgroundColor:"#ffffff",padding:"32px",borderRadius:"16px",boxShadow:"0 4px 6px -1px rgba(0,0,0,0.1)"},content:[{id:"payment-form",name:"Payment Form",type:"paymentForm",styles:{},content:[]}]},{id:"checkout-trust",name:"Trust Badges",type:"container",styles:{display:"flex",justifyContent:"center",gap:"24px",marginTop:"16px"},content:[{id:"trust-text-1",name:"Secure",type:"text",styles:{fontSize:"14px",color:"#64748b"},content:{innerText:"ðŸ”’ Secure Payment"}},{id:"trust-text-2",name:"Guarantee",type:"text",styles:{fontSize:"14px",color:"#64748b"},content:{innerText:"âœ“ Money-back Guarantee"}}]}]}]}]}]},{id:"checkout-premium",name:"Premium Checkout",description:"Two-column checkout with product showcase",category:"checkout",thumbnail:"/assets/templates/checkout-premium.png",elements:[{id:"__body",name:"Body",type:"__body",styles:{backgroundColor:"#ffffff"},content:[{id:"checkout-premium-section",name:"Checkout Section",type:"section",styles:{display:"flex",minHeight:"100vh"},content:[{id:"checkout-2col",name:"2 Column Layout",type:"2Col",styles:{display:"flex",width:"100%",minHeight:"100vh"},content:[{id:"product-side",name:"Product Side",type:"container",styles:{flex:"1",backgroundColor:"#0f172a",padding:"60px 40px",display:"flex",flexDirection:"column",justifyContent:"center"},content:[{id:"product-content",name:"Product Content",type:"container",styles:{maxWidth:"400px",margin:"0 auto"},content:[{id:"product-title",name:"Title",type:"text",styles:{fontSize:"36px",fontWeight:"bold",color:"#ffffff",marginBottom:"16px"},content:{innerText:"Premium Plan"}},{id:"product-price",name:"Price",type:"text",styles:{fontSize:"48px",fontWeight:"bold",color:"#3b82f6",marginBottom:"24px"},content:{innerText:"$99/month"}},{id:"product-features",name:"Features Container",type:"container",styles:{display:"flex",flexDirection:"column",gap:"12px"},content:[{id:"feature-item-1",name:"Feature 1",type:"text",styles:{fontSize:"16px",color:"#94a3b8"},content:{innerText:"âœ“ Unlimited projects"}},{id:"feature-item-2",name:"Feature 2",type:"text",styles:{fontSize:"16px",color:"#94a3b8"},content:{innerText:"âœ“ Priority support"}},{id:"feature-item-3",name:"Feature 3",type:"text",styles:{fontSize:"16px",color:"#94a3b8"},content:{innerText:"âœ“ Advanced analytics"}},{id:"feature-item-4",name:"Feature 4",type:"text",styles:{fontSize:"16px",color:"#94a3b8"},content:{innerText:"âœ“ Custom integrations"}}]}]}]},{id:"payment-side",name:"Payment Side",type:"container",styles:{flex:"1",backgroundColor:"#ffffff",padding:"60px 40px",display:"flex",flexDirection:"column",justifyContent:"center"},content:[{id:"payment-content",name:"Payment Content",type:"container",styles:{maxWidth:"400px",margin:"0 auto",width:"100%"},content:[{id:"payment-header",name:"Header",type:"text",styles:{fontSize:"24px",fontWeight:"bold",color:"#0f172a",marginBottom:"32px"},content:{innerText:"Payment Details"}},{id:"payment-form-premium",name:"Payment Form",type:"paymentForm",styles:{},content:[]}]}]}]}]}]}]},{id:"thankyou-basic",name:"Basic Thank You",description:"Simple confirmation page with next steps",category:"thankyou",thumbnail:"/assets/templates/thankyou-basic.png",elements:[{id:"__body",name:"Body",type:"__body",styles:{backgroundColor:"#ffffff"},content:[{id:"thankyou-section",name:"Thank You Section",type:"section",styles:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",padding:"40px 20px",textAlign:"center"},content:[{id:"thankyou-container",name:"Container",type:"container",styles:{display:"flex",flexDirection:"column",alignItems:"center",maxWidth:"600px",gap:"24px"},content:[{id:"thankyou-icon",name:"Success Icon",type:"text",styles:{fontSize:"80px",marginBottom:"16px"},content:{innerText:"âœ“"}},{id:"thankyou-title",name:"Title",type:"text",styles:{fontSize:"42px",fontWeight:"bold",color:"#0f172a"},content:{innerText:"Thank You!"}},{id:"thankyou-message",name:"Message",type:"text",styles:{fontSize:"18px",color:"#64748b",lineHeight:"1.6"},content:{innerText:"Your purchase was successful. We've sent a confirmation email with all the details."}},{id:"thankyou-cta",name:"CTA Button",type:"link",styles:{backgroundColor:"#3b82f6",color:"#ffffff",padding:"16px 32px",borderRadius:"8px",fontWeight:"600",textDecoration:"none",marginTop:"16px"},content:{href:"#",innerText:"Go to Dashboard"}}]}]}]}]},{id:"thankyou-nextsteps",name:"Thank You with Next Steps",description:"Confirmation page with guided next steps",category:"thankyou",thumbnail:"/assets/templates/thankyou-nextsteps.png",elements:[{id:"__body",name:"Body",type:"__body",styles:{backgroundColor:"#f8fafc"},content:[{id:"thankyou-full-section",name:"Thank You Section",type:"section",styles:{padding:"80px 20px",minHeight:"100vh"},content:[{id:"thankyou-content",name:"Content Container",type:"container",styles:{maxWidth:"800px",margin:"0 auto"},content:[{id:"thankyou-header-container",name:"Header",type:"container",styles:{textAlign:"center",marginBottom:"48px"},content:[{id:"success-badge",name:"Success Badge",type:"container",styles:{display:"inline-flex",backgroundColor:"#dcfce7",color:"#16a34a",padding:"8px 16px",borderRadius:"100px",marginBottom:"24px",fontWeight:"600"},content:[{id:"badge-text",name:"Badge Text",type:"text",styles:{fontSize:"14px"},content:{innerText:"âœ“ Payment Successful"}}]},{id:"main-title",name:"Title",type:"text",styles:{fontSize:"36px",fontWeight:"bold",color:"#0f172a",marginBottom:"16px"},content:{innerText:"Welcome to the Team!"}},{id:"main-subtitle",name:"Subtitle",type:"text",styles:{fontSize:"18px",color:"#64748b"},content:{innerText:"Here's what to do next to get started"}}]},{id:"steps-container",name:"Steps Container",type:"container",styles:{display:"flex",flexDirection:"column",gap:"24px"},content:[{id:"step-1",name:"Step 1",type:"container",styles:{display:"flex",gap:"20px",backgroundColor:"#ffffff",padding:"24px",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},content:[{id:"step-1-number",name:"Number",type:"text",styles:{width:"40px",height:"40px",backgroundColor:"#3b82f6",color:"#ffffff",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",flexShrink:"0"},content:{innerText:"1"}},{id:"step-1-content",name:"Content",type:"container",styles:{flex:"1"},content:[{id:"step-1-title",name:"Title",type:"text",styles:{fontSize:"18px",fontWeight:"600",color:"#0f172a",marginBottom:"4px"},content:{innerText:"Check Your Email"}},{id:"step-1-desc",name:"Description",type:"text",styles:{fontSize:"16px",color:"#64748b"},content:{innerText:"We've sent you a welcome email with your login credentials."}}]}]},{id:"step-2",name:"Step 2",type:"container",styles:{display:"flex",gap:"20px",backgroundColor:"#ffffff",padding:"24px",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},content:[{id:"step-2-number",name:"Number",type:"text",styles:{width:"40px",height:"40px",backgroundColor:"#3b82f6",color:"#ffffff",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",flexShrink:"0"},content:{innerText:"2"}},{id:"step-2-content",name:"Content",type:"container",styles:{flex:"1"},content:[{id:"step-2-title",name:"Title",type:"text",styles:{fontSize:"18px",fontWeight:"600",color:"#0f172a",marginBottom:"4px"},content:{innerText:"Complete Your Profile"}},{id:"step-2-desc",name:"Description",type:"text",styles:{fontSize:"16px",color:"#64748b"},content:{innerText:"Add your information to personalize your experience."}}]}]},{id:"step-3",name:"Step 3",type:"container",styles:{display:"flex",gap:"20px",backgroundColor:"#ffffff",padding:"24px",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},content:[{id:"step-3-number",name:"Number",type:"text",styles:{width:"40px",height:"40px",backgroundColor:"#3b82f6",color:"#ffffff",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",flexShrink:"0"},content:{innerText:"3"}},{id:"step-3-content",name:"Content",type:"container",styles:{flex:"1"},content:[{id:"step-3-title",name:"Title",type:"text",styles:{fontSize:"18px",fontWeight:"600",color:"#0f172a",marginBottom:"4px"},content:{innerText:"Start Creating"}},{id:"step-3-desc",name:"Description",type:"text",styles:{fontSize:"16px",color:"#64748b"},content:{innerText:"Dive in and start building your first project."}}]}]}]},{id:"dashboard-cta",name:"Dashboard CTA",type:"container",styles:{textAlign:"center",marginTop:"48px"},content:[{id:"dashboard-link",name:"Dashboard Link",type:"link",styles:{backgroundColor:"#0f172a",color:"#ffffff",padding:"18px 48px",borderRadius:"8px",fontWeight:"600",textDecoration:"none",fontSize:"16px",display:"inline-block"},content:{href:"#",innerText:"Go to Dashboard â†’"}}]}]}]}]}]},{id:"pricing-tiers",name:"Pricing Tiers",description:"Three-tier pricing page with comparison",category:"pricing",thumbnail:"/assets/templates/pricing-tiers.png",elements:[{id:"__body",name:"Body",type:"__body",styles:{backgroundColor:"#ffffff"},content:[{id:"pricing-section",name:"Pricing Section",type:"section",styles:{padding:"80px 20px",minHeight:"100vh"},content:[{id:"pricing-container",name:"Container",type:"container",styles:{maxWidth:"1200px",margin:"0 auto"},content:[{id:"pricing-header",name:"Header",type:"container",styles:{textAlign:"center",marginBottom:"64px"},content:[{id:"pricing-title",name:"Title",type:"text",styles:{fontSize:"42px",fontWeight:"bold",color:"#0f172a",marginBottom:"16px"},content:{innerText:"Simple, Transparent Pricing"}},{id:"pricing-subtitle",name:"Subtitle",type:"text",styles:{fontSize:"18px",color:"#64748b"},content:{innerText:"Choose the plan that works best for you"}}]},{id:"pricing-grid",name:"3 Column",type:"3Col",styles:{display:"flex",gap:"24px",alignItems:"stretch"},content:[{id:"tier-basic",name:"Basic Tier",type:"container",styles:{flex:"1",backgroundColor:"#f8fafc",borderRadius:"16px",padding:"32px",display:"flex",flexDirection:"column"},content:[{id:"basic-name",name:"Name",type:"text",styles:{fontSize:"20px",fontWeight:"600",color:"#64748b",marginBottom:"16px"},content:{innerText:"Basic"}},{id:"basic-price",name:"Price",type:"text",styles:{fontSize:"48px",fontWeight:"bold",color:"#0f172a",marginBottom:"8px"},content:{innerText:"$9"}},{id:"basic-period",name:"Period",type:"text",styles:{fontSize:"16px",color:"#64748b",marginBottom:"24px"},content:{innerText:"per month"}},{id:"basic-features",name:"Features",type:"container",styles:{display:"flex",flexDirection:"column",gap:"12px",marginBottom:"32px",flex:"1"},content:[{id:"basic-f1",name:"Feature",type:"text",styles:{fontSize:"15px",color:"#475569"},content:{innerText:"âœ“ 3 projects"}},{id:"basic-f2",name:"Feature",type:"text",styles:{fontSize:"15px",color:"#475569"},content:{innerText:"âœ“ Basic analytics"}},{id:"basic-f3",name:"Feature",type:"text",styles:{fontSize:"15px",color:"#475569"},content:{innerText:"âœ“ Email support"}}]},{id:"basic-cta",name:"CTA",type:"link",styles:{backgroundColor:"#e2e8f0",color:"#0f172a",padding:"14px 24px",borderRadius:"8px",fontWeight:"600",textDecoration:"none",textAlign:"center"},content:{href:"#",innerText:"Get Started"}}]},{id:"tier-pro",name:"Pro Tier",type:"container",styles:{flex:"1",backgroundColor:"#0f172a",borderRadius:"16px",padding:"32px",display:"flex",flexDirection:"column",transform:"scale(1.05)"},content:[{id:"pro-badge",name:"Badge",type:"text",styles:{fontSize:"12px",fontWeight:"600",color:"#3b82f6",marginBottom:"8px",textTransform:"uppercase",letterSpacing:"1px"},content:{innerText:"Most Popular"}},{id:"pro-name",name:"Name",type:"text",styles:{fontSize:"20px",fontWeight:"600",color:"#94a3b8",marginBottom:"16px"},content:{innerText:"Professional"}},{id:"pro-price",name:"Price",type:"text",styles:{fontSize:"48px",fontWeight:"bold",color:"#ffffff",marginBottom:"8px"},content:{innerText:"$29"}},{id:"pro-period",name:"Period",type:"text",styles:{fontSize:"16px",color:"#94a3b8",marginBottom:"24px"},content:{innerText:"per month"}},{id:"pro-features",name:"Features",type:"container",styles:{display:"flex",flexDirection:"column",gap:"12px",marginBottom:"32px",flex:"1"},content:[{id:"pro-f1",name:"Feature",type:"text",styles:{fontSize:"15px",color:"#cbd5e1"},content:{innerText:"âœ“ Unlimited projects"}},{id:"pro-f2",name:"Feature",type:"text",styles:{fontSize:"15px",color:"#cbd5e1"},content:{innerText:"âœ“ Advanced analytics"}},{id:"pro-f3",name:"Feature",type:"text",styles:{fontSize:"15px",color:"#cbd5e1"},content:{innerText:"âœ“ Priority support"}},{id:"pro-f4",name:"Feature",type:"text",styles:{fontSize:"15px",color:"#cbd5e1"},content:{innerText:"âœ“ Custom domain"}}]},{id:"pro-cta",name:"CTA",type:"link",styles:{backgroundColor:"#3b82f6",color:"#ffffff",padding:"14px 24px",borderRadius:"8px",fontWeight:"600",textDecoration:"none",textAlign:"center"},content:{href:"#",innerText:"Get Started"}}]},{id:"tier-enterprise",name:"Enterprise Tier",type:"container",styles:{flex:"1",backgroundColor:"#f8fafc",borderRadius:"16px",padding:"32px",display:"flex",flexDirection:"column"},content:[{id:"enterprise-name",name:"Name",type:"text",styles:{fontSize:"20px",fontWeight:"600",color:"#64748b",marginBottom:"16px"},content:{innerText:"Enterprise"}},{id:"enterprise-price",name:"Price",type:"text",styles:{fontSize:"48px",fontWeight:"bold",color:"#0f172a",marginBottom:"8px"},content:{innerText:"$99"}},{id:"enterprise-period",name:"Period",type:"text",styles:{fontSize:"16px",color:"#64748b",marginBottom:"24px"},content:{innerText:"per month"}},{id:"enterprise-features",name:"Features",type:"container",styles:{display:"flex",flexDirection:"column",gap:"12px",marginBottom:"32px",flex:"1"},content:[{id:"ent-f1",name:"Feature",type:"text",styles:{fontSize:"15px",color:"#475569"},content:{innerText:"âœ“ Everything in Pro"}},{id:"ent-f2",name:"Feature",type:"text",styles:{fontSize:"15px",color:"#475569"},content:{innerText:"âœ“ SSO & SAML"}},{id:"ent-f3",name:"Feature",type:"text",styles:{fontSize:"15px",color:"#475569"},content:{innerText:"âœ“ Dedicated support"}},{id:"ent-f4",name:"Feature",type:"text",styles:{fontSize:"15px",color:"#475569"},content:{innerText:"âœ“ SLA guarantee"}}]},{id:"enterprise-cta",name:"CTA",type:"link",styles:{backgroundColor:"#e2e8f0",color:"#0f172a",padding:"14px 24px",borderRadius:"8px",fontWeight:"600",textDecoration:"none",textAlign:"center"},content:{href:"#",innerText:"Contact Sales"}}]}]}]}]}]}]}];function z(e){return L.find(t=>t.id===e)}function M(e){let t=z(e);return t?function e(t){return t.map(t=>{let n="__body"===t.id?"__body":(0,y.v4)();return Array.isArray(t.content)?{...t,id:n,content:e(t.content)}:{...t,id:n}})}(t.elements):null}let F=[{value:"landing",label:"Landing Pages",description:"Hero sections with CTAs"},{value:"checkout",label:"Checkout Pages",description:"Payment form layouts"},{value:"thankyou",label:"Thank You Pages",description:"Post-purchase confirmation"},{value:"pricing",label:"Pricing Pages",description:"Pricing tier layouts"}];var B=e.i(178583);let D=(0,b.default)("layout-template",[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]]);var R=e.i(852008),I=e.i(643531),A=e.i(488844),W=e.i(975157);let _=({isOpen:e,onClose:t,onSelectBlank:l,onSelectTemplate:s,onSelectStarterKit:r})=>{let[o,d]=(0,a.useState)("all"),[p,x]=(0,a.useState)(null),[m,f]=(0,a.useState)(null),[u,h]=(0,a.useState)("blank"),g="all"===o?L:L.filter(e=>e.category===o),y="blank"===u||"templates"===u&&p||"kits"===u&&m;return(0,n.jsx)(S.Dialog,{open:e,onOpenChange:t,children:(0,n.jsxs)(S.DialogContent,{className:"max-w-4xl h-[80vh] flex flex-col p-0",children:[(0,n.jsxs)(S.DialogHeader,{className:"px-6 pt-6 pb-0",children:[(0,n.jsx)(S.DialogTitle,{className:"text-xl",children:"Create New Funnel Page"}),(0,n.jsx)(S.DialogDescription,{children:"Start from scratch or choose a template to get started quickly"})]}),(0,n.jsxs)(w.Tabs,{value:u,onValueChange:e=>h(e),className:"flex-1 flex flex-col overflow-hidden",children:[(0,n.jsxs)(w.TabsList,{className:"mx-6 mt-4 h-11 grid grid-cols-3 w-fit",children:[(0,n.jsxs)(w.TabsTrigger,{value:"blank",className:"gap-2 px-4",children:[(0,n.jsx)(B.FileText,{className:"h-4 w-4"}),"Blank"]}),(0,n.jsxs)(w.TabsTrigger,{value:"templates",className:"gap-2 px-4",children:[(0,n.jsx)(D,{className:"h-4 w-4"}),"Templates"]}),(0,n.jsxs)(w.TabsTrigger,{value:"kits",className:"gap-2 px-4",children:[(0,n.jsx)(A.Package,{className:"h-4 w-4"}),"Starter Kits"]})]}),(0,n.jsx)(w.TabsContent,{value:"blank",className:"flex-1 px-6 py-4",children:(0,n.jsx)(i.Card,{className:(0,W.cn)("cursor-pointer transition-all hover:border-primary/50","blank"===u&&"border-primary ring-1 ring-primary"),onClick:()=>h("blank"),children:(0,n.jsx)(i.CardHeader,{children:(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)("div",{className:"w-16 h-16 rounded-lg bg-muted flex items-center justify-center",children:(0,n.jsx)(B.FileText,{className:"h-8 w-8 text-muted-foreground"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)(i.CardTitle,{className:"text-lg",children:"Blank Page"}),(0,n.jsx)(i.CardDescription,{children:"Start with an empty canvas and build from scratch"})]}),(0,n.jsx)("div",{className:"ml-auto",children:(0,n.jsx)(I.Check,{className:"h-5 w-5 text-primary"})})]})})})}),(0,n.jsxs)(w.TabsContent,{value:"templates",className:"flex-1 flex flex-col overflow-hidden px-6 py-4",children:[(0,n.jsxs)("div",{className:"flex gap-2 mb-4 flex-wrap",children:[(0,n.jsx)(c.Button,{size:"sm",variant:"all"===o?"default":"outline",onClick:()=>d("all"),children:"All"}),F.map(e=>(0,n.jsx)(c.Button,{size:"sm",variant:o===e.value?"default":"outline",onClick:()=>d(e.value),children:e.label},e.value))]}),(0,n.jsx)(T.ScrollArea,{className:"flex-1",children:(0,n.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 pr-4",children:g.map(e=>(0,n.jsx)(H,{template:e,isSelected:p===e.id,onClick:()=>x(e.id)},e.id))})})]}),(0,n.jsxs)(w.TabsContent,{value:"kits",className:"flex-1 flex flex-col overflow-hidden px-6 py-4",children:[(0,n.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Starter kits create multiple pre-designed pages at once for a complete funnel"}),(0,n.jsx)(T.ScrollArea,{className:"flex-1",children:(0,n.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pr-4",children:P.map(e=>(0,n.jsx)(O,{kit:e,isSelected:m===e.id,onClick:()=>f(e.id)},e.id))})})]})]}),(0,n.jsxs)("div",{className:"flex justify-end gap-3 px-6 py-4 border-t bg-muted/30",children:[(0,n.jsx)(c.Button,{variant:"outline",onClick:t,children:"Cancel"}),(0,n.jsx)(c.Button,{onClick:()=>{if("blank"===u)l();else if("templates"===u&&p)s(p);else if("kits"===u&&m){let e=P.find(e=>e.id===m);e&&r(e)}t()},disabled:!y,children:"kits"===u?"Create Funnel Pages":"Create Page"})]})]})})},H=({template:e,isSelected:t,onClick:a})=>(0,n.jsxs)(i.Card,{className:(0,W.cn)("cursor-pointer transition-all hover:border-primary/50 overflow-hidden mt-2 ml-2",t&&"border-primary ring-1 ring-primary"),onClick:a,children:[(0,n.jsxs)("div",{className:"aspect-[4/3] bg-muted relative overflow-hidden",children:[(0,n.jsx)(Z,{template:e}),t&&(0,n.jsx)("div",{className:"absolute top-2 right-2 w-6 h-6 rounded-full bg-primary flex items-center justify-center",children:(0,n.jsx)(I.Check,{className:"h-4 w-4 text-primary-foreground"})})]}),(0,n.jsx)(i.CardContent,{className:"p-3",children:(0,n.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"font-medium text-sm",children:e.name}),(0,n.jsx)("p",{className:"text-xs text-muted-foreground line-clamp-1",children:e.description})]}),(0,n.jsx)(k.Badge,{variant:"secondary",className:"shrink-0 text-xs",children:e.category})]})})]});function Z({template:e}){let{category:t,id:a}=e;return"landing"===t?"landing-hero"===a?(0,n.jsxs)("div",{className:"w-full h-full flex flex-col",children:[(0,n.jsxs)("div",{className:"flex-[2] bg-slate-800 flex flex-col items-center justify-center p-3",children:[(0,n.jsx)("div",{className:"w-16 h-2 bg-white/90 rounded mb-1.5"}),(0,n.jsx)("div",{className:"w-12 h-1 bg-white/50 rounded mb-2"}),(0,n.jsxs)("div",{className:"flex gap-1",children:[(0,n.jsx)("div",{className:"w-6 h-2 bg-blue-500 rounded"}),(0,n.jsx)("div",{className:"w-6 h-2 bg-slate-600 rounded"})]})]}),(0,n.jsxs)("div",{className:"flex-1 bg-white flex items-center justify-center gap-2 p-2",children:[(0,n.jsx)("div",{className:"w-6 h-6 bg-slate-100 rounded"}),(0,n.jsx)("div",{className:"w-6 h-6 bg-slate-100 rounded"}),(0,n.jsx)("div",{className:"w-6 h-6 bg-slate-100 rounded"})]}),(0,n.jsx)("div",{className:"h-6 bg-blue-500 flex items-center justify-center",children:(0,n.jsx)("div",{className:"w-8 h-1.5 bg-white rounded"})})]}):(0,n.jsxs)("div",{className:"w-full h-full bg-white flex flex-col items-center justify-center p-4",children:[(0,n.jsx)("div",{className:"w-20 h-2.5 bg-slate-800 rounded mb-2"}),(0,n.jsx)("div",{className:"w-14 h-1 bg-slate-400 rounded mb-3"}),(0,n.jsx)("div",{className:"w-10 h-2.5 bg-slate-800 rounded-full"})]}):"checkout"===t?"checkout-premium"===a?(0,n.jsxs)("div",{className:"w-full h-full flex",children:[(0,n.jsxs)("div",{className:"flex-1 bg-slate-800 flex flex-col items-center justify-center p-2",children:[(0,n.jsx)("div",{className:"w-10 h-1.5 bg-white rounded mb-1"}),(0,n.jsx)("div",{className:"w-8 h-2 bg-blue-500 rounded mb-2"}),(0,n.jsxs)("div",{className:"space-y-1",children:[(0,n.jsx)("div",{className:"w-12 h-0.5 bg-slate-600 rounded"}),(0,n.jsx)("div",{className:"w-12 h-0.5 bg-slate-600 rounded"}),(0,n.jsx)("div",{className:"w-12 h-0.5 bg-slate-600 rounded"})]})]}),(0,n.jsxs)("div",{className:"flex-1 bg-white flex flex-col items-center justify-center p-2",children:[(0,n.jsx)("div",{className:"w-10 h-1 bg-slate-800 rounded mb-2"}),(0,n.jsx)("div",{className:"w-12 h-6 border border-slate-200 rounded mb-2"}),(0,n.jsx)("div",{className:"w-10 h-2 bg-blue-500 rounded"})]})]}):(0,n.jsxs)("div",{className:"w-full h-full bg-slate-100 flex flex-col items-center justify-center p-3",children:[(0,n.jsx)("div",{className:"w-14 h-1.5 bg-slate-800 rounded mb-1"}),(0,n.jsx)("div",{className:"w-10 h-1 bg-slate-400 rounded mb-2"}),(0,n.jsx)("div",{className:"w-16 h-10 bg-white rounded-lg shadow-sm mb-2 flex items-center justify-center",children:(0,n.jsx)("div",{className:"w-10 h-5 border border-slate-200 rounded"})}),(0,n.jsxs)("div",{className:"flex gap-2 mt-1",children:[(0,n.jsx)("div",{className:"w-4 h-1 bg-slate-400 rounded"}),(0,n.jsx)("div",{className:"w-4 h-1 bg-slate-400 rounded"})]})]}):"thankyou"===t?"thankyou-nextsteps"===a?(0,n.jsxs)("div",{className:"w-full h-full bg-slate-100 flex flex-col p-3",children:[(0,n.jsxs)("div",{className:"text-center mb-2",children:[(0,n.jsx)("div",{className:"w-6 h-1.5 bg-green-500 rounded mx-auto mb-1"}),(0,n.jsx)("div",{className:"w-12 h-1.5 bg-slate-800 rounded mx-auto"})]}),(0,n.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,n.jsxs)("div",{className:"flex gap-1 items-center bg-white rounded p-1",children:[(0,n.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,n.jsx)("div",{className:"w-10 h-1 bg-slate-300 rounded"})]}),(0,n.jsxs)("div",{className:"flex gap-1 items-center bg-white rounded p-1",children:[(0,n.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,n.jsx)("div",{className:"w-10 h-1 bg-slate-300 rounded"})]}),(0,n.jsxs)("div",{className:"flex gap-1 items-center bg-white rounded p-1",children:[(0,n.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,n.jsx)("div",{className:"w-10 h-1 bg-slate-300 rounded"})]})]})]}):(0,n.jsxs)("div",{className:"w-full h-full bg-white flex flex-col items-center justify-center p-4",children:[(0,n.jsx)("div",{className:"w-6 h-6 rounded-full border-2 border-green-500 flex items-center justify-center mb-2",children:(0,n.jsx)(I.Check,{className:"w-3 h-3 text-green-500"})}),(0,n.jsx)("div",{className:"w-10 h-2 bg-slate-800 rounded mb-1"}),(0,n.jsx)("div",{className:"w-14 h-1 bg-slate-400 rounded mb-2"}),(0,n.jsx)("div",{className:"w-8 h-2 bg-blue-500 rounded"})]}):"pricing"===t?(0,n.jsxs)("div",{className:"w-full h-full bg-white flex flex-col p-3",children:[(0,n.jsx)("div",{className:"text-center mb-2",children:(0,n.jsx)("div",{className:"w-14 h-1.5 bg-slate-800 rounded mx-auto"})}),(0,n.jsxs)("div",{className:"flex-1 flex gap-1 items-stretch",children:[(0,n.jsxs)("div",{className:"flex-1 bg-slate-100 rounded p-1 flex flex-col items-center",children:[(0,n.jsx)("div",{className:"w-4 h-1 bg-slate-400 rounded mb-1"}),(0,n.jsx)("div",{className:"w-5 h-1.5 bg-slate-800 rounded mb-1"}),(0,n.jsx)("div",{className:"flex-1"}),(0,n.jsx)("div",{className:"w-6 h-1.5 bg-slate-300 rounded"})]}),(0,n.jsxs)("div",{className:"flex-1 bg-slate-800 rounded p-1 flex flex-col items-center scale-105",children:[(0,n.jsx)("div",{className:"w-4 h-0.5 bg-blue-500 rounded mb-0.5"}),(0,n.jsx)("div",{className:"w-4 h-1 bg-slate-400 rounded mb-1"}),(0,n.jsx)("div",{className:"w-5 h-1.5 bg-white rounded mb-1"}),(0,n.jsx)("div",{className:"flex-1"}),(0,n.jsx)("div",{className:"w-6 h-1.5 bg-blue-500 rounded"})]}),(0,n.jsxs)("div",{className:"flex-1 bg-slate-100 rounded p-1 flex flex-col items-center",children:[(0,n.jsx)("div",{className:"w-4 h-1 bg-slate-400 rounded mb-1"}),(0,n.jsx)("div",{className:"w-5 h-1.5 bg-slate-800 rounded mb-1"}),(0,n.jsx)("div",{className:"flex-1"}),(0,n.jsx)("div",{className:"w-6 h-1.5 bg-slate-300 rounded"})]})]})]}):(0,n.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,n.jsx)(R.Layers,{className:"h-8 w-8 text-muted-foreground/50"})})}let O=({kit:e,isSelected:t,onClick:a})=>(0,n.jsxs)(i.Card,{className:(0,W.cn)("cursor-pointer transition-all hover:border-primary/50 mt-2 ml-2",t&&"border-primary ring-1 ring-primary"),onClick:a,children:[(0,n.jsx)(i.CardHeader,{className:"pb-3",children:(0,n.jsxs)("div",{className:"flex items-start gap-3",children:[(0,n.jsx)("div",{className:"w-12 h-12 rounded-lg bg-muted flex items-center justify-center shrink-0",children:(0,n.jsx)(A.Package,{className:"h-6 w-6 text-muted-foreground"})}),(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)(i.CardTitle,{className:"text-base",children:e.name}),t&&(0,n.jsx)(I.Check,{className:"h-5 w-5 text-primary shrink-0"})]}),(0,n.jsx)(i.CardDescription,{className:"text-sm",children:e.description})]})]})}),(0,n.jsx)(i.CardContent,{className:"pt-0",children:(0,n.jsx)("div",{className:"flex flex-wrap gap-2",children:e.pages.map((e,t)=>(0,n.jsx)(k.Badge,{variant:"outline",className:"text-xs",children:e.name},t))})})]});var E=e.i(868499),$=e.i(86896),Y=e.i(778917),U=e.i(823429),U=U,G=e.i(487064),K=e.i(522016);let q=()=>(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",zoomAndPan:"magnify",viewBox:"0 0 1440 809.999993",height:"100%",preserveAspectRatio:"xMidYMid meet",version:"1.0",children:[(0,n.jsxs)("defs",{children:[(0,n.jsx)("clipPath",{id:"f19aabff22",children:(0,n.jsx)("path",{d:"M 24.410156 237.574219 L 267.410156 237.574219 L 267.410156 786.273438 L 24.410156 786.273438 Z M 24.410156 237.574219 ",clipRule:"nonzero"})}),(0,n.jsx)("clipPath",{id:"774fba0edd",children:(0,n.jsx)("path",{d:"M 24.40625 17.925781 L 1418.949219 17.925781 L 1418.949219 211.273438 L 24.40625 211.273438 Z M 24.40625 17.925781 ",clipRule:"nonzero"})}),(0,n.jsx)("clipPath",{id:"c14bc46e9b",children:(0,n.jsx)("path",{d:"M 951.316406 237.574219 L 1418.953125 237.574219 L 1418.953125 447.5625 L 951.316406 447.5625 Z M 951.316406 237.574219 ",clipRule:"nonzero"})}),(0,n.jsx)("clipPath",{id:"fc27728001",children:(0,n.jsx)("path",{d:"M 951.316406 473.8125 L 1418.953125 473.8125 L 1418.953125 511.925781 L 951.316406 511.925781 Z M 951.316406 473.8125 ",clipRule:"nonzero"})}),(0,n.jsx)("clipPath",{id:"51fb5d13a0",children:(0,n.jsx)("path",{d:"M 951.316406 528.871094 L 1263.949219 528.871094 L 1263.949219 554.0625 L 951.316406 554.0625 Z M 951.316406 528.871094 ",clipRule:"nonzero"})}),(0,n.jsx)("clipPath",{id:"ee285f2161",children:(0,n.jsx)("path",{d:"M 951.316406 571.3125 L 1263.949219 571.3125 L 1263.949219 596.507812 L 951.316406 596.507812 Z M 951.316406 571.3125 ",clipRule:"nonzero"})}),(0,n.jsx)("clipPath",{id:"f0ea2710d2",children:(0,n.jsx)("path",{d:"M 300.710938 237.574219 L 917.667969 237.574219 L 917.667969 596.507812 L 300.710938 596.507812 Z M 300.710938 237.574219 ",clipRule:"nonzero"})}),(0,n.jsx)("clipPath",{id:"47018aba58",children:(0,n.jsx)("path",{d:"M 320.597656 256.882812 L 468.714844 256.882812 L 468.714844 405 L 320.597656 405 Z M 320.597656 256.882812 ",clipRule:"nonzero"})}),(0,n.jsx)("clipPath",{id:"a9cfaa9a53",children:(0,n.jsx)("path",{d:"M 394.65625 256.882812 C 353.753906 256.882812 320.597656 290.039062 320.597656 330.941406 C 320.597656 371.84375 353.753906 405 394.65625 405 C 435.558594 405 468.714844 371.84375 468.714844 330.941406 C 468.714844 290.039062 435.558594 256.882812 394.65625 256.882812 Z M 394.65625 256.882812 ",clipRule:"nonzero"})}),(0,n.jsx)("clipPath",{id:"08a9aa736e",children:(0,n.jsx)("path",{d:"M 369.988281 358.6875 L 848.375 358.6875 L 848.375 571.3125 L 369.988281 571.3125 Z M 369.988281 358.6875 ",clipRule:"nonzero"})}),(0,n.jsx)("clipPath",{id:"f7b7fea623",children:(0,n.jsx)("path",{d:"M 609.183594 358.6875 L 369.988281 571.3125 L 848.375 571.3125 Z M 609.183594 358.6875 ",clipRule:"nonzero"})}),(0,n.jsx)("clipPath",{id:"cd184ededd",children:(0,n.jsx)("path",{d:"M 300.710938 631.613281 L 451.769531 631.613281 L 451.769531 786.273438 L 300.710938 786.273438 Z M 300.710938 631.613281 ",clipRule:"nonzero"})}),(0,n.jsx)("clipPath",{id:"b8b7be316d",children:(0,n.jsx)("path",{d:"M 484.769531 631.613281 L 743.480469 631.613281 L 743.480469 786.273438 L 484.769531 786.273438 Z M 484.769531 631.613281 ",clipRule:"nonzero"})}),(0,n.jsx)("clipPath",{id:"623e45c433",children:(0,n.jsx)("path",{d:"M 766.609375 631.613281 L 917.667969 631.613281 L 917.667969 786.273438 L 766.609375 786.273438 Z M 766.609375 631.613281 ",clipRule:"nonzero"})}),(0,n.jsx)("clipPath",{id:"f118308c68",children:(0,n.jsx)("path",{d:"M 950.667969 631.613281 L 1418.300781 631.613281 L 1418.300781 669.726562 L 950.667969 669.726562 Z M 950.667969 631.613281 ",clipRule:"nonzero"})}),(0,n.jsx)("clipPath",{id:"d0cc3d7cb9",children:(0,n.jsx)("path",{d:"M 950.667969 686.671875 L 1263.296875 686.671875 L 1263.296875 711.863281 L 950.667969 711.863281 Z M 950.667969 686.671875 ",clipRule:"nonzero"})}),(0,n.jsx)("clipPath",{id:"57697b4ead",children:(0,n.jsx)("path",{d:"M 950.667969 729.113281 L 1263.296875 729.113281 L 1263.296875 754.308594 L 950.667969 754.308594 Z M 950.667969 729.113281 ",clipRule:"nonzero"})})]}),(0,n.jsx)("g",{clipPath:"url(#f19aabff22)",children:(0,n.jsx)("path",{className:"fill-muted",d:"M 24.410156 237.574219 L 267.410156 237.574219 L 267.410156 786.277344 L 24.410156 786.277344 Z M 24.410156 237.574219 ",fillOpacity:"1",fillRule:"nonzero"})}),(0,n.jsx)("g",{clipPath:"url(#774fba0edd)",children:(0,n.jsx)("path",{className:"fill-muted",d:"M 1418.949219 17.925781 L 1418.949219 211.273438 L 24.40625 211.273438 L 24.40625 17.925781 Z M 1418.949219 17.925781 ",fillOpacity:"1",fillRule:"nonzero"})}),(0,n.jsx)("g",{clipPath:"url(#c14bc46e9b)",children:(0,n.jsx)("path",{className:"fill-muted",d:"M 951.316406 237.574219 L 1418.953125 237.574219 L 1418.953125 447.5625 L 951.316406 447.5625 Z M 951.316406 237.574219 ",fillOpacity:"1",fillRule:"nonzero"})}),(0,n.jsx)("g",{clipPath:"url(#fc27728001)",children:(0,n.jsx)("path",{className:"fill-muted",d:"M 951.316406 473.8125 L 1418.953125 473.8125 L 1418.953125 511.925781 L 951.316406 511.925781 Z M 951.316406 473.8125 ",fillOpacity:"1",fillRule:"nonzero"})}),(0,n.jsx)("g",{clipPath:"url(#51fb5d13a0)",children:(0,n.jsx)("path",{className:"fill-muted",d:"M 951.316406 528.871094 L 1263.949219 528.871094 L 1263.949219 554.0625 L 951.316406 554.0625 Z M 951.316406 528.871094 ",fillOpacity:"1",fillRule:"nonzero"})}),(0,n.jsx)("g",{clipPath:"url(#ee285f2161)",children:(0,n.jsx)("path",{className:"fill-muted",d:"M 951.316406 571.3125 L 1263.949219 571.3125 L 1263.949219 596.507812 L 951.316406 596.507812 Z M 951.316406 571.3125 ",fillOpacity:"1",fillRule:"nonzero"})}),(0,n.jsx)("g",{clipPath:"url(#f0ea2710d2)",children:(0,n.jsx)("path",{className:"fill-muted",d:"M 300.710938 237.574219 L 917.667969 237.574219 L 917.667969 596.507812 L 300.710938 596.507812 Z M 300.710938 237.574219 ",fillOpacity:"1",fillRule:"nonzero"})}),(0,n.jsx)("g",{clipPath:"url(#47018aba58)",children:(0,n.jsx)("g",{clipPath:"url(#a9cfaa9a53)",children:(0,n.jsx)("path",{className:"fill-background",d:"M 320.597656 256.882812 L 468.714844 256.882812 L 468.714844 405 L 320.597656 405 Z M 320.597656 256.882812 ",fillOpacity:"1",fillRule:"nonzero"})})}),(0,n.jsx)("g",{clipPath:"url(#08a9aa736e)",children:(0,n.jsx)("g",{clipPath:"url(#f7b7fea623)",children:(0,n.jsx)("path",{className:"fill-background",d:"M 848.375 571.3125 L 369.988281 571.3125 L 369.988281 358.6875 L 848.375 358.6875 Z M 848.375 571.3125 ",fillOpacity:"1",fillRule:"nonzero"})})}),(0,n.jsx)("g",{clipPath:"url(#cd184ededd)",children:(0,n.jsx)("path",{className:"fill-muted",d:"M 300.710938 631.613281 L 451.769531 631.613281 L 451.769531 786.277344 L 300.710938 786.277344 Z M 300.710938 631.613281 ",fillOpacity:"1",fillRule:"nonzero"})}),(0,n.jsx)("g",{clipPath:"url(#b8b7be316d)",children:(0,n.jsx)("path",{className:"fill-muted",d:"M 484.769531 631.613281 L 743.480469 631.613281 L 743.480469 786.277344 L 484.769531 786.277344 Z M 484.769531 631.613281 ",fillOpacity:"1",fillRule:"nonzero"})}),(0,n.jsx)("g",{clipPath:"url(#623e45c433)",children:(0,n.jsx)("path",{className:"fill-muted",d:"M 766.609375 631.613281 L 917.667969 631.613281 L 917.667969 786.277344 L 766.609375 786.277344 Z M 766.609375 631.613281 ",fillOpacity:"1",fillRule:"nonzero"})}),(0,n.jsx)("g",{clipPath:"url(#f118308c68)",children:(0,n.jsx)("path",{className:"fill-muted",d:"M 950.667969 631.613281 L 1418.300781 631.613281 L 1418.300781 669.726562 L 950.667969 669.726562 Z M 950.667969 631.613281 ",fillOpacity:"1",fillRule:"nonzero"})}),(0,n.jsx)("g",{clipPath:"url(#d0cc3d7cb9)",children:(0,n.jsx)("path",{className:"fill-muted",d:"M 950.667969 686.671875 L 1263.296875 686.671875 L 1263.296875 711.863281 L 950.667969 711.863281 Z M 950.667969 686.671875 ",fillOpacity:"1",fillRule:"nonzero"})}),(0,n.jsx)("g",{clipPath:"url(#57697b4ead)",children:(0,n.jsx)("path",{className:"fill-muted",d:"M 950.667969 729.113281 L 1263.296875 729.113281 L 1263.296875 754.308594 L 950.667969 754.308594 Z M 950.667969 729.113281 ",fillOpacity:"1",fillRule:"nonzero"})})]}),J=(0,b.default)("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);var V=e.i(263488),X=e.i(174080);let Q=({activePage:e,funnelPage:t,index:l})=>{let[s,r]=(0,a.useState)(null);return(0,a.useEffect)(()=>{r(document.getElementById("blur-page"))},[]),(0,n.jsx)(G.Draggable,{draggableId:t.id.toString(),index:l,children:(a,l)=>{if(l.isDragging){let e=a.draggableProps.style?.left-300;a.draggableProps.style={...a.draggableProps.style,left:e}}let r=(0,n.jsxs)(i.Card,{className:"p-0 relative cursor-grab my-2",...a.draggableProps,...a.dragHandleProps,ref:a.innerRef,children:[(0,n.jsxs)(i.CardContent,{className:"p-0 flex items-center gap-4 flex-row",children:[(0,n.jsxs)("div",{className:"h-14 w-14 bg-muted flex items-center justify-center",children:[(0,n.jsx)(V.Mail,{}),(0,n.jsx)(J,{size:18,className:"absolute -bottom-2 text-primary"})]}),t.name]}),e&&(0,n.jsx)("div",{className:"w-2 top-2 right-2 h-2 absolute bg-emerald-500 rounded-full"})]});return s&&l.isDragging?(0,X.createPortal)(r,s):r}})};e.s(["default",0,({funnel:e,funnelId:l,pages:s,subaccountId:r})=>{let[o,d]=(0,a.useState)(s[0]),{setOpen:x}=(0,$.useModal)(),m=(0,g.useRouter)(),[f,b]=(0,a.useState)(s),[j,v]=(0,a.useState)(!1),[S,w]=(0,a.useState)(!1),k=async e=>{w(!0);try{let t=M(e);if(!t)return void(0,p.toast)({variant:"destructive",title:"Error",description:"Template not found"});let n=z(e),a=n?.name||"New Page",i=(0,y.v4)(),s=await (0,h.upsertFunnelPage)(r,{id:i,name:a,pathName:0===f.length?"":a.toLowerCase().replace(/\s+/g,"-"),order:f.length,content:JSON.stringify(t)},l);s&&(await (0,u.saveActivityLogsNotification)({agencyId:void 0,description:`Created a funnel page from template | ${a}`,subaccountId:r}),b([...f,s]),d(s),m.refresh(),(0,p.toast)({title:"Success",description:"Funnel page created from template"}))}catch(e){console.error(e),(0,p.toast)({variant:"destructive",title:"Error",description:"Failed to create page from template"})}finally{w(!1)}},P=async e=>{w(!0);try{let t=[];for(let n=0;n<e.pages.length;n++){let a=e.pages[n],i=M(a.templateId);if(!i)continue;let s=(0,y.v4)(),o=await (0,h.upsertFunnelPage)(r,{id:s,name:a.name,pathName:0===n&&0===f.length?"":a.pathName,order:f.length+n,content:JSON.stringify(i)},l);o&&t.push(o)}t.length>0&&(await (0,u.saveActivityLogsNotification)({agencyId:void 0,description:`Created ${t.length} funnel pages from ${e.name}`,subaccountId:r}),b([...f,...t]),d(t[0]),m.refresh(),(0,p.toast)({title:"Success",description:`Created ${t.length} pages from ${e.name}`}))}catch(e){console.error(e),(0,p.toast)({variant:"destructive",title:"Error",description:"Failed to create pages from starter kit"})}finally{w(!1)}};return(0,n.jsxs)(E.AlertDialog,{children:[(0,n.jsxs)("div",{className:"flex border-[1px] lg:!flex-row flex-col ",children:[(0,n.jsxs)("aside",{className:"flex-[0.3] bg-background p-6  flex flex-col justify-between ",children:[(0,n.jsxs)(T.ScrollArea,{className:"h-full ",children:[(0,n.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,n.jsx)(I.Check,{}),"Funnel Steps"]}),f.length?(0,n.jsx)(G.DragDropContext,{onDragEnd:e=>{let{destination:t,source:n}=e;if(!t||t.droppableId===n.droppableId&&t.index===n.index)return;let a=[...f].toSpliced(n.index,1).toSpliced(t.index,0,f[n.index]).map((e,t)=>({...e,order:t}));b(a),a.forEach(async(e,t)=>{try{await (0,h.upsertFunnelPage)(r,{id:e.id,order:t,name:e.name},l)}catch(e){console.log(e),(0,p.toast)({variant:"destructive",title:"Failed",description:"Could not save page order"});return}}),(0,p.toast)({title:"Success",description:"Saved page order"})},onDragStart:e=>{let{draggableId:t}=e;f.find(e=>e.id===t)},children:(0,n.jsx)(G.Droppable,{droppableId:"funnels",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,children:e=>(0,n.jsxs)("div",{...e.droppableProps,ref:e.innerRef,children:[f.map((e,t)=>(0,n.jsx)("div",{className:"relative",onClick:()=>d(e),children:(0,n.jsx)(Q,{funnelPage:e,index:t,activePage:e.id===o?.id},e.id)},e.id)),e.placeholder]})},"funnels")}):(0,n.jsx)("div",{className:"text-center text-muted-foreground py-6",children:"No Pages"})]}),(0,n.jsx)(c.Button,{className:"mt-4 w-full",disabled:S,onClick:()=>v(!0),children:S?"Creating...":"Create New Steps"})]}),(0,n.jsx)("aside",{className:"flex-[0.7] bg-muted p-4 ",children:f.length?(0,n.jsx)(i.Card,{className:"h-full flex justify-between flex-col",children:(0,n.jsxs)(i.CardHeader,{children:[(0,n.jsx)("p",{className:"text-sm text-muted-foreground",children:"Page name"}),(0,n.jsx)(i.CardTitle,{children:o?.name}),(0,n.jsxs)(i.CardDescription,{className:"flex flex-col gap-4",children:[(0,n.jsxs)("div",{className:"border-2 rounded-lg sm:w-80 w-full  overflow-clip",children:[(0,n.jsxs)(K.default,{href:`/subaccount/${r}/funnels/${l}/editor/${o?.id}`,className:"relative group",children:[(0,n.jsx)("div",{className:"cursor-pointer group-hover:opacity-30 w-full",children:(0,n.jsx)(q,{})}),(0,n.jsx)(U.default,{size:50,className:"!text-muted-foreground absolute top-1/2 left-1/2 opacity-0 transofrm -translate-x-1/2 -translate-y-1/2 group-hover:opacity-100 transition-all duration-100"})]}),(0,n.jsxs)(K.default,{target:"_blank",href:`${t.default.env.NEXT_PUBLIC_SCHEME}${e.subDomainName}.${t.default.env.NEXT_PUBLIC_DOMAIN}/${o?.pathName}`,className:"group flex items-center justify-start p-2 gap-2 hover:text-primary transition-colors duration-200",children:[(0,n.jsx)(Y.ExternalLink,{size:15}),(0,n.jsxs)("div",{className:"w-64 overflow-hidden overflow-ellipsis ",children:[t.default.env.NEXT_PUBLIC_SCHEME,e.subDomainName,".",t.default.env.NEXT_PUBLIC_DOMAIN,"/",o?.pathName]})]})]}),(0,n.jsx)(N,{subaccountId:r,defaultData:o,funnelId:l,order:o?.order||0})]})]})}):(0,n.jsx)("div",{className:"h-[600px] flex items-center justify-center text-muted-foreground",children:"Create a page to view page settings."})})]}),(0,n.jsx)(_,{isOpen:j,onClose:()=>v(!1),onSelectBlank:()=>{x((0,n.jsx)(C.default,{title:"Create a Funnel Page",subheading:"Funnel Pages allow you to create step by step processes for customers to follow",children:(0,n.jsx)(N,{subaccountId:r,funnelId:l,order:f.length})}))},onSelectTemplate:k,onSelectStarterKit:P})]})}],423189)}]);